/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "localhost:9000/secukit-html5/dialog/";
/******/ 	// WebpackRequireFrom
/******/ 	Object.defineProperty(__webpack_require__, "p", {
/******/ 	  get: function () {
/******/ 	try {
/******/ 	  if (typeof webnpki_config.ui !== "string") {
/******/ 	    throw new Error("WebpackRequireFrom: 'webnpki_config.ui' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");
/******/ 	  }
/******/ 	  return webnpki_config.ui;
/******/ 	} catch (e) {
/******/ 	  if (!false) {
/******/ 	    console.error(e);
/******/ 	  }
/******/ 	  return "localhost:9000/secukit-html5/dialog/";
/******/ 	}
/******/ 	 }
/******/ 	})
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 39);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], "{").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      // eslint-disable-next-line prefer-destructuring
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = modules[_i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = "(".concat(item[2], ") and (").concat(mediaQuery, ")");
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot).concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var stylesInDom = {};

var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

function listToStyles(list, options) {
  var styles = [];
  var newStyles = {};

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var css = item[1];
    var media = item[2];
    var sourceMap = item[3];
    var part = {
      css: css,
      media: media,
      sourceMap: sourceMap
    };

    if (!newStyles[id]) {
      styles.push(newStyles[id] = {
        id: id,
        parts: [part]
      });
    } else {
      newStyles[id].parts.push(part);
    }
  }

  return styles;
}

function addStylesToDom(styles, options) {
  for (var i = 0; i < styles.length; i++) {
    var item = styles[i];
    var domStyle = stylesInDom[item.id];
    var j = 0;

    if (domStyle) {
      domStyle.refs++;

      for (; j < domStyle.parts.length; j++) {
        domStyle.parts[j](item.parts[j]);
      }

      for (; j < item.parts.length; j++) {
        domStyle.parts.push(addStyle(item.parts[j], options));
      }
    } else {
      var parts = [];

      for (; j < item.parts.length; j++) {
        parts.push(addStyle(item.parts[j], options));
      }

      stylesInDom[item.id] = {
        id: item.id,
        refs: 1,
        parts: parts
      };
    }
  }
}

function insertStyleElement(options) {
  var style = document.createElement('style');

  if (typeof options.attributes.nonce === 'undefined') {
    var nonce =  true ? __webpack_require__.nc : undefined;

    if (nonce) {
      options.attributes.nonce = nonce;
    }
  }

  Object.keys(options.attributes).forEach(function (key) {
    style.setAttribute(key, options.attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  }

  if (sourceMap && btoa) {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {};
  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  var styles = listToStyles(list, options);
  addStylesToDom(styles, options);
  return function update(newList) {
    var mayRemove = [];

    for (var i = 0; i < styles.length; i++) {
      var item = styles[i];
      var domStyle = stylesInDom[item.id];

      if (domStyle) {
        domStyle.refs--;
        mayRemove.push(domStyle);
      }
    }

    if (newList) {
      var newStyles = listToStyles(newList, options);
      addStylesToDom(newStyles, options);
    }

    for (var _i = 0; _i < mayRemove.length; _i++) {
      var _domStyle = mayRemove[_i];

      if (_domStyle.refs === 0) {
        for (var j = 0; j < _domStyle.parts.length; j++) {
          _domStyle.parts[j]();
        }

        delete stylesInDom[_domStyle.id];
      }
    }
  };
};

/***/ }),
/* 2 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
    PDFObject v2.1.1
    https://github.com/pipwerks/PDFObject
    Copyright (c) 2008-2018 Philip Hutchison
    MIT-style license: http://pipwerks.mit-license.org/
    UMD module pattern from https://github.com/umdjs/umd/blob/master/templates/returnExports.js
*/

(function(root,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}else {}}(this,function(){"use strict";if(typeof window==="undefined"||typeof navigator==="undefined"){return false;}
var pdfobjectversion="2.1.1",ua=window.navigator.userAgent,supportsPDFs,isIE,supportsPdfMimeType=(typeof navigator.mimeTypes['application/pdf']!=="undefined"),supportsPdfActiveX,isModernBrowser=(function(){return(typeof window.Promise!=="undefined");})(),isFirefox=(function(){return(ua.indexOf("irefox")!==-1);})(),isFirefoxWithPDFJS=(function(){if(!isFirefox){return false;}
return(parseInt(ua.split("rv:")[1].split(".")[0],10)>18);})(),isIOS=(function(){return(/iphone|ipad|ipod/i.test(ua.toLowerCase()));})(),createAXO,buildFragmentString,log,embedError,embed,getTargetElement,generatePDFJSiframe,generateEmbedElement;createAXO=function(type){var ax;try{ax=new ActiveXObject(type);}catch(e){ax=null;}
return ax;};isIE=function(){return!!(window.ActiveXObject||"ActiveXObject"in window);};supportsPdfActiveX=function(){return!!(createAXO("AcroPDF.PDF")||createAXO("PDF.PdfCtrl"));};supportsPDFs=(!isIOS&&(isFirefoxWithPDFJS||supportsPdfMimeType||(isIE()&&supportsPdfActiveX())));buildFragmentString=function(pdfParams){var string="",prop;if(pdfParams){for(prop in pdfParams){if(pdfParams.hasOwnProperty(prop)){string+=encodeURIComponent(prop)+"="+encodeURIComponent(pdfParams[prop])+"&";}}
if(string){string="#"+string;string=string.slice(0,string.length-1);}}
return string;};log=function(msg){if(typeof console!=="undefined"&&console.log){console.log("[PDFObject] "+msg);}};embedError=function(msg){log(msg);return false;};getTargetElement=function(targetSelector){var targetNode=document.body;if(typeof targetSelector==="string"){targetNode=document.querySelector(targetSelector);}else if(typeof jQuery!=="undefined"&&targetSelector instanceof jQuery&&targetSelector.length){targetNode=targetSelector.get(0);}else if(typeof targetSelector.nodeType!=="undefined"&&targetSelector.nodeType===1){targetNode=targetSelector;}
return targetNode;};generatePDFJSiframe=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id){var fullURL=PDFJS_URL+"?file="+encodeURIComponent(url)+pdfOpenFragment;var scrollfix=(isIOS)?"-webkit-overflow-scrolling: touch; overflow-y: scroll; ":"overflow: hidden; ";var iframe="<div style='"+scrollfix+"position: absolute; top: 0; right: 0; bottom: 0; left: 0;'><iframe  "+id+" src='"+fullURL+"' style='border: none; width: 100%; height: 100%;' frameborder='0'></iframe></div>";targetNode.className+=" pdfobject-container";targetNode.style.position="relative";targetNode.style.overflow="auto";targetNode.innerHTML=iframe;return targetNode.getElementsByTagName("iframe")[0];};generateEmbedElement=function(targetNode,targetSelector,url,pdfOpenFragment,width,height,id){var style="";if(targetSelector&&targetSelector!==document.body){style="width: "+width+"; height: "+height+";";}else{style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;";}
targetNode.className+=" pdfobject-container";targetNode.innerHTML="<embed "+id+" class='pdfobject' src='"+url+pdfOpenFragment+"' type='application/pdf' style='overflow: auto; "+style+"'/>";return targetNode.getElementsByTagName("embed")[0];};embed=function(url,targetSelector,options){if(typeof url!=="string"){return embedError("URL is not valid");}
targetSelector=(typeof targetSelector!=="undefined")?targetSelector:false;options=(typeof options!=="undefined")?options:{};var id=(options.id&&typeof options.id==="string")?"id='"+options.id+"'":"",page=(options.page)?options.page:false,pdfOpenParams=(options.pdfOpenParams)?options.pdfOpenParams:{},fallbackLink=(typeof options.fallbackLink!=="undefined")?options.fallbackLink:true,width=(options.width)?options.width:"100%",height=(options.height)?options.height:"100%",assumptionMode=(typeof options.assumptionMode==="boolean")?options.assumptionMode:true,forcePDFJS=(typeof options.forcePDFJS==="boolean")?options.forcePDFJS:false,PDFJS_URL=(options.PDFJS_URL)?options.PDFJS_URL:false,targetNode=getTargetElement(targetSelector),fallbackHTML="",pdfOpenFragment="",fallbackHTML_default="<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>";if(!targetNode){return embedError("Target element cannot be determined");}
if(page){pdfOpenParams.page=page;}
pdfOpenFragment=buildFragmentString(pdfOpenParams);if(forcePDFJS&&PDFJS_URL){return generatePDFJSiframe(targetNode,url,pdfOpenFragment,PDFJS_URL,id);}else if(supportsPDFs||(assumptionMode&&isModernBrowser&&!isIOS)){return generateEmbedElement(targetNode,targetSelector,url,pdfOpenFragment,width,height,id);}else if(PDFJS_URL){return generatePDFJSiframe(targetNode,url,pdfOpenFragment,PDFJS_URL,id);}else{if(fallbackLink){fallbackHTML=(typeof fallbackLink==="string")?fallbackLink:fallbackHTML_default;targetNode.innerHTML=fallbackHTML.replace(/\[url\]/g,url);}
return embedError("This browser does not support embedded PDFs");}};return{embed:function(a,b,c){return embed(a,b,c);},pdfobjectversion:(function(){return pdfobjectversion;})(),supportsPDFs:(function(){return supportsPDFs;})()};}));

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! jQuery UI Virtual Keyboard v1.30.1 *//*
Author: Jeremy Satterfield
Maintained: Rob Garrison (Mottie on github)
Licensed under the MIT License

An on-screen virtual keyboard embedded within the browser window which
will popup when a specified entry field is focused. The user can then
type and preview their input before Accepting or Canceling.

This plugin adds default class names to match jQuery UI theme styling.
Bootstrap & custom themes may also be applied - See
https://github.com/Mottie/Keyboard#themes

Requires:
	jQuery v1.4.3+
	Caret plugin (included)
Optional:
	jQuery UI (position utility only) & CSS theme
	jQuery mousewheel

Setup/Usage:
	Please refer to https://github.com/Mottie/Keyboard/wiki

-----------------------------------------
Caret code modified from jquery.caret.1.02.js
Licensed under the MIT License:
http://www.opensource.org/licenses/mit-license.php
-----------------------------------------
*/
/*jshint browser:true, jquery:true, unused:false */
/*global require:false, define:false, module:false */
;(function (factory) {
	if (true) {
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(5)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}(function ($) {
	'use strict';
	var $keyboard = $.keyboard = function (el, options) {
	var o, base = this;

	base.version = '1.30.1';

	// Access to jQuery and DOM versions of element
	base.$el = $(el);
	base.el = el;

	// Add a reverse reference to the DOM object
	base.$el.data('keyboard', base);

	base.init = function () {
		base.initialized = false;
		var k, position, tmp,
			kbcss = $keyboard.css,
			kbevents = $keyboard.events;
		base.settings = options || {};
		// shallow copy position to prevent performance issues; see #357
		if (options && options.position) {
			position = $.extend({}, options.position);
			options.position = null;
		}
		base.options = o = $.extend(true, {}, $keyboard.defaultOptions, options);
		if (position) {
			o.position = position;
			options.position = position;
		}

		// keyboard is active (not destroyed);
		base.el.active = true;
		// unique keyboard namespace
		base.namespace = '.keyboard' + Math.random().toString(16).slice(2);
		// extension namespaces added here (to unbind listeners on base.$el upon destroy)
		base.extensionNamespace = [];
		// Shift and Alt key toggles, sets is true if a layout has more than one keyset
		// used for mousewheel message
		base.shiftActive = base.altActive = base.metaActive = base.sets = base.capsLock = false;
		// Class names of the basic key set - meta keysets are handled by the keyname
		base.rows = ['', '-shift', '-alt', '-alt-shift'];

		base.inPlaceholder = base.$el.attr('placeholder') || '';
		// html 5 placeholder/watermark
		base.watermark = $keyboard.watermark && base.inPlaceholder !== '';
		// convert mouse repeater rate (characters per second) into a time in milliseconds.
		base.repeatTime = 1000 / (o.repeatRate || 20);
		// delay in ms to prevent mousedown & touchstart from both firing events at the same time
		o.preventDoubleEventTime = o.preventDoubleEventTime || 100;
		// flag indication that a keyboard is open
		base.isOpen = false;
		// is mousewheel plugin loaded?
		base.wheel = typeof $.fn.mousewheel === 'function';
		// special character in regex that need to be escaped
		base.escapeRegex = /[-\/\\^$*+?.()|[\]{}]/g;
		base.isTextArea = base.el.nodeName.toLowerCase() === 'textarea';
		base.isInput = base.el.nodeName.toLowerCase() === 'input';
		// detect contenteditable
		base.isContentEditable = !base.isTextArea &&
			!base.isInput &&
			base.el.isContentEditable;

		// keyCode of keys always allowed to be typed
		k = $keyboard.keyCodes;
		// base.alwaysAllowed = [20,33,34,35,36,37,38,39,40,45,46];
		base.alwaysAllowed = [
			k.capsLock,
			k.pageUp,
			k.pageDown,
			k.end,
			k.home,
			k.left,
			k.up,
			k.right,
			k.down,
			k.insert,
			k.delete
		];
		base.$keyboard = [];
		// keyboard enabled; set to false on destroy
		base.enabled = true;

		base.checkCaret = (o.lockInput || $keyboard.checkCaretSupport());

		// disable problematic usePreview for contenteditable
		if (base.isContentEditable) {
			o.usePreview = false;
		}

		base.last = {
			start: 0,
			end: 0,
			key: '',
			val: '',
			preVal: '',
			layout: '',
			virtual: true,
			keyset: [false, false, false], // [shift, alt, meta]
			wheel_$Keys: [],
			wheelIndex: 0,
			wheelLayers: []
		};
		// used when building the keyboard - [keyset element, row, index]
		base.temp = ['', 0, 0];

		// Callbacks
		$.each([
			kbevents.kbInit,
			kbevents.kbBeforeVisible,
			kbevents.kbVisible,
			kbevents.kbHidden,
			kbevents.inputCanceled,
			kbevents.inputAccepted,
			kbevents.kbBeforeClose,
			kbevents.inputRestricted
		], function (i, callback) {
			if (typeof o[callback] === 'function') {
				// bind callback functions within options to triggered events
				base.$el.bind(callback + base.namespace + 'callbacks', o[callback]);
			}
		});

		// Close with esc key & clicking outside
		if (o.alwaysOpen) {
			o.stayOpen = true;
		}

		tmp = $(document);
		if (base.el.ownerDocument !== document) {
			tmp = tmp.add(base.el.ownerDocument);
		}

		var bindings = 'keyup checkkeyboard mousedown touchstart ';
		if (o.closeByClickEvent) {
			bindings += 'click ';
		}
		// debounce bindings... see #542
		tmp.bind(bindings.split(' ').join(base.namespace + ' '), function(e) {
			clearTimeout(base.timer3);
			base.timer3 = setTimeout(function() {
				base.checkClose(e);
			}, 1);
		});

		// Display keyboard on focus
		base.$el
			.addClass(kbcss.input + ' ' + o.css.input)
			.attr({
				'aria-haspopup': 'true',
				'role': 'textbox'
			});

		// set lockInput if the element is readonly; or make the element readonly if lockInput is set
		if (o.lockInput || base.el.readOnly) {
			o.lockInput = true;
			base.$el
				.addClass(kbcss.locked)
				.attr({
					'readonly': 'readonly'
				});
		}
		// add disabled/readonly class - dynamically updated on reveal
		if (base.isUnavailable()) {
			base.$el.addClass(kbcss.noKeyboard);
		}
		if (o.openOn) {
			base.bindFocus();
		}

		// Add placeholder if not supported by the browser
		if (
			!base.watermark &&
			base.getValue(base.$el) === '' &&
			base.inPlaceholder !== '' &&
			base.$el.attr('placeholder') !== ''
		) {
			// css watermark style (darker text)
			base.$el.addClass(kbcss.placeholder);
			base.setValue(base.inPlaceholder, base.$el);
		}

		base.$el.trigger(kbevents.kbInit, [base, base.el]);

		// initialized with keyboard open
		if (o.alwaysOpen) {
			base.reveal();
		}
		base.initialized = true;
	};

	base.toggle = function () {
		if (!base.hasKeyboard()) { return; }
		var $toggle = base.$keyboard.find('.' + $keyboard.css.keyToggle),
			locked = !base.enabled;
		// prevent physical keyboard from working
		base.preview.readonly = locked || base.options.lockInput;
		// disable all buttons
		base.$keyboard
			.toggleClass($keyboard.css.keyDisabled, locked)
			.find('.' + $keyboard.css.keyButton)
			.not($toggle)
			.attr('aria-disabled', locked)
			.each(function() {
				this.disabled = locked;
			});
		$toggle.toggleClass($keyboard.css.keyDisabled, locked);
		// stop auto typing
		if (locked && base.typing_options) {
			base.typing_options.text = '';
		}
		// allow chaining
		return base;
	};

	base.setCurrent = function () {
		var kbcss = $keyboard.css,
			// close any "isCurrent" keyboard (just in case they are always open)
			$current = $('.' + kbcss.isCurrent),
			kb = $current.data('keyboard');
		// close keyboard, if not self
		if (!$.isEmptyObject(kb) && kb.el !== base.el) {
			kb.close(kb.options.autoAccept ? 'true' : false);
		}
		$current.removeClass(kbcss.isCurrent);
		// ui-keyboard-has-focus is applied in case multiple keyboards have
		// alwaysOpen = true and are stacked
		$('.' + kbcss.hasFocus).removeClass(kbcss.hasFocus);

		base.$el.addClass(kbcss.isCurrent);
		base.$preview.focus();
		base.$keyboard.addClass(kbcss.hasFocus);
		base.isCurrent(true);
		base.isOpen = true;
	};

	base.isUnavailable = function() {
		return (
			base.$el.is(':disabled') || (
				!base.options.activeOnReadonly &&
				base.$el.attr('readonly') &&
				!base.$el.hasClass($keyboard.css.locked)
			)
		);
	};

	base.isCurrent = function (set) {
		var cur = $keyboard.currentKeyboard || false;
		if (set) {
			cur = $keyboard.currentKeyboard = base.el;
		} else if (set === false && cur === base.el) {
			cur = $keyboard.currentKeyboard = '';
		}
		return cur === base.el;
	};

	base.hasKeyboard = function () {
		return base.$keyboard && base.$keyboard.length > 0;
	};

	base.isVisible = function () {
		return base.hasKeyboard() ? base.$keyboard.is(':visible') : false;
	};

	base.setFocus = function () {
		var $el = base.$preview || base.$el;
		if (!o.noFocus) {
			$el.focus();
		}
		if (base.isContentEditable) {
			$keyboard.setEditableCaret($el, base.last.start, base.last.end);
		} else {
			$keyboard.caret($el, base.last);
		}
	};

	base.focusOn = function () {
		if (!base && base.el.active) {
			// keyboard was destroyed
			return;
		}
		if (!base.isVisible()) {
			clearTimeout(base.timer);
			base.reveal();
		} else {
			// keyboard already open, make it the current keyboard
			base.setCurrent();
		}
	};

	// add redraw method to make API more clear
	base.redraw = function (layout) {
		if (layout) {
			// allow updating the layout by calling redraw
			base.options.layout = layout;
		}
		// update keyboard after a layout change
		if (base.$keyboard.length) {

			base.last.preVal = '' + base.last.val;
			base.saveLastChange();
			base.setValue(base.last.val, base.$el);

			base.removeKeyboard();
			base.shiftActive = base.altActive = base.metaActive = false;
		}
		base.isOpen = o.alwaysOpen;
		base.reveal(true);
		return base;
	};

	base.reveal = function (redraw) {
		var temp,
			alreadyOpen = base.isOpen,
			kbcss = $keyboard.css;
		base.opening = !alreadyOpen;
		// remove all 'extra' keyboards by calling close function
		$('.' + kbcss.keyboard).not('.' + kbcss.alwaysOpen).each(function(){
			var kb = $(this).data('keyboard');
			if (!$.isEmptyObject(kb)) {
				// this closes previous keyboard when clicking another input - see #515
				kb.close(kb.options.autoAccept ? 'true' : false);
			}
		});

		// Don't open if disabled
		if (base.isUnavailable()) {
			return;
		}
		base.$el.removeClass(kbcss.noKeyboard);

		// Unbind focus to prevent recursion - openOn may be empty if keyboard is opened externally
		if (o.openOn) {
			base.$el.unbind($.trim((o.openOn + ' ').split(/\s+/).join(base.namespace + ' ')));
		}

		// build keyboard if it doesn't exist; or attach keyboard if it was removed, but not cleared
		if (!base.$keyboard || base.$keyboard &&
			(!base.$keyboard.length || $.contains(base.el.ownerDocument.body, base.$keyboard[0]))) {
			base.startup();
		}

		// clear watermark
		if (!base.watermark && base.getValue() === base.inPlaceholder) {
			base.$el.removeClass(kbcss.placeholder);
			base.setValue('', base.$el);
		}
		// save starting content, in case we cancel
		base.originalContent = base.isContentEditable ?
			base.$el.html() :
			base.getValue(base.$el);
		if (base.el !== base.preview && !base.isContentEditable) {
			base.setValue(base.originalContent);
		}

		// disable/enable accept button
		if (o.acceptValid && o.checkValidOnInit) {
			base.checkValid();
		}

		if (o.resetDefault) {
			base.shiftActive = base.altActive = base.metaActive = false;
		}
		base.showSet();

		// beforeVisible event
		if (!base.isVisible()) {
			base.$el.trigger($keyboard.events.kbBeforeVisible, [base, base.el]);
		}
		if (
			base.initialized ||
			o.initialFocus ||
			( !o.initialFocus && base.$el.hasClass($keyboard.css.initialFocus) )
		) {
			base.setCurrent();
		}
		// update keyboard - enabled or disabled?
		base.toggle();

		// show keyboard
		base.$keyboard.show();

		// adjust keyboard preview window width - save width so IE won't keep expanding (fix issue #6)
		if (o.usePreview && $keyboard.msie) {
			if (typeof base.width === 'undefined') {
				base.$preview.hide(); // preview is 100% browser width in IE7, so hide the damn thing
				base.width = Math.ceil(base.$keyboard.width()); // set input width to match the widest keyboard row
				base.$preview.show();
			}
			base.$preview.width(base.width);
		}

		base.reposition();

		base.checkDecimal();

		// get preview area line height
		// add roughly 4px to get line height from font height, works well for font-sizes from 14-36px
		// needed for textareas
		base.lineHeight = parseInt(base.$preview.css('lineHeight'), 10) ||
			parseInt(base.$preview.css('font-size'), 10) + 4;

		if (o.caretToEnd) {
			temp = base.isContentEditable ? $keyboard.getEditableLength(base.el) : base.originalContent.length;
			base.saveCaret(temp, temp);
		}

		// IE caret haxx0rs
		if ($keyboard.allie) {
			// sometimes end = 0 while start is > 0
			if (base.last.end === 0 && base.last.start > 0) {
				base.last.end = base.last.start;
			}
			// IE will have start -1, end of 0 when not focused (see demo: https://jsfiddle.net/Mottie/fgryQ/3/)
			if (base.last.start < 0) {
				// ensure caret is at the end of the text (needed for IE)
				base.last.start = base.last.end = base.originalContent.length;
			}
		}

		if (alreadyOpen || redraw) {
			// restore caret position (userClosed)
			$keyboard.caret(base.$preview, base.last);
			base.opening = false;
			return base;
		}

		// opening keyboard flag; delay allows switching between keyboards without immediately closing
		// the keyboard
		base.timer2 = setTimeout(function () {
			var undef;
			base.opening = false;
			// Number inputs don't support selectionStart and selectionEnd
			// Number/email inputs don't support selectionStart and selectionEnd
			if (!/(number|email)/i.test(base.el.type) && !o.caretToEnd) {
				// caret position is always 0,0 in webkit; and nothing is focused at this point... odd
				// save caret position in the input to transfer it to the preview
				// inside delay to get correct caret position
				base.saveCaret(undef, undef, base.$el);
			}
			if (o.initialFocus || base.$el.hasClass($keyboard.css.initialFocus)) {
				$keyboard.caret(base.$preview, base.last);
			}
			// save event time for keyboards with stayOpen: true
			base.last.eventTime = new Date().getTime();
			base.$el.trigger($keyboard.events.kbVisible, [base, base.el]);
			base.timer = setTimeout(function () {
				// get updated caret information after visible event - fixes #331
				if (base) { // Check if base exists, this is a case when destroy is called, before timers fire
					base.saveCaret();
				}
			}, 200);
		}, 10);
		// return base to allow chaining in typing extension
		return base;
	};

	base.updateLanguage = function () {
		// change language if layout is named something like 'french-azerty-1'
		var layouts = $keyboard.layouts,
			lang = o.language || layouts[o.layout] && layouts[o.layout].lang &&
				layouts[o.layout].lang || [o.language || 'en'],
			kblang = $keyboard.language;

		// some languages include a dash, e.g. 'en-gb' or 'fr-ca'
		// allow o.language to be a string or array...
		// array is for future expansion where a layout can be set for multiple languages
		lang = (Object.prototype.toString.call(lang) === '[object Array]' ? lang[0] : lang);
		base.language = lang;
		lang = lang.split('-')[0];

		// set keyboard language
		o.display = $.extend(true, {},
			kblang.en.display,
			kblang[lang] && kblang[lang].display || {},
			base.settings.display
		);
		o.combos = $.extend(true, {},
			kblang.en.combos,
			kblang[lang] && kblang[lang].combos || {},
			base.settings.combos
		);
		o.wheelMessage = kblang[lang] && kblang[lang].wheelMessage || kblang.en.wheelMessage;
		// rtl can be in the layout or in the language definition; defaults to false
		o.rtl = layouts[o.layout] && layouts[o.layout].rtl || kblang[lang] && kblang[lang].rtl || false;

		// save default regex (in case loading another layout changes it)
		if (kblang[lang] && kblang[lang].comboRegex) {
			base.regex = kblang[lang].comboRegex;
		}
		// determine if US '.' or European ',' system being used
		base.decimal = /^\./.test(o.display.dec);
		base.$el
			.toggleClass('rtl', o.rtl)
			.css('direction', o.rtl ? 'rtl' : '');
	};

	base.startup = function () {
		var kbcss = $keyboard.css;
		// ensure base.$preview is defined; but don't overwrite it if keyboard is always visible
		if (!((o.alwaysOpen || o.userClosed) && base.$preview)) {
			base.makePreview();
		}
		if (!base.hasKeyboard()) {
			// custom layout - create a unique layout name based on the hash
			if (o.layout === 'custom') {
				o.layoutHash = 'custom' + base.customHash();
			}
			base.layout = o.layout === 'custom' ? o.layoutHash : o.layout;
			base.last.layout = base.layout;

			base.updateLanguage();
			if (typeof $keyboard.builtLayouts[base.layout] === 'undefined') {
				if (typeof o.create === 'function') {
					// create must call buildKeyboard() function; or create it's own keyboard
					base.$keyboard = o.create(base);
				} else if (!base.$keyboard.length) {
					base.buildKeyboard(base.layout, true);
				}
			}
			base.$keyboard = $keyboard.builtLayouts[base.layout].$keyboard.clone();
			base.$keyboard.data('keyboard', base);
			if ((base.el.id || '') !== '') {
				// add ID to keyboard for styling purposes
				base.$keyboard.attr('id', base.el.id + $keyboard.css.idSuffix);
			}

			base.makePreview();
		}

		// Add layout and laguage data-attibutes
		base.$keyboard
			.attr('data-' + kbcss.keyboard + '-layout', o.layout)
			.attr('data-' + kbcss.keyboard + '-language', base.language);

		base.$decBtn = base.$keyboard.find('.' + kbcss.keyPrefix + 'dec');
		// add enter to allowed keys; fixes #190
		if (o.enterNavigation || base.isTextArea) {
			base.alwaysAllowed.push($keyboard.keyCodes.enter);
		}

		base.bindKeyboard();

		base.$keyboard.appendTo(o.appendLocally ? base.$el.parent() : o.appendTo || 'body');

		base.bindKeys();

		// reposition keyboard on window resize
		if (o.reposition && $.ui && $.ui.position && o.appendTo === 'body') {
			$(window).bind('resize' + base.namespace, function () {
				base.reposition();
			});
		}

	};

	base.reposition = function () {
		base.position = $.isEmptyObject(o.position) ? false : o.position;
		// position after keyboard is visible (required for UI position utility)
		// and appropriately sized
		if ($.ui && $.ui.position && base.position) {
			base.position.of =
				// get single target position
				base.position.of ||
				// OR target stored in element data (multiple targets)
				base.$el.data('keyboardPosition') ||
				// OR default @ element
				base.$el;
			base.position.collision = base.position.collision || 'flipfit flipfit';
			base.position.at = o.usePreview ? o.position.at : o.position.at2;
			if (base.isVisible()) {
				base.$keyboard.position(base.position);
			}
		}
		// make chainable
		return base;
	};

	base.makePreview = function () {
		if (o.usePreview) {
			var indx, attrs, attr, removedAttr,
				kbcss = $keyboard.css;
			base.$preview = base.$el.clone(false)
				.data('keyboard', base)
				.removeClass(kbcss.placeholder + ' ' + kbcss.input)
				.addClass(kbcss.preview + ' ' + o.css.input)
				.attr('tabindex', '-1')
				.show(); // for hidden inputs
			base.preview = base.$preview[0];

			// Switch the number input field to text so the caret positioning will work again
			if (base.preview.type === 'number') {
				base.preview.type = 'text';
			}

			// remove extraneous attributes.
			removedAttr = /^(data-|id|aria-haspopup)/i;
			attrs = base.$preview.get(0).attributes;
			for (indx = attrs.length - 1; indx >= 0; indx--) {
				attr = attrs[indx] && attrs[indx].name;
				if (removedAttr.test(attr)) {
					// remove data-attributes - see #351
					base.preview.removeAttribute(attr);
				}
			}
			// build preview container and append preview display
			$('<div />')
				.addClass(kbcss.wrapper)
				.append(base.$preview)
				.prependTo(base.$keyboard);
		} else {
			base.$preview = base.$el;
			base.preview = base.el;
		}
	};

	// Added in v1.26.8 to allow chaining of the caret function, e.g.
	// keyboard.reveal().caret(4,5).insertText('test').caret('end');
	base.caret = function(param1, param2) {
		var result = $keyboard.caret(base.$preview, param1, param2),
			wasSetCaret = result instanceof $;
		// Caret was set, save last position & make chainable
		if (wasSetCaret) {
			base.saveCaret(result.start, result.end);
			return base;
		}
		// return caret position if using .caret()
		return result;
	};

	base.saveCaret = function (start, end, $el) {
		if (base.isCurrent()) {
			var p;
			if (typeof start === 'undefined') {
				// grab & save current caret position
				p = $keyboard.caret($el || base.$preview);
			} else {
				p = $keyboard.caret($el || base.$preview, start, end);
			}
			base.last.start = typeof start === 'undefined' ? p.start : start;
			base.last.end = typeof end === 'undefined' ? p.end : end;
		}
	};

	base.saveLastChange = function (val) {
		base.last.val = val || base.getValue(base.$preview || base.$el);
		if (base.isContentEditable) {
			base.last.elms = base.el.cloneNode(true);
		}
	};

	base.setScroll = function () {
		// Set scroll so caret & current text is in view
		// needed for virtual keyboard typing, NOT manual typing - fixes #23
		if (!base.isContentEditable && base.last.virtual) {

			var scrollWidth, clientWidth, adjustment, direction,
				value = base.last.val.substring(0, Math.max(base.last.start, base.last.end));

			if (!base.$previewCopy) {
				// clone preview
				base.$previewCopy = base.$preview.clone()
					.removeAttr('id') // fixes #334
					.css({
						position: 'absolute',
						left: 0,
						zIndex: -10,
						visibility: 'hidden'
					})
					.addClass($keyboard.css.inputClone);
				// prevent submitting content on form submission
				base.$previewCopy[0].disabled = true;
				if (!base.isTextArea) {
					// make input zero-width because we need an accurate scrollWidth
					base.$previewCopy.css({
						'white-space': 'pre',
						'width': 0
					});
				}
				if (o.usePreview) {
					// add clone inside of preview wrapper
					base.$preview.after(base.$previewCopy);
				} else {
					// just slap that thing in there somewhere
					base.$keyboard.prepend(base.$previewCopy);
				}
			}

			if (base.isTextArea) {
				// need the textarea scrollHeight, so set the clone textarea height to be the line height
				base.$previewCopy
					.height(base.lineHeight)
					.val(value);
				// set scrollTop for Textarea
				base.preview.scrollTop = base.lineHeight *
					(Math.floor(base.$previewCopy[0].scrollHeight / base.lineHeight) - 1);
			} else {
				// add non-breaking spaces
				base.$previewCopy.val(value.replace(/\s/g, '\xa0'));

				// if scrollAdjustment option is set to "c" or "center" then center the caret
				adjustment = /c/i.test(o.scrollAdjustment) ? base.preview.clientWidth / 2 : o.scrollAdjustment;
				scrollWidth = base.$previewCopy[0].scrollWidth - 1;

				// set initial state as moving right
				if (typeof base.last.scrollWidth === 'undefined') {
					base.last.scrollWidth = scrollWidth;
					base.last.direction = true;
				}
				// if direction = true; we're scrolling to the right
				direction = base.last.scrollWidth === scrollWidth ?
					base.last.direction :
					base.last.scrollWidth < scrollWidth;
				clientWidth = base.preview.clientWidth - adjustment;

				// set scrollLeft for inputs; try to mimic the inherit caret positioning + scrolling:
				// hug right while scrolling right...
				if (direction) {
					if (scrollWidth < clientWidth) {
						base.preview.scrollLeft = 0;
					} else {
						base.preview.scrollLeft = scrollWidth - clientWidth;
					}
				} else {
					// hug left while scrolling left...
					if (scrollWidth >= base.preview.scrollWidth - clientWidth) {
						base.preview.scrollLeft = base.preview.scrollWidth - adjustment;
					} else if (scrollWidth - adjustment > 0) {
						base.preview.scrollLeft = scrollWidth - adjustment;
					} else {
						base.preview.scrollLeft = 0;
					}
				}

				base.last.scrollWidth = scrollWidth;
				base.last.direction = direction;
			}
		}
	};

	base.bindFocus = function () {
		if (o.openOn) {
			// make sure keyboard isn't destroyed
			// Check if base exists, this is a case when destroy is called, before timers have fired
			if (base && base.el.active) {
				base.$el.bind(o.openOn + base.namespace, function () {
					base.focusOn();
				});
				// remove focus from element (needed for IE since blur doesn't seem to work)
				if ($(':focus')[0] === base.el) {
					base.$el.blur();
				}
			}
		}
	};

	base.bindKeyboard = function () {
		var evt,
			keyCodes = $keyboard.keyCodes,
			layout = $keyboard.builtLayouts[base.layout],
			namespace = base.namespace + 'keybindings';
		base.$preview
			.unbind(base.namespace)
			.bind('click' + namespace + ' touchstart' + namespace, function () {
				if (o.alwaysOpen && !base.isCurrent()) {
					base.reveal();
				}
				// update last caret position after user click, use at least 150ms or it doesn't work in IE
				base.timer2 = setTimeout(function () {
					if (base){
						base.saveCaret();
					}
				}, 150);

			})
			.bind('keypress' + namespace, function (e) {
				if (o.lockInput) {
					return false;
				}
				if (!base.isCurrent()) {
					return;
				}

				var k = e.charCode || e.which,
					// capsLock can only be checked while typing a-z
					k1 = k >= keyCodes.A && k <= keyCodes.Z,
					k2 = k >= keyCodes.a && k <= keyCodes.z,
					str = base.last.key = String.fromCharCode(k);
				// check, that keypress wasn't rise by functional key
				// space is first typing symbol in UTF8 table
				if (k < keyCodes.space) { //see #549
					return;
				}
				base.last.virtual = false;
				base.last.event = e;
				base.last.$key = []; // not a virtual keyboard key
				if (base.checkCaret) {
					base.saveCaret();
				}

				// update capsLock
				if (k !== keyCodes.capsLock && (k1 || k2)) {
					base.capsLock = (k1 && !e.shiftKey) || (k2 && e.shiftKey);
					// if shifted keyset not visible, then show it
					if (base.capsLock && !base.shiftActive) {
						base.shiftActive = true;
						base.showSet();
					}
				}

				// restrict input - keyCode in keypress special keys:
				// see http://www.asquare.net/javascript/tests/KeyCode.html
				if (o.restrictInput) {
					// allow navigation keys to work - Chrome doesn't fire a keypress event (8 = bksp)
					if ((e.which === keyCodes.backSpace || e.which === 0) &&
						$.inArray(e.keyCode, base.alwaysAllowed)) {
						return;
					}
					// quick key check
					if ($.inArray(str, layout.acceptedKeys) === -1) {
						e.preventDefault();
						// copy event object in case e.preventDefault() breaks when changing the type
						evt = $.extend({}, e);
						evt.type = $keyboard.events.inputRestricted;
						base.$el.trigger(evt, [base, base.el]);
					}
				} else if ((e.ctrlKey || e.metaKey) &&
					(e.which === keyCodes.A || e.which === keyCodes.C || e.which === keyCodes.V ||
						(e.which >= keyCodes.X && e.which <= keyCodes.Z))) {
					// Allow select all (ctrl-a), copy (ctrl-c), paste (ctrl-v) & cut (ctrl-x) &
					// redo (ctrl-y)& undo (ctrl-z); meta key for mac
					return;
				}
				// Mapped Keys - allows typing on a regular keyboard and the mapped key is entered
				// Set up a key in the layout as follows: 'm(a):label'; m = key to map, (a) = actual keyboard key
				// to map to (optional), ':label' = title/tooltip (optional)
				// example: \u0391 or \u0391(A) or \u0391:alpha or \u0391(A):alpha
				if (layout.hasMappedKeys && layout.mappedKeys.hasOwnProperty(str)) {
					base.last.key = layout.mappedKeys[str];
					base.insertText(base.last.key);
					e.preventDefault();
				}
				if (typeof o.beforeInsert === 'function') {
					base.insertText(base.last.key);
					e.preventDefault();
				}
				base.checkMaxLength();

			})
			.bind('keyup' + namespace, function (e) {
				if (!base.isCurrent()) { return; }
				base.last.virtual = false;
				switch (e.which) {
					// Insert tab key
				case keyCodes.tab:
					// Added a flag to prevent from tabbing into an input, keyboard opening, then adding the tab
					// to the keyboard preview area on keyup. Sadly it still happens if you don't release the tab
					// key immediately because keydown event auto-repeats
					if (base.tab && !o.lockInput) {
						base.shiftActive = e.shiftKey;
						// when switching inputs, the tab keyaction returns false
						var notSwitching = $keyboard.keyaction.tab(base);
						base.tab = false;
						if (!notSwitching) {
							return false;
						}
					} else {
						e.preventDefault();
					}
					break;

					// Escape will hide the keyboard
				case keyCodes.escape:
					if (!o.ignoreEsc) {
						base.close(o.autoAccept && o.autoAcceptOnEsc ? 'true' : false);
					}
					return false;
				}

				// throttle the check combo function because fast typers will have an incorrectly positioned caret
				clearTimeout(base.throttled);
				base.throttled = setTimeout(function () {
					// fix error in OSX? see issue #102
					if (base && base.isVisible()) {
						base.checkCombos();
					}
				}, 100);

				base.checkMaxLength();

				base.last.preVal = '' + base.last.val;
				base.saveLastChange();

				// don't alter "e" or the "keyup" event never finishes processing; fixes #552
				var event = $.Event( $keyboard.events.kbChange );
				// base.last.key may be empty string (shift, enter, tab, etc) when keyboard is first visible
				// use e.key instead, if browser supports it
				event.action = base.last.key;
				base.$el.trigger(event, [base, base.el]);

				// change callback is no longer bound to the input element as the callback could be
				// called during an external change event with all the necessary parameters (issue #157)
				if (typeof o.change === 'function') {
					event.type = $keyboard.events.inputChange;
					o.change(event, base, base.el);
					return false;
				}
				if (o.acceptValid && o.autoAcceptOnValid) {
					if (
						typeof o.validate === 'function' &&
						o.validate(base, base.getValue(base.$preview))
					) {
						base.$preview.blur();
						base.accept();
					}
				}
			})
			.bind('keydown' + namespace, function (e) {
				base.last.keyPress = e.which;
				// ensure alwaysOpen keyboards are made active
				if (o.alwaysOpen && !base.isCurrent()) {
					base.reveal();
				}
				// prevent tab key from leaving the preview window
				if (e.which === keyCodes.tab) {
					// allow tab to pass through - tab to next input/shift-tab for prev
					base.tab = true;
					return false;
				}
				if (o.lockInput || e.timeStamp === base.last.timeStamp) {
					return !o.lockInput;
				}

				base.last.timeStamp = e.timeStamp; // fixes #659
				base.last.virtual = false;
				switch (e.which) {

				case keyCodes.backSpace:
					$keyboard.keyaction.bksp(base, null, e);
					e.preventDefault();
					break;

				case keyCodes.enter:
					$keyboard.keyaction.enter(base, null, e);
					break;

					// Show capsLock
				case keyCodes.capsLock:
					base.shiftActive = base.capsLock = !base.capsLock;
					base.showSet();
					break;

				case keyCodes.V:
					// prevent ctrl-v/cmd-v
					if (e.ctrlKey || e.metaKey) {
						if (o.preventPaste) {
							e.preventDefault();
							return;
						}
						base.checkCombos(); // check pasted content
					}
					break;
				}
			})
			.bind('mouseup touchend '.split(' ').join(namespace + ' '), function () {
				base.last.virtual = true;
				base.saveCaret();
			});

		// prevent keyboard event bubbling
		base.$keyboard.bind('mousedown click touchstart '.split(' ').join(base.namespace + ' '), function (e) {
			e.stopPropagation();
			if (!base.isCurrent()) {
				base.reveal();
				$(base.el.ownerDocument).trigger('checkkeyboard' + base.namespace);
			}
			base.setFocus();
		});

		// If preventing paste, block context menu (right click)
		if (o.preventPaste) {
			base.$preview.bind('contextmenu' + base.namespace, function (e) {
				e.preventDefault();
			});
			base.$el.bind('contextmenu' + base.namespace, function (e) {
				e.preventDefault();
			});
		}

	};

	base.bindButton = function(events, handler) {
		var button = '.' + $keyboard.css.keyButton,
			callback = function(e) {
				e.stopPropagation();
				// save closest keyboard wrapper/input to check in checkClose function
				e.$target = $(this).closest('.' + $keyboard.css.keyboard + ', .' + $keyboard.css.input);
				handler.call(this, e);
			};
		if ($.fn.on) {
			// jQuery v1.7+
			base.$keyboard.on(events, button, callback);
		} else if ($.fn.delegate) {
			// jQuery v1.4.2 - 3.0.0
			base.$keyboard.delegate(button, events, callback);
		}
		return base;
	};

	base.unbindButton = function(namespace) {
		if ($.fn.off) {
			// jQuery v1.7+
			base.$keyboard.off(namespace);
		} else if ($.fn.undelegate) {
			// jQuery v1.4.2 - 3.0.0 (namespace only added in v1.6)
			base.$keyboard.undelegate('.' + $keyboard.css.keyButton, namespace);
		}
		return base;
	};

	base.bindKeys = function () {
		var kbcss = $keyboard.css;
		base
			.unbindButton(base.namespace + ' ' + base.namespace + 'kb')
			// Change hover class and tooltip - moved this touchstart before option.keyBinding touchstart
			// to prevent mousewheel lag/duplication - Fixes #379 & #411
			.bindButton('mouseenter mouseleave touchstart '.split(' ').join(base.namespace + ' '), function (e) {
				if ((o.alwaysOpen || o.userClosed) && e.type !== 'mouseleave' && !base.isCurrent()) {
					base.reveal();
					base.setFocus();
				}
				if (!base.isCurrent() || this.disabled) {
					return;
				}
				var $keys, txt,
					last = base.last,
					$this = $(this),
					type = e.type;

				if (o.useWheel && base.wheel) {
					$keys = base.getLayers($this);
					txt = ($keys.length ? $keys.map(function () {
							return $(this).attr('data-value') || '';
						})
						.get() : '') || [$this.text()];
					last.wheel_$Keys = $keys;
					last.wheelLayers = txt;
					last.wheelIndex = $.inArray($this.attr('data-value'), txt);
				}

				if ((type === 'mouseenter' || type === 'touchstart') && base.el.type !== 'password' &&
					!$this.hasClass(o.css.buttonDisabled)) {
					$this.addClass(o.css.buttonHover);
					if (o.useWheel && base.wheel) {
						$this.attr('title', function (i, t) {
							// show mouse wheel message
							return (base.wheel && t === '' && base.sets && txt.length > 1 && type !== 'touchstart') ?
								o.wheelMessage : t;
						});
					}
				}
				if (type === 'mouseleave') {
					// needed or IE flickers really bad
					$this.removeClass((base.el.type === 'password') ? '' : o.css.buttonHover);
					if (o.useWheel && base.wheel) {
						last.wheelIndex = 0;
						last.wheelLayers = [];
						last.wheel_$Keys = [];
						$this
							.attr('title', function (i, t) {
								return (t === o.wheelMessage) ? '' : t;
							})
							.html($this.attr('data-html')); // restore original button text
					}
				}
			})
			// keyBinding = 'mousedown touchstart' by default
			.bindButton(o.keyBinding.split(' ').join(base.namespace + ' ') + base.namespace + ' ' +
				$keyboard.events.kbRepeater, function (e) {
				e.preventDefault();
				// prevent errors when external triggers attempt to 'type' - see issue #158
				if (!base.$keyboard.is(':visible') || this.disabled) {
					return false;
				}
				var action,
					last = base.last,
					$key = $(this),
					// prevent mousedown & touchstart from both firing events at the same time - see #184
					timer = new Date().getTime();

				if (o.useWheel && base.wheel) {
					// get keys from other layers/keysets (shift, alt, meta, etc) that line up by data-position
					// target mousewheel selected key
					$key = last.wheel_$Keys.length && last.wheelIndex > -1 ? last.wheel_$Keys.eq(last.wheelIndex) : $key;
				}
				action = $key.attr('data-action');
				if (timer - (last.eventTime || 0) < o.preventDoubleEventTime) {
					return;
				}
				last.eventTime = timer;
				last.event = e;
				last.virtual = true;
				last.$key = $key;
				last.key = $key.attr('data-value');
				last.keyPress = '';
				// Start caret in IE when not focused (happens with each virtual keyboard button click
				base.setFocus();
				if (/^meta/.test(action)) {
					action = 'meta';
				}
				// keyaction is added as a string, override original action & text
				if (action === last.key && typeof $keyboard.keyaction[action] === 'string') {
					last.key = action = $keyboard.keyaction[action];
				} else if (action in $keyboard.keyaction && typeof $keyboard.keyaction[action] === 'function') {
					// stop processing if action returns false (close & cancel)
					if ($keyboard.keyaction[action](base, this, e) === false) {
						return false;
					}
					action = null; // prevent inserting action name
				}
				// stop processing if keyboard closed and keyaction did not return false - see #536
				if (!base.hasKeyboard()) {
					return false;
				}
				if (typeof action !== 'undefined' && action !== null) {
					last.key = $(this).hasClass(kbcss.keyAction) ? action : last.key;
					base.insertText(last.key);
					if (!base.capsLock && !o.stickyShift && !e.shiftKey) {
						base.shiftActive = false;
						base.showSet($key.attr('data-name'));
					}
				}
				// set caret if caret moved by action function; also, attempt to fix issue #131
				$keyboard.caret(base.$preview, last);
				base.checkCombos();
				e = $.extend({}, e, $.Event($keyboard.events.kbChange));
				e.target = base.el;
				e.action = last.key;
				base.$el.trigger(e, [base, base.el]);
				last.preVal = '' + last.val;
				base.saveLastChange();

				if (typeof o.change === 'function') {
					e.type = $keyboard.events.inputChange;
					o.change(e, base, base.el);
					// return false to prevent reopening keyboard if base.accept() was called
					return false;
				}

			})
			// using 'kb' namespace for mouse repeat functionality to keep it separate
			// I need to trigger a 'repeater.keyboard' to make it work
			.bindButton('mouseup' + base.namespace + ' ' + 'mouseleave touchend touchmove touchcancel '.split(' ')
				.join(base.namespace + 'kb '), function (e) {
				base.last.virtual = true;
				var offset,
					$this = $(this);
				if (e.type === 'touchmove') {
					// if moving within the same key, don't stop repeating
					offset = $this.offset();
					offset.right = offset.left + $this.outerWidth();
					offset.bottom = offset.top + $this.outerHeight();
					if (e.originalEvent.touches[0].pageX >= offset.left &&
						e.originalEvent.touches[0].pageX < offset.right &&
						e.originalEvent.touches[0].pageY >= offset.top &&
						e.originalEvent.touches[0].pageY < offset.bottom) {
						return true;
					}
				} else if (/(mouseleave|touchend|touchcancel)/i.test(e.type)) {
					$this.removeClass(o.css.buttonHover); // needed for touch devices
				} else {
					if (!o.noFocus && base.isCurrent() && base.isVisible()) {
						base.$preview.focus();
					}
					if (base.checkCaret) {
						$keyboard.caret(base.$preview, base.last);
					}
				}
				base.mouseRepeat = [false, ''];
				clearTimeout(base.repeater); // make sure key repeat stops!
				if (o.acceptValid && o.autoAcceptOnValid) {
					if (
						typeof o.validate === 'function' &&
						o.validate(base, base.getValue())
					) {
						base.$preview.blur();
						base.accept();
					}
				}
				return false;
			})
			// prevent form submits when keyboard is bound locally - issue #64
			.bindButton('click' + base.namespace, function () {
				return false;
			})
			// Allow mousewheel to scroll through other keysets of the same (non-action) key
			.bindButton('mousewheel' + base.namespace, base.throttleEvent(function (e, delta) {
				var $btn = $(this);
				// no mouse repeat for action keys (shift, ctrl, alt, meta, etc)
				if (!$btn || $btn.hasClass(kbcss.keyAction) || base.last.wheel_$Keys[0] !== this) {
					return;
				}
				if (o.useWheel && base.wheel) {
					// deltaY used by newer versions of mousewheel plugin
					delta = delta || e.deltaY;
					var n,
						txt = base.last.wheelLayers || [];
					if (txt.length > 1) {
						n = base.last.wheelIndex + (delta > 0 ? -1 : 1);
						if (n > txt.length - 1) {
							n = 0;
						}
						if (n < 0) {
							n = txt.length - 1;
						}
					} else {
						n = 0;
					}
					base.last.wheelIndex = n;
					$btn.html(txt[n]);
					return false;
				}
			}, 30))
			.bindButton('mousedown touchstart '.split(' ').join(base.namespace + 'kb '), function () {
				var $btn = $(this);
				// no mouse repeat for action keys (shift, ctrl, alt, meta, etc)
				if (
					!$btn || (
						$btn.hasClass(kbcss.keyAction) &&
						// mouse repeated action key exceptions
						!$btn.is('.' + kbcss.keyPrefix + ('tab bksp space enter'.split(' ').join(',.' + kbcss.keyPrefix)))
					)
				) {
					return;
				}
				if (o.repeatRate !== 0) {
					// save the key, make sure we are repeating the right one (fast typers)
					base.mouseRepeat = [true, $btn];
					setTimeout(function () {
						// don't repeat keys if it is disabled - see #431
						if (base && base.mouseRepeat[0] && base.mouseRepeat[1] === $btn && !$btn[0].disabled) {
							base.repeatKey($btn);
						}
					}, o.repeatDelay);
				}
				return false;
			});
	};

	// No call on tailing event
	base.throttleEvent = function(cb, time) {
		var interm;
		return function() {
			if (!interm) {
				cb.apply(this, arguments);
				interm = true;
				setTimeout(function() {
					interm = false;
				}, time);
			}
		};
	};

	base.execCommand = function(cmd, str) {
		base.el.ownerDocument.execCommand(cmd, false, str);
		base.el.normalize();
		if (o.reposition) {
			base.reposition();
		}
	};

	base.getValue = function ($el) {
		$el = $el || base.$preview;
		return $el[base.isContentEditable ? 'text' : 'val']();
	};

	base.setValue = function (txt, $el) {
		$el = $el || base.$preview;
		if (base.isContentEditable) {
			if (txt !== $el.text()) {
				$keyboard.replaceContent($el, txt);
				base.saveCaret();
			}
		} else {
			$el.val(txt);
		}
		return base;
	};

	// Insert text at caret/selection - thanks to Derek Wickwire for fixing this up!
	base.insertText = function (txt) {
		if (!base.$preview) { return base; }
		if (typeof o.beforeInsert === 'function') {
			txt = o.beforeInsert(base.last.event, base, base.el, txt);
		}
		if (typeof txt === 'undefined' || txt === false) {
			base.last.key = '';
			return base;
		}
		if (base.isContentEditable) {
			return base.insertContentEditable(txt);
		}
		var t,
			bksp = false,
			isBksp = txt === '\b',
			// use base.$preview.val() instead of base.preview.value (val.length includes carriage returns in IE).
			val = base.getValue(),
			pos = $keyboard.caret(base.$preview),
			len = val.length; // save original content length

		// silly IE caret hacks... it should work correctly, but navigating using arrow keys in a textarea
		// is still difficult
		// in IE, pos.end can be zero after input loses focus
		if (pos.end < pos.start) {
			pos.end = pos.start;
		}
		if (pos.start > len) {
			pos.end = pos.start = len;
		}

		if (base.isTextArea) {
			// This makes sure the caret moves to the next line after clicking on enter (manual typing works fine)
			if ($keyboard.msie && val.substring(pos.start, pos.start + 1) === '\n') {
				pos.start += 1;
				pos.end += 1;
			}
		}

		t = pos.start;
		if (txt === '{d}') {
			txt = '';
			pos.end += 1;
		}

		if (isBksp) {
			txt = '';
			bksp = isBksp && t === pos.end && t > 0;
		}
		val = val.substring(0, t - (bksp ? 1 : 0)) + txt + val.substring(pos.end);
		t += bksp ? -1 : txt.length;

		base.setValue(val);
		base.saveCaret(t, t); // save caret in case of bksp
		base.setScroll();
		// see #506.. allow chaining of insertText
		return base;
	};

	base.insertContentEditable = function (txt) {
		base.$preview.focus();
		base.execCommand('insertText', txt);
		base.saveCaret();
		return base;
	};

	// check max length
	base.checkMaxLength = function () {
		if (!base.$preview) { return; }
		var start, caret,
			val = base.getValue(),
			len = base.isContentEditable ? $keyboard.getEditableLength(base.el) : val.length;
		if (o.maxLength !== false && len > o.maxLength) {
			start = $keyboard.caret(base.$preview).start;
			caret = Math.min(start, o.maxLength);

			// prevent inserting new characters when maxed #289
			if (!o.maxInsert) {
				val = base.last.val;
				caret = start - 1; // move caret back one
			}
			base.setValue(val.substring(0, o.maxLength));
			// restore caret on change, otherwise it ends up at the end.
			base.saveCaret(caret, caret);
		}
		if (base.$decBtn.length) {
			base.checkDecimal();
		}
		// allow chaining
		return base;
	};

	// mousedown repeater
	base.repeatKey = function (key) {
		key.trigger($keyboard.events.kbRepeater);
		if (base.mouseRepeat[0]) {
			base.repeater = setTimeout(function () {
				if (base){
					base.repeatKey(key);
				}
			}, base.repeatTime);
		}
	};

	base.getKeySet = function () {
		var sets = [];
		if (base.altActive) {
			sets.push('alt');
		}
		if (base.shiftActive) {
			sets.push('shift');
		}
		if (base.metaActive) {
			// base.metaActive contains the string name of the
			// current meta keyset
			sets.push(base.metaActive);
		}
		return sets.length ? sets.join('+') : 'normal';
	};

	// make it easier to switch keysets via API
	// showKeySet('shift+alt+meta1')
	base.showKeySet = function (str) {
		if (typeof str === 'string') {
			base.last.keyset = [base.shiftActive, base.altActive, base.metaActive];
			base.shiftActive = /shift/i.test(str);
			base.altActive = /alt/i.test(str);
			if (/\bmeta/.test(str)) {
				base.metaActive = true;
				base.showSet(str.match(/\bmeta[\w-]+/i)[0]);
			} else {
				base.metaActive = false;
				base.showSet();
			}
		} else {
			base.showSet(str);
		}
		// allow chaining
		return base;
	};

	base.showSet = function (name) {
		if (!base.hasKeyboard()) { return; }
		o = base.options; // refresh options
		var kbcss = $keyboard.css,
			prefix = '.' + kbcss.keyPrefix,
			active = o.css.buttonActive,
			key = '',
			toShow = (base.shiftActive ? 1 : 0) + (base.altActive ? 2 : 0);
		if (!base.shiftActive) {
			base.capsLock = false;
		}
		// check meta key set
		if (base.metaActive) {
			// remove "-shift" and "-alt" from meta name if it exists
			if (base.shiftActive) {
				name = (name || '').replace('-shift', '');
			}
			if (base.altActive) {
				name = (name || '').replace('-alt', '');
			}
			// the name attribute contains the meta set name 'meta99'
			key = (/^meta/i.test(name)) ? name : '';
			// save active meta keyset name
			if (key === '') {
				key = (base.metaActive === true) ? '' : base.metaActive;
			} else {
				base.metaActive = key;
			}
			// if meta keyset doesn't have a shift or alt keyset, then show just the meta key set
			if ((!o.stickyShift && base.last.keyset[2] !== base.metaActive) ||
				((base.shiftActive || base.altActive) &&
				!base.$keyboard.find('.' + kbcss.keySet + '-' + key + base.rows[toShow]).length)) {
				base.shiftActive = base.altActive = false;
			}
		} else if (!o.stickyShift && base.last.keyset[2] !== base.metaActive && base.shiftActive) {
			// switching from meta key set back to default, reset shift & alt if using stickyShift
			base.shiftActive = base.altActive = false;
		}
		toShow = (base.shiftActive ? 1 : 0) + (base.altActive ? 2 : 0);
		key = (toShow === 0 && !base.metaActive) ? '-normal' : (key === '') ? '' : '-' + key;
		if (!base.$keyboard.find('.' + kbcss.keySet + key + base.rows[toShow]).length) {
			// keyset doesn't exist, so restore last keyset settings
			base.shiftActive = base.last.keyset[0];
			base.altActive = base.last.keyset[1];
			base.metaActive = base.last.keyset[2];
			return;
		}
		base.$keyboard
			.find(prefix + 'alt,' + prefix + 'shift,.' + kbcss.keyAction + '[class*=meta]')
			.removeClass(active)
			.end()
			.find(prefix + 'alt')
			.toggleClass(active, base.altActive)
			.end()
			.find(prefix + 'shift')
			.toggleClass(active, base.shiftActive)
			.end()
			.find(prefix + 'lock')
			.toggleClass(active, base.capsLock)
			.end()
			.find('.' + kbcss.keySet)
			.hide()
			.end()
			.find('.' + (kbcss.keyAction + prefix + key).replace('--', '-'))
			.addClass(active);

		// show keyset using inline-block ( extender layout will then line up )
		base.$keyboard.find('.' + kbcss.keySet + key + base.rows[toShow])[0].style.display = 'inline-block';
		if (base.metaActive) {
			base.$keyboard.find(prefix + base.metaActive)
				// base.metaActive contains the string "meta#" or false
				// without the !== false, jQuery UI tries to transition the classes
				.toggleClass(active, base.metaActive !== false);
		}
		base.last.keyset = [base.shiftActive, base.altActive, base.metaActive];
		base.$el.trigger($keyboard.events.kbKeysetChange, [base, base.el]);
		if (o.reposition) {
			base.reposition();
		}
	};

	// check for key combos (dead keys)
	base.checkCombos = function () {
		// return val for close function
		if ( !(
			base.isVisible() || (
				base.hasKeyboard() &&
				base.$keyboard.hasClass( $keyboard.css.hasFocus )
			)
		) ) {
			return base.getValue(base.$preview || base.$el);
		}
		var r, t, t2, repl,
			// use base.$preview.val() instead of base.preview.value
			// (val.length includes carriage returns in IE).
			val = base.getValue(),
			pos = $keyboard.caret(base.$preview),
			layout = $keyboard.builtLayouts[base.layout],
			max = base.isContentEditable ? $keyboard.getEditableLength(base.el) : val.length,
			// save original content length
			len = max;
		// return if val is empty; fixes #352
		if (val === '') {
			// check valid on empty string - see #429
			if (o.acceptValid) {
				base.checkValid();
			}
			return val;
		}

		// silly IE caret hacks... it should work correctly, but navigating using arrow keys in a textarea
		// is still difficult
		// in IE, pos.end can be zero after input loses focus
		if (pos.end < pos.start) {
			pos.end = pos.start;
		}
		if (pos.start > len) {
			pos.end = pos.start = len;
		}
		// This makes sure the caret moves to the next line after clicking on enter (manual typing works fine)
		if ($keyboard.msie && val.substring(pos.start, pos.start + 1) === '\n') {
			pos.start += 1;
			pos.end += 1;
		}

		if (o.useCombos) {
			// keep 'a' and 'o' in the regex for ae and oe ligature (æ,œ)
			// thanks to KennyTM: http://stackoverflow.com/q/4275077
			// original regex /([`\'~\^\"ao])([a-z])/mig moved to $.keyboard.comboRegex
			if ($keyboard.msie) {
				// old IE may not have the caret positioned correctly, so just check the whole thing
				val = val.replace(base.regex, function (s, accent, letter) {
					return (o.combos.hasOwnProperty(accent)) ? o.combos[accent][letter] || s : s;
				});
				// prevent combo replace error, in case the keyboard closes - see issue #116
			} else if (base.$preview.length) {
				// Modern browsers - check for combos from last two characters left of the caret
				t = pos.start - (pos.start - 2 >= 0 ? 2 : 0);
				// target last two characters
				$keyboard.caret(base.$preview, t, pos.end);
				// do combo replace
				t = $keyboard.caret(base.$preview);
				repl = function (txt) {
					return (txt || '').replace(base.regex, function (s, accent, letter) {
						return (o.combos.hasOwnProperty(accent)) ? o.combos[accent][letter] || s : s;
					});
				};
				t2 = repl(t.text);
				// add combo back
				// prevent error if caret doesn't return a function
				if (t && t.replaceStr && t2 !== t.text) {
					if (base.isContentEditable) {
						$keyboard.replaceContent(el, repl);
					} else {
						base.setValue(t.replaceStr(t2));
					}
				}
				val = base.getValue();
			}
		}

		// check input restrictions - in case content was pasted
		if (o.restrictInput && val !== '') {
			t = layout.acceptedKeys.length;

			r = layout.acceptedKeysRegex;
			if (!r) {
				t2 = $.map(layout.acceptedKeys, function (v) {
					// escape any special characters
					return v.replace(base.escapeRegex, '\\$&');
				});
				if (base.alwaysAllowed.indexOf($keyboard.keyCodes.enter) > -1) {
					t2.push('\\n'); // Fixes #686
				}
				r = layout.acceptedKeysRegex = new RegExp('(' + t2.join('|') + ')', 'g');
			}
			// only save matching keys
			t2 = val.match(r);
			if (t2) {
				val = t2.join('');
			} else {
				// no valid characters
				val = '';
				len = 0;
			}
		}

		// save changes, then reposition caret
		pos.start += max - len;
		pos.end += max - len;

		base.setValue(val);
		base.saveCaret(pos.start, pos.end);
		// set scroll to keep caret in view
		base.setScroll();
		base.checkMaxLength();

		if (o.acceptValid) {
			base.checkValid();
		}
		return val; // return text, used for keyboard closing section
	};

	// Toggle accept button classes, if validating
	base.checkValid = function () {
		var kbcss = $keyboard.css,
			$accept = base.$keyboard.find('.' + kbcss.keyPrefix + 'accept'),
			valid = true;
		if (typeof o.validate === 'function') {
			valid = o.validate(base, base.getValue(), false);
		}
		// toggle accept button classes; defined in the css
		$accept
			.toggleClass(kbcss.inputInvalid, !valid)
			.toggleClass(kbcss.inputValid, valid)
			// update title to indicate that the entry is valid or invalid
			.attr('title', $accept.attr('data-title') + ' (' + o.display[valid ? 'valid' : 'invalid'] + ')');
	};

	// Decimal button for num pad - only allow one (not used by default)
	base.checkDecimal = function () {
		// Check US '.' or European ',' format
		if ((base.decimal && /\./g.test(base.preview.value)) ||
			(!base.decimal && /\,/g.test(base.preview.value))) {
			base.$decBtn
				.attr({
					'disabled': 'disabled',
					'aria-disabled': 'true'
				})
				.removeClass(o.css.buttonHover)
				.addClass(o.css.buttonDisabled);
		} else {
			base.$decBtn
				.removeAttr('disabled')
				.attr({
					'aria-disabled': 'false'
				})
				.addClass(o.css.buttonDefault)
				.removeClass(o.css.buttonDisabled);
		}
	};

	// get other layer values for a specific key
	base.getLayers = function ($el) {
		var kbcss = $keyboard.css,
			key = $el.attr('data-pos'),
			$keys = $el.closest('.' + kbcss.keyboard)
			.find('button[data-pos="' + key + '"]');
		return $keys.filter(function () {
			return $(this)
				.find('.' + kbcss.keyText)
				.text() !== '';
		})
		.add($el);
	};

	// Go to next or prev inputs
	// goToNext = true, then go to next input; if false go to prev
	// isAccepted is from autoAccept option or true if user presses shift+enter
	base.switchInput = function (goToNext, isAccepted) {
		if (typeof o.switchInput === 'function') {
			o.switchInput(base, goToNext, isAccepted);
		} else {
			// base.$keyboard may be an empty array - see #275 (apod42)
			if (base.$keyboard.length) {
				base.$keyboard.hide();
			}
			var kb,
				stopped = false,
				all = $('button, input, select, textarea, a, [contenteditable]')
					.filter(':visible')
					.not(':disabled'),
				indx = all.index(base.$el) + (goToNext ? 1 : -1);
			if (base.$keyboard.length) {
				base.$keyboard.show();
			}
			if (indx > all.length - 1) {
				stopped = o.stopAtEnd;
				indx = 0; // go to first input
			}
			if (indx < 0) {
				stopped = o.stopAtEnd;
				indx = all.length - 1; // stop or go to last
			}
			if (!stopped) {
				isAccepted = base.close(isAccepted);
				if (!isAccepted) {
					return;
				}
				kb = all.eq(indx).data('keyboard');
				if (kb && kb.options.openOn.length) {
					kb.focusOn();
				} else {
					all.eq(indx).focus();
				}
			}
		}
		return false;
	};

	// Close the keyboard, if visible. Pass a status of true, if the content was accepted
	// (for the event trigger).
	base.close = function (accepted) {
		if (base.isOpen && base.$keyboard.length) {
			clearTimeout(base.throttled);
			var kbcss = $keyboard.css,
				kbevents = $keyboard.events,
				val = accepted ? base.checkCombos() : base.originalContent;
			// validate input if accepted
			if (accepted && typeof o.validate === 'function' && !o.validate(base, val, true)) {
				val = base.originalContent;
				accepted = false;
				if (o.cancelClose) {
					return;
				}
			}
			base.isCurrent(false);
			base.isOpen = o.alwaysOpen || o.userClosed;
			if (base.isContentEditable && !accepted) {
				// base.originalContent stores the HTML
				base.$el.html(val);
			} else {
				base.setValue(val, base.$el);
			}
			base.$el
				.removeClass(kbcss.isCurrent + ' ' + kbcss.inputAutoAccepted)
				// add 'ui-keyboard-autoaccepted' to inputs - see issue #66
				.addClass((accepted || false) ? accepted === true ? '' : kbcss.inputAutoAccepted : '')
				// trigger default change event - see issue #146
				.trigger(kbevents.inputChange);
			// don't trigger an empty event - see issue #463
			if (!o.alwaysOpen) {
				// don't trigger beforeClose if keyboard is always open
				base.$el.trigger(kbevents.kbBeforeClose, [base, base.el, (accepted || false)]);
			}
			// save caret after updating value (fixes userClosed issue with changing focus)
			$keyboard.caret(base.$preview, base.last);

			base.$el
				.trigger(((accepted || false) ? kbevents.inputAccepted : kbevents.inputCanceled), [base, base.el])
				.trigger((o.alwaysOpen) ? kbevents.kbInactive : kbevents.kbHidden, [base, base.el])
				.blur();

			// base is undefined if keyboard was destroyed - fixes #358
			if (base) {
				// add close event time
				base.last.eventTime = new Date().getTime();
				if (!(o.alwaysOpen || o.userClosed && accepted === 'true') && base.$keyboard.length) {
					// free up memory
					base.removeKeyboard();
					// rebind input focus - delayed to fix IE issue #72
					base.timer = setTimeout(function () {
						if (base) {
							base.bindFocus();
						}
					}, 200);
				}
				if (!base.watermark && base.el.value === '' && base.inPlaceholder !== '') {
					base.$el.addClass(kbcss.placeholder);
					base.setValue(base.inPlaceholder, base.$el);
				}
			}
		}
		return !!accepted;
	};

	base.accept = function () {
		return base.close(true);
	};

	base.checkClose = function (e) {
		if (base.opening) {
			return;
		}
		var kbcss = $.keyboard.css,
			$target = e.$target || $(e.target).closest('.' + $keyboard.css.keyboard + ', .' + $keyboard.css.input);
		if (!$target.length) {
			$target = $(e.target);
		}
		// needed for IE to allow switching between keyboards smoothly
		if ($target.length && $target.hasClass(kbcss.keyboard)) {
			var kb = $target.data('keyboard');
			// only trigger on self
			if (
				kb !== base &&
				!kb.$el.hasClass(kbcss.isCurrent) &&
				kb.options.openOn &&
				e.type === o.openOn
			) {
				kb.focusOn();
			}
		} else {
			base.escClose(e, $target);
		}
	};

	// callback functions called to check if the keyboard needs to be closed
	// e.g. on escape or clicking outside the keyboard
	base.escCloseCallback = {
		// keep keyboard open if alwaysOpen or stayOpen is true - fixes mutliple
		// always open keyboards or single stay open keyboard
		keepOpen: function() {
			return !base.isOpen;
		}
	};

	base.escClose = function (e, $el) {
		if (!base.isOpen) {
			return;
		}
		if (e && e.type === 'keyup') {
			return (e.which === $keyboard.keyCodes.escape && !o.ignoreEsc) ?
				base.close(o.autoAccept && o.autoAcceptOnEsc ? 'true' : false) :
				'';
		}
		var shouldStayOpen = false,
			$target = $el.length && $el || $(e.target);
		$.each(base.escCloseCallback, function(i, callback) {
			if (typeof callback === 'function') {
				shouldStayOpen = shouldStayOpen || callback($target);
			}
		});
		if (shouldStayOpen) {
			return;
		}
		// ignore autoaccept if using escape - good idea?
		if (!base.isCurrent() && base.isOpen || base.isOpen && $target[0] !== base.el) {
			// don't close if stayOpen is set; but close if a different keyboard is being opened
			if ((o.stayOpen || o.userClosed) && !$target.hasClass($keyboard.css.input)) {
				return;
			}
			// stop propogation in IE - an input getting focus doesn't open a keyboard if one is already open
			if ($keyboard.allie) {
				e.preventDefault();
			}
			if (o.closeByClickEvent) {
				// only close the keyboard if the user is clicking on an input or if they cause a click
				// event (touchstart/mousedown will not force the close with this setting)
				var name = $target[0] && $target[0].nodeName.toLowerCase();
				if (name === 'input' || name === 'textarea' || e.type === 'click') {
					base.close(o.autoAccept ? 'true' : false);
				}
			} else {
				// send 'true' instead of a true (boolean), the input won't get a 'ui-keyboard-autoaccepted'
				// class name - see issue #66
				base.close(o.autoAccept ? 'true' : false);
			}
		}
	};

	// Build default button
	base.keyBtn = $('<button />')
		.attr({
			'role': 'button',
			'type': 'button',
			'aria-disabled': 'false',
			'tabindex': '-1'
		})
		.addClass($keyboard.css.keyButton);

	// convert key names into a class name
	base.processName = function (name) {
		var index, n,
			process = (name || '').replace(/[^a-z0-9-_]/gi, ''),
			len = process.length,
			newName = [];
		if (len > 1 && name === process) {
			// return name if basic text
			return name;
		}
		// return character code sequence
		len = name.length;
		if (len) {
			for (index = 0; index < len; index++) {
				n = name[index];
				// keep '-' and '_'... so for dash, we get two dashes in a row
				newName.push(/[a-z0-9-_]/i.test(n) ?
					(/[-_]/.test(n) && index !== 0 ? '' : n) :
					(index === 0 ? '' : '-') + n.charCodeAt(0)
				);
			}
			return newName.join('');
		}
		return name;
	};

	base.processKeys = function (name) {
		var tmp, parts,
			htmlIndex = name.indexOf('</'),
			data = {
				name: name,
				map: '',
				title: ''
			};
		if (htmlIndex > -1) {
			// If it looks like HTML, skip processing; see #743
			// html may include colons; see #701
			return data;
		}
		// Don't split colons followed by //, e.g. https://; Fixes #555
		parts = name.split(/:(?!\/\/)/);

		/* map defined keys
		format 'key(A):Label_for_key_(ignore_parentheses_here)'
			'key' = key that is seen (can any character(s); but it might need to be escaped using '\'
			or entered as unicode '\u####'
			'(A)' = the actual key on the real keyboard to remap
			':Label_for_key' ends up in the title/tooltip
		Examples:
			'\u0391(A):alpha', 'x(y):this_(might)_cause_problems
			or edge cases of ':(x)', 'x(:)', 'x(()' or 'x())'
		Enhancement (if I can get alt keys to work):
			A mapped key will include the mod key, e.g. 'x(alt-x)' or 'x(alt-shift-x)'
		*/
		if (/\(.+\)/.test(parts[0]) || /^:\(.+\)/.test(name) || /\([(:)]\)/.test(name)) {
			// edge cases 'x(:)', 'x(()' or 'x())'
			if (/\([(:)]\)/.test(name)) {
				tmp = parts[0].match(/([^(]+)\((.+)\)/);
				if (tmp && tmp.length) {
					data.name = tmp[1];
					data.map = tmp[2];
					data.title = parts.length > 1 ? parts.slice(1).join(':') : '';
				} else {
					// edge cases 'x(:)', ':(x)' or ':(:)'
					data.name = name.match(/([^(]+)/)[0];
					if (data.name === ':') {
						// ':(:):test' => parts = [ '', '(', ')', 'title' ] need to slice 1
						parts = parts.slice(1);
					}
					if (tmp === null) {
						// 'x(:):test' => parts = [ 'x(', ')', 'title' ] need to slice 2
						data.map = ':';
						parts = parts.slice(2);
					}
					data.title = parts.length ? parts.join(':') : '';
				}
			} else {
				// example: \u0391(A):alpha; extract 'A' from '(A)'
				data.map = name.match(/\(([^()]+?)\)/)[1];
				// remove '(A)', left with '\u0391:alpha'
				name = name.replace(/\(([^()]+)\)/, '');
				tmp = name.split(':');
				// get '\u0391' from '\u0391:alpha'
				if (tmp[0] === '') {
					data.name = ':';
					parts = parts.slice(1);
				} else {
					data.name = tmp[0];
				}
				data.title = parts.length > 1 ? parts.slice(1).join(':') : '';
			}
		} else {
			// find key label
			// corner case of '::;' reduced to ':;', split as ['', ';']
			if (name !== '' && parts[0] === '') {
				data.name = ':';
				parts = parts.slice(1);
			} else {
				data.name = parts[0];
			}
			data.title = parts.length > 1 ? parts.slice(1).join(':') : '';
		}
		data.title = $.trim(data.title).replace(/_/g, ' ');
		return data;
	};

	// Add key function
	// keyName = the name of the function called in $.keyboard.keyaction when the button is clicked
	// name = name added to key, or cross-referenced in the display options
	// base.temp[0] = keyset to attach the new button
	// regKey = true when it is not an action key
	base.addKey = function (keyName, action, regKey) {
		var keyClass, tmp, keys,
			data = {},
			txt = base.processKeys(regKey ? keyName : action),
			kbcss = $keyboard.css;

		if (!regKey && o.display[txt.name]) {
			keys = base.processKeys(o.display[txt.name]);
			// action contained in "keyName" (e.g. keyName = "accept",
			// action = "a" (use checkmark instead of text))
			keys.action = base.processKeys(keyName).name;
		} else {
			// when regKey is true, keyName is the same as action
			keys = txt;
			keys.action = txt.name;
		}

		data.name = base.processName(txt.name);
		if (keys.name !== '') {
			if (keys.map !== '') {
				$keyboard.builtLayouts[base.layout].mappedKeys[keys.map] = keys.name;
				$keyboard.builtLayouts[base.layout].acceptedKeys.push(keys.name);
			} else if (regKey) {
				$keyboard.builtLayouts[base.layout].acceptedKeys.push(keys.name);
			}
		}

		if (regKey) {
			keyClass = data.name === '' ? '' : kbcss.keyPrefix + data.name;
		} else {
			// Action keys will have the 'ui-keyboard-actionkey' class
			keyClass = kbcss.keyAction + ' ' + kbcss.keyPrefix + keys.action;
		}
		// '\u2190'.length = 1 because the unicode is converted, so if more than one character,
		// add the wide class
		keyClass += (keys.name.length > 2 ? ' ' + kbcss.keyWide : '') + ' ' + o.css.buttonDefault;

		// Allow HTML in the key.name
		data.html = '<span class="' + kbcss.keyText + '">' + keys.name + '</span>';

		data.$key = base.keyBtn
			.clone()
			.attr({
				'data-value': regKey ? keys.name : keys.action, // value
				'data-name': keys.action,
				'data-pos': base.temp[1] + ',' + base.temp[2],
				'data-action': keys.action,
				'data-html': data.html
			})
			// add 'ui-keyboard-' + data.name for all keys
			//  (e.g. 'Bksp' will have 'ui-keyboard-bskp' class)
			// any non-alphanumeric characters will be replaced with
			//  their decimal unicode value
			//  (e.g. '~' is a regular key, class = 'ui-keyboard-126'
			//  (126 is the unicode decimal value - same as &#126;)
			//  See https://en.wikipedia.org/wiki/List_of_Unicode_characters#Control_codes
			.addClass(keyClass)
			.html(data.html)
			.appendTo(base.temp[0]);

		if (keys.map) {
			data.$key.attr('data-mapped', keys.map);
		}
		if (keys.title || txt.title) {
			data.$key.attr({
				'data-title': txt.title || keys.title, // used to allow adding content to title
				'title': txt.title || keys.title
			});
		}

		if (typeof o.buildKey === 'function') {
			data = o.buildKey(base, data);
			// copy html back to attributes
			tmp = data.$key.html();
			data.$key.attr('data-html', tmp);
		}
		return data.$key;
	};

	base.customHash = function (layout) {
		/*jshint bitwise:false */
		var i, array, hash, character, len,
			arrays = [],
			merged = [];
		// pass layout to allow for testing
		layout = typeof layout === 'undefined' ? o.customLayout : layout;
		// get all layout arrays
		for (array in layout) {
			if (layout.hasOwnProperty(array)) {
				arrays.push(layout[array]);
			}
		}
		// flatten array
		merged = merged.concat.apply(merged, arrays).join(' ');
		// produce hash name - http://stackoverflow.com/a/7616484/145346
		hash = 0;
		len = merged.length;
		if (len === 0) {
			return hash;
		}
		for (i = 0; i < len; i++) {
			character = merged.charCodeAt(i);
			hash = ((hash << 5) - hash) + character;
			hash = hash & hash; // Convert to 32bit integer
		}
		return hash;
	};

	base.buildKeyboard = function (name, internal) {
		// o.display is empty when this is called from the scramble extension (when alwaysOpen:true)
		if ($.isEmptyObject(o.display)) {
			// set keyboard language
			base.updateLanguage();
		}
		var index, row, $row, currentSet,
			kbcss = $keyboard.css,
			sets = 0,
			layout = $keyboard.builtLayouts[name || base.layout || o.layout] = {
				mappedKeys: {},
				acceptedKeys: []
			},
			acceptedKeys = layout.acceptedKeys = o.restrictInclude ?
				('' + o.restrictInclude).split(/\s+/) || [] :
				[],
			// using $layout temporarily to hold keyboard popup classnames
			$layout = kbcss.keyboard + ' ' + o.css.popup + ' ' + o.css.container +
				(o.alwaysOpen || o.userClosed ? ' ' + kbcss.alwaysOpen : ''),

			container = $('<div />')
				.addClass($layout)
				.attr({
					'role': 'textbox'
				})
				.hide();

		// allow adding "{space}" as an accepted key - Fixes #627
		index = $.inArray('{space}', acceptedKeys);
		if (index > -1) {
			acceptedKeys[index] = ' ';
		}

		// verify layout or setup custom keyboard
		if ((internal && o.layout === 'custom') || !$keyboard.layouts.hasOwnProperty(o.layout)) {
			o.layout = 'custom';
			$layout = $keyboard.layouts.custom = o.customLayout || {
				'normal': ['{cancel}']
			};
		} else {
			$layout = $keyboard.layouts[internal ? o.layout : name || base.layout || o.layout];
		}

		// Main keyboard building loop
		$.each($layout, function (set, keySet) {
			// skip layout name & lang settings
			if (set !== '' && !/^(name|lang|rtl)$/i.test(set)) {
				// keep backwards compatibility for change from default to normal naming
				if (set === 'default') {
					set = 'normal';
				}
				sets++;
				$row = $('<div />')
					.attr('name', set) // added for typing extension
					.addClass(kbcss.keySet + ' ' + kbcss.keySet + '-' + set)
					.appendTo(container)
					.toggle(set === 'normal');

				for (row = 0; row < keySet.length; row++) {
					// remove extra spaces before spliting (regex probably could be improved)
					currentSet = $.trim(keySet[row]).replace(/\{(\.?)[\s+]?:[\s+]?(\.?)\}/g, '{$1:$2}');
					base.buildRow($row, row, currentSet.split(/\s+/), acceptedKeys);
					$row.find('.' + kbcss.keyButton + ',.' + kbcss.keySpacer)
						.filter(':last')
						.after('<br class="' + kbcss.endRow + '"/>');
				}
			}
		});

		if (sets > 1) {
			base.sets = true;
		}
		layout.hasMappedKeys = !($.isEmptyObject(layout.mappedKeys));
		layout.$keyboard = container;
		return container;
	};

	base.buildRow = function ($row, row, keys, acceptedKeys) {
		var t, txt, key, isAction, action, margin,
			kbcss = $keyboard.css;
		for (key = 0; key < keys.length; key++) {
			// used by addKey function
			base.temp = [$row, row, key];
			isAction = false;

			// ignore empty keys
			if (keys[key].length === 0) {
				continue;
			}

			// process here if it's an action key
			if (/^\{\S+\}$/.test(keys[key])) {
				action = keys[key].match(/^\{(\S+)\}$/)[1];
				// add active class if there are double exclamation points in the name
				if (/\!\!/.test(action)) {
					action = action.replace('!!', '');
					isAction = true;
				}

				// add empty space
				if (/^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/i.test(action)) {
					// not perfect globalization, but allows you to use {sp:1,1em}, {sp:1.2em} or {sp:15px}
					margin = parseFloat(action
						.replace(/,/, '.')
						.match(/^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/i)[1] || 0
					);
					$('<span class="' + kbcss.keyText + '"></span>')
						// previously {sp:1} would add 1em margin to each side of a 0 width span
						// now Firefox doesn't seem to render 0px dimensions, so now we set the
						// 1em margin x 2 for the width
						.width((action.match(/px/i) ? margin + 'px' : (margin * 2) + 'em'))
						.addClass(kbcss.keySpacer)
						.appendTo($row);
				}

				// add empty button
				if (/^empty(:((\d+)?([\.|,]\d+)?)(em|px)?)?$/i.test(action)) {
					margin = (/:/.test(action)) ? parseFloat(action
						.replace(/,/, '.')
						.match(/^empty:((\d+)?([\.|,]\d+)?)(em|px)?$/i)[1] || 0
					) : '';
					base
						.addKey('', ' ', true)
						.addClass(o.css.buttonDisabled + ' ' + o.css.buttonEmpty)
						.attr('aria-disabled', true)
						.width(margin ? (action.match('px') ? margin + 'px' : (margin * 2) + 'em') : '');
					continue;
				}

				// meta keys
				if (/^meta[\w-]+\:?(\w+)?/i.test(action)) {
					base
						.addKey(action.split(':')[0], action)
						.addClass(kbcss.keyHasActive);
					continue;
				}

				// switch needed for action keys with multiple names/shortcuts or
				// default will catch all others
				txt = action.split(':');
				switch (txt[0].toLowerCase()) {

				case 'a':
				case 'accept':
					base
						.addKey('accept', action)
						.addClass(o.css.buttonAction + ' ' + kbcss.keyAction);
					break;

				case 'alt':
				case 'altgr':
					base
						.addKey('alt', action)
						.addClass(kbcss.keyHasActive);
					break;

				case 'b':
				case 'bksp':
					base.addKey('bksp', action);
					break;

				case 'c':
				case 'cancel':
					base
						.addKey('cancel', action)
						.addClass(o.css.buttonAction + ' ' + kbcss.keyAction);
					break;

					// toggle combo/diacritic key
					/*jshint -W083 */
				case 'combo':
					base
						.addKey('combo', action)
						.addClass(kbcss.keyHasActive)
						.attr('title', function (indx, title) {
							// add combo key state to title
							return title + ' ' + o.display[o.useCombos ? 'active' : 'disabled'];
						})
						.toggleClass(o.css.buttonActive, o.useCombos);
					break;

					// Decimal - unique decimal point (num pad layout)
				case 'dec':
					acceptedKeys.push((base.decimal) ? '.' : ',');
					base.addKey('dec', action);
					break;

				case 'e':
				case 'enter':
					base
						.addKey('enter', action)
						.addClass(o.css.buttonAction + ' ' + kbcss.keyAction);
					break;

				case 'lock':
					base
						.addKey('lock', action)
						.addClass(kbcss.keyHasActive);
					break;

				case 's':
				case 'shift':
					base
						.addKey('shift', action)
						.addClass(kbcss.keyHasActive);
					break;

					// Change sign (for num pad layout)
				case 'sign':
					acceptedKeys.push('-');
					base.addKey('sign', action);
					break;

				case 'space':
					acceptedKeys.push(' ');
					base.addKey('space', action);
					break;

				case 't':
				case 'tab':
					base.addKey('tab', action);
					break;

				default:
					if ($keyboard.keyaction.hasOwnProperty(txt[0])) {
						base
							.addKey(txt[0], action)
							.toggleClass(o.css.buttonAction + ' ' + kbcss.keyAction, isAction);
					}

				}

			} else {

				// regular button (not an action key)
				t = keys[key];
				base.addKey(t, t, true);
			}
		}
	};

	base.removeBindings = function (namespace) {
		$(document).unbind(namespace);
		if (base.el.ownerDocument !== document) {
			$(base.el.ownerDocument).unbind(namespace);
		}
		$(window).unbind(namespace);
		base.$el.unbind(namespace);
	};

	base.removeKeyboard = function () {
		base.$decBtn = [];
		// base.$preview === base.$el when o.usePreview is false - fixes #442
		if (o.usePreview) {
			base.$preview.removeData('keyboard');
		}
		base.$preview.unbind(base.namespace + 'keybindings');
		base.preview = null;
		base.$preview = null;
		base.$previewCopy = null;
		base.$keyboard.removeData('keyboard');
		base.$keyboard.remove();
		base.$keyboard = [];
		base.isOpen = false;
		base.isCurrent(false);
	};

	base.destroy = function (callback) {
		var index,
			kbcss = $keyboard.css,
			len = base.extensionNamespace.length,
			tmp = [
				kbcss.input,
				kbcss.locked,
				kbcss.placeholder,
				kbcss.noKeyboard,
				kbcss.alwaysOpen,
				o.css.input,
				kbcss.isCurrent
			].join(' ');
		clearTimeout(base.timer);
		clearTimeout(base.timer2);
		clearTimeout(base.timer3);
		if (base.$keyboard.length) {
			base.removeKeyboard();
		}
		if (base.options.openOn) {
			base.removeBindings(base.options.openOn);
		}
		base.removeBindings(base.namespace);
		base.removeBindings(base.namespace + 'callbacks');
		for (index = 0; index < len; index++) {
			base.removeBindings(base.extensionNamespace[index]);
		}
		base.el.active = false;

		base.$el
			.removeClass(tmp)
			.removeAttr('aria-haspopup')
			.removeAttr('role')
			.removeAttr('readonly')
			.removeData('keyboard');
		base = null;

		if (typeof callback === 'function') {
			callback();
		}
	};

	// Run initializer
	base.init();

	}; // end $.keyboard definition

	// event.which & ASCII values
	$keyboard.keyCodes = {
		backSpace: 8,
		tab: 9,
		enter: 13,
		capsLock: 20,
		escape: 27,
		space: 32,
		pageUp: 33,
		pageDown: 34,
		end: 35,
		home: 36,
		left: 37,
		up: 38,
		right: 39,
		down: 40,
		insert: 45,
		delete: 46,
		// event.which keyCodes (uppercase letters)
		A: 65,
		Z: 90,
		V: 86,
		C: 67,
		X: 88,

		// ASCII lowercase a & z
		a: 97,
		z: 122
	};

	$keyboard.css = {
		// keyboard id suffix
		idSuffix: '_keyboard',
		// class name to set initial focus
		initialFocus: 'keyboard-init-focus',
		// element class names
		input: 'ui-keyboard-input',
		inputClone: 'ui-keyboard-preview-clone',
		wrapper: 'ui-keyboard-preview-wrapper',
		preview: 'ui-keyboard-preview',
		keyboard: 'ui-keyboard',
		keySet: 'ui-keyboard-keyset',
		keyButton: 'ui-keyboard-button',
		keyWide: 'ui-keyboard-widekey',
		keyPrefix: 'ui-keyboard-',
		keyText: 'ui-keyboard-text', // span with button text
		keyHasActive: 'ui-keyboard-hasactivestate',
		keyAction: 'ui-keyboard-actionkey',
		keySpacer: 'ui-keyboard-spacer', // empty keys
		keyToggle: 'ui-keyboard-toggle',
		keyDisabled: 'ui-keyboard-disabled',
		// Class for BRs with a div wrapper inside of contenteditable
		divWrapperCE: 'ui-keyboard-div-wrapper',
		// states
		locked: 'ui-keyboard-lockedinput',
		alwaysOpen: 'ui-keyboard-always-open',
		noKeyboard: 'ui-keyboard-nokeyboard',
		placeholder: 'ui-keyboard-placeholder',
		hasFocus: 'ui-keyboard-has-focus',
		isCurrent: 'ui-keyboard-input-current',
		// validation & autoaccept
		inputValid: 'ui-keyboard-valid-input',
		inputInvalid: 'ui-keyboard-invalid-input',
		inputAutoAccepted: 'ui-keyboard-autoaccepted',
		endRow: 'ui-keyboard-button-endrow' // class added to <br>
	};

	$keyboard.events = {
		// keyboard events
		kbChange: 'keyboardChange',
		kbBeforeClose: 'beforeClose',
		kbBeforeVisible: 'beforeVisible',
		kbVisible: 'visible',
		kbInit: 'initialized',
		kbInactive: 'inactive',
		kbHidden: 'hidden',
		kbRepeater: 'repeater',
		kbKeysetChange: 'keysetChange',
		// input events
		inputAccepted: 'accepted',
		inputCanceled: 'canceled',
		inputChange: 'change',
		inputRestricted: 'restricted'
	};

	// Action key function list
	$keyboard.keyaction = {
		accept: function (base) {
			base.close(true); // same as base.accept();
			return false; // return false prevents further processing
		},
		alt: function (base) {
			base.altActive = !base.altActive;
			base.showSet();
		},
		bksp: function (base) {
			if (base.isContentEditable) {
				base.execCommand('delete');
				// save new caret position
				base.saveCaret();
			} else {
				// the script looks for the '\b' string and initiates a backspace
				base.insertText('\b');
			}
		},
		cancel: function (base) {
			base.close();
			return false; // return false prevents further processing
		},
		clear: function (base) {
			base.$preview[base.isContentEditable ? 'text' : 'val']('');
			if (base.$decBtn.length) {
				base.checkDecimal();
			}
		},
		combo: function (base) {
			var o = base.options,
				c = !o.useCombos,
				$combo = base.$keyboard.find('.' + $keyboard.css.keyPrefix + 'combo');
			o.useCombos = c;
			$combo
				.toggleClass(o.css.buttonActive, c)
				// update combo key state
				.attr('title', $combo.attr('data-title') + ' (' + o.display[c ? 'active' : 'disabled'] + ')');
			if (c) {
				base.checkCombos();
			}
			return false;
		},
		dec: function (base) {
			base.insertText((base.decimal) ? '.' : ',');
		},
		del: function (base) {
			if (base.isContentEditable) {
				base.execCommand('forwardDelete');
			} else {
				// the script looks for the '{d}' string and initiates a delete
				base.insertText('{d}');
			}
		},
		// resets to base keyset (deprecated because "default" is a reserved word)
		'default': function (base) {
			base.shiftActive = base.altActive = base.metaActive = false;
			base.showSet();
		},
		// el is the pressed key (button) object; it is null when the real keyboard enter is pressed
		enter: function (base, el, e) {
			var o = base.options;
			// shift+enter in textareas
			if (e.shiftKey) {
				// textarea, input & contenteditable - enterMod + shift + enter = accept,
				//  then go to prev; base.switchInput(goToNext, autoAccept)
				// textarea & input - shift + enter = accept (no navigation)
				return (o.enterNavigation) ? base.switchInput(!e[o.enterMod], true) : base.close(true);
			}
			// input only - enterMod + enter to navigate
			if (o.enterNavigation && (!base.isTextArea || e[o.enterMod])) {
				return base.switchInput(!e[o.enterMod], o.autoAccept ? 'true' : false);
			}
			// pressing virtual enter button inside of a textarea - add a carriage return
			// e.target is span when clicking on text and button at other times
			if (base.isTextArea && $(e.target).closest('button').length) {
				// IE8 fix (space + \n) - fixes #71 thanks Blookie!
				base.insertText(($keyboard.msie ? ' ' : '') + '\n');
			}
			if (base.isContentEditable && !o.enterNavigation) {
				base.execCommand('insertHTML', '<div><br class="' + $keyboard.css.divWrapperCE + '"></div>');
				// Using backspace on wrapped BRs will now shift the textnode inside of the wrapped BR
				// Although not ideal, the caret is moved after the block - see the wiki page for
				// more details: https://github.com/Mottie/Keyboard/wiki/Contenteditable#limitations
				// move caret after a delay to allow rendering of HTML
				setTimeout(function() {
					$keyboard.keyaction.right(base);
					base.saveCaret();
				}, 0);
			}
		},
		// caps lock key
		lock: function (base) {
			base.last.keyset[0] = base.shiftActive = base.capsLock = !base.capsLock;
			base.showSet();
		},
		left: function (base) {
			var p = $keyboard.caret(base.$preview);
			if (p.start - 1 >= 0) {
				// move both start and end of caret (prevents text selection) & save caret position
				base.last.start = base.last.end = p.start - 1;
				$keyboard.caret(base.$preview, base.last);
				base.setScroll();
			}
		},
		meta: function (base, el) {
			var $el = $(el);
			base.metaActive = !$el.hasClass(base.options.css.buttonActive);
			base.showSet($el.attr('data-name'));
		},
		next: function (base) {
			base.switchInput(true, base.options.autoAccept);
			return false;
		},
		// same as 'default' - resets to base keyset
		normal: function (base) {
			base.shiftActive = base.altActive = base.metaActive = false;
			base.showSet();
		},
		prev: function (base) {
			base.switchInput(false, base.options.autoAccept);
			return false;
		},
		right: function (base) {
			var p = $keyboard.caret(base.$preview),
				len = base.isContentEditable ? $keyboard.getEditableLength(base.el) : base.getValue().length;
			if (p.end + 1 <= len) {
				// move both start and end of caret to end position
				// (prevents text selection) && save caret position
				base.last.start = base.last.end = p.end + 1;
				$keyboard.caret(base.$preview, base.last);
				base.setScroll();
			}
		},
		shift: function (base) {
			base.last.keyset[0] = base.shiftActive = !base.shiftActive;
			base.showSet();
		},
		sign: function (base) {
			if (/^[+-]?\d*\.?\d*$/.test(base.getValue())) {
				var caret,
					p = $keyboard.caret(base.$preview),
					val = base.getValue(),
					len = base.isContentEditable ? $keyboard.getEditableLength(base.el) : val.length;
				base.setValue(val * -1);
				caret = len - val.length;
				base.last.start = p.start + caret;
				base.last.end = p.end + caret;
				$keyboard.caret(base.$preview, base.last);
				base.setScroll();
			}
		},
		space: function (base) {
			base.insertText(' ');
		},
		tab: function (base) {
			var o = base.options;
			if (!base.isTextArea) {
				if (o.tabNavigation) {
					return base.switchInput(!base.shiftActive, true);
				} else if (base.isInput) {
					// ignore tab key in input
					return false;
				}
			}
			base.insertText('\t');
		},
		toggle: function (base) {
			base.enabled = !base.enabled;
			base.toggle();
		},
		// *** Special action keys: NBSP & zero-width characters ***
		// Non-breaking space
		NBSP: '\u00a0',
		// zero width space
		ZWSP: '\u200b',
		// Zero width non-joiner
		ZWNJ: '\u200c',
		// Zero width joiner
		ZWJ: '\u200d',
		// Left-to-right Mark
		LRM: '\u200e',
		// Right-to-left Mark
		RLM: '\u200f'
	};

	// Default keyboard layouts
	$keyboard.builtLayouts = {};
	$keyboard.layouts = {
		'alpha': {
			'normal': [
				'` 1 2 3 4 5 6 7 8 9 0 - = {bksp}',
				'{tab} a b c d e f g h i j [ ] \\',
				'k l m n o p q r s ; \' {enter}',
				'{shift} t u v w x y z , . / {shift}',
				'{accept} {space} {cancel}'
			],
			'shift': [
				'~ ! @ # $ % ^ & * ( ) _ + {bksp}',
				'{tab} A B C D E F G H I J { } |',
				'K L M N O P Q R S : " {enter}',
				'{shift} T U V W X Y Z < > ? {shift}',
				'{accept} {space} {cancel}'
			]
		},
		'qwerty': {
			'normal': [
				'` 1 2 3 4 5 6 7 8 9 0 - = {bksp}',
				'{tab} q w e r t y u i o p [ ] \\',
				'a s d f g h j k l ; \' {enter}',
				'{shift} z x c v b n m , . / {shift}',
				'{accept} {space} {cancel}'
			],
			'shift': [
				'~ ! @ # $ % ^ & * ( ) _ + {bksp}',
				'{tab} Q W E R T Y U I O P { } |',
				'A S D F G H J K L : " {enter}',
				'{shift} Z X C V B N M < > ? {shift}',
				'{accept} {space} {cancel}'
			]
		},
		'international': {
			'normal': [
				'` 1 2 3 4 5 6 7 8 9 0 - = {bksp}',
				'{tab} q w e r t y u i o p [ ] \\',
				'a s d f g h j k l ; \' {enter}',
				'{shift} z x c v b n m , . / {shift}',
				'{accept} {alt} {space} {alt} {cancel}'
			],
			'shift': [
				'~ ! @ # $ % ^ & * ( ) _ + {bksp}',
				'{tab} Q W E R T Y U I O P { } |',
				'A S D F G H J K L : " {enter}',
				'{shift} Z X C V B N M < > ? {shift}',
				'{accept} {alt} {space} {alt} {cancel}'
			],
			'alt': [
				'~ \u00a1 \u00b2 \u00b3 \u00a4 \u20ac \u00bc \u00bd \u00be \u2018 \u2019 \u00a5 \u00d7 {bksp}',
				'{tab} \u00e4 \u00e5 \u00e9 \u00ae \u00fe \u00fc \u00fa \u00ed \u00f3 \u00f6 \u00ab \u00bb \u00ac',
				'\u00e1 \u00df \u00f0 f g h j k \u00f8 \u00b6 \u00b4 {enter}',
				'{shift} \u00e6 x \u00a9 v b \u00f1 \u00b5 \u00e7 > \u00bf {shift}',
				'{accept} {alt} {space} {alt} {cancel}'
			],
			'alt-shift': [
				'~ \u00b9 \u00b2 \u00b3 \u00a3 \u20ac \u00bc \u00bd \u00be \u2018 \u2019 \u00a5 \u00f7 {bksp}',
				'{tab} \u00c4 \u00c5 \u00c9 \u00ae \u00de \u00dc \u00da \u00cd \u00d3 \u00d6 \u00ab \u00bb \u00a6',
				'\u00c4 \u00a7 \u00d0 F G H J K \u00d8 \u00b0 \u00a8 {enter}',
				'{shift} \u00c6 X \u00a2 V B \u00d1 \u00b5 \u00c7 . \u00bf {shift}',
				'{accept} {alt} {space} {alt} {cancel}'
			]
		},
		'colemak': {
			'normal': [
				'` 1 2 3 4 5 6 7 8 9 0 - = {bksp}',
				'{tab} q w f p g j l u y ; [ ] \\',
				'{bksp} a r s t d h n e i o \' {enter}',
				'{shift} z x c v b k m , . / {shift}',
				'{accept} {space} {cancel}'
			],
			'shift': [
				'~ ! @ # $ % ^ & * ( ) _ + {bksp}',
				'{tab} Q W F P G J L U Y : { } |',
				'{bksp} A R S T D H N E I O " {enter}',
				'{shift} Z X C V B K M < > ? {shift}',
				'{accept} {space} {cancel}'
			]
		},
		'dvorak': {
			'normal': [
				'` 1 2 3 4 5 6 7 8 9 0 [ ] {bksp}',
				'{tab} \' , . p y f g c r l / = \\',
				'a o e u i d h t n s - {enter}',
				'{shift} ; q j k x b m w v z {shift}',
				'{accept} {space} {cancel}'
			],
			'shift': [
				'~ ! @ # $ % ^ & * ( ) { } {bksp}',
				'{tab} " < > P Y F G C R L ? + |',
				'A O E U I D H T N S _ {enter}',
				'{shift} : Q J K X B M W V Z {shift}',
				'{accept} {space} {cancel}'
			]
		},
		'num': {
			'normal': [
				'= ( ) {b}',
				'{clear} / * -',
				'7 8 9 +',
				'4 5 6 {sign}',
				'1 2 3 %',
				'0 {dec} {a} {c}'
			]
		}
	};

	$keyboard.language = {
		en: {
			display: {
				// check mark - same action as accept
				'a': '\u2714:Accept (Shift+Enter)',
				'accept': 'Accept:Accept (Shift+Enter)',
				// other alternatives \u2311
				'alt': 'Alt:\u2325 AltGr',
				// Left arrow (same as &larr;)
				'b': '\u232b:Backspace',
				'bksp': 'Bksp:Backspace',
				// big X, close - same action as cancel
				'c': '\u2716:Cancel (Esc)',
				'cancel': 'Cancel:Cancel (Esc)',
				// clear num pad
				'clear': 'C:Clear',
				'combo': '\u00f6:Toggle Combo Keys',
				// decimal point for num pad (optional), change '.' to ',' for European format
				'dec': '.:Decimal',
				// down, then left arrow - enter symbol
				'e': '\u23ce:Enter',
				'empty': '\u00a0',
				'enter': 'Enter:Enter \u23ce',
				// left arrow (move caret)
				'left': '\u2190',
				// caps lock
				'lock': 'Lock:\u21ea Caps Lock',
				'next': 'Next \u21e8',
				'prev': '\u21e6 Prev',
				// right arrow (move caret)
				'right': '\u2192',
				// thick hollow up arrow
				's': '\u21e7:Shift',
				'shift': 'Shift:Shift',
				// +/- sign for num pad
				'sign': '\u00b1:Change Sign',
				'space': '\u00a0:Space',
				// right arrow to bar (used since this virtual keyboard works with one directional tabs)
				't': '\u21e5:Tab',
				// \u21b9 is the true tab symbol (left & right arrows)
				'tab': '\u21e5 Tab:Tab',
				// replaced by an image
				'toggle': ' ',

				// added to titles of keys
				// accept key status when acceptValid:true
				'valid': 'valid',
				'invalid': 'invalid',
				// combo key states
				'active': 'active',
				'disabled': 'disabled'
			},

			// Message added to the key title while hovering, if the mousewheel plugin exists
			wheelMessage: 'Use mousewheel to see other keys',

			comboRegex: /([`\'~\^\"ao])([a-z])/mig,
			combos: {
				// grave
				'`': { a: '\u00e0', A: '\u00c0', e: '\u00e8', E: '\u00c8', i: '\u00ec', I: '\u00cc', o: '\u00f2',
						O: '\u00d2', u: '\u00f9', U: '\u00d9', y: '\u1ef3', Y: '\u1ef2' },
				// acute & cedilla
				"'": { a: '\u00e1', A: '\u00c1', e: '\u00e9', E: '\u00c9', i: '\u00ed', I: '\u00cd', o: '\u00f3',
						O: '\u00d3', u: '\u00fa', U: '\u00da', y: '\u00fd', Y: '\u00dd' },
				// umlaut/trema
				'"': { a: '\u00e4', A: '\u00c4', e: '\u00eb', E: '\u00cb', i: '\u00ef', I: '\u00cf', o: '\u00f6',
						O: '\u00d6', u: '\u00fc', U: '\u00dc', y: '\u00ff', Y: '\u0178' },
				// circumflex
				'^': { a: '\u00e2', A: '\u00c2', e: '\u00ea', E: '\u00ca', i: '\u00ee', I: '\u00ce', o: '\u00f4',
						O: '\u00d4', u: '\u00fb', U: '\u00db', y: '\u0177', Y: '\u0176' },
				// tilde
				'~': { a: '\u00e3', A: '\u00c3', e: '\u1ebd', E: '\u1ebc', i: '\u0129', I: '\u0128', o: '\u00f5',
						O: '\u00d5', u: '\u0169', U: '\u0168', y: '\u1ef9', Y: '\u1ef8', n: '\u00f1', N: '\u00d1' }
			}
		}
	};

	$keyboard.defaultOptions = {
		// set this to ISO 639-1 language code to override language set by the layout
		// http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes
		// language defaults to 'en' if not found
		language: null,
		rtl: false,

		// *** choose layout & positioning ***
		layout: 'qwerty',
		customLayout: null,

		position: {
			// optional - null (attach to input/textarea) or a jQuery object (attach elsewhere)
			of: null,
			my: 'center top',
			at: 'center top',
			// used when 'usePreview' is false (centers the keyboard at the bottom of the input/textarea)
			at2: 'center bottom'
		},

		// allow jQuery position utility to reposition the keyboard on window resize
		reposition: true,

		// preview added above keyboard if true, original input/textarea used if false
		usePreview: true,

		// if true, the keyboard will always be visible
		alwaysOpen: false,

		// give the preview initial focus when the keyboard becomes visible
		initialFocus: true,

		// avoid changing the focus (hardware keyboard probably won't work)
		noFocus: false,

		// if true, keyboard will remain open even if the input loses focus, but closes on escape
		// or when another keyboard opens.
		stayOpen: false,

		// Prevents the keyboard from closing when the user clicks or presses outside the keyboard
		// the `autoAccept` option must also be set to true when this option is true or changes are lost
		userClosed: false,

		// if true, keyboard will not close if you press escape.
		ignoreEsc: false,

		// if true, keyboard will only closed on click event instead of mousedown and touchstart
		closeByClickEvent: false,

		css: {
			// input & preview
			input: 'ui-widget-content ui-corner-all',
			// keyboard container
			container: 'ui-widget-content ui-widget ui-corner-all ui-helper-clearfix',
			// keyboard container extra class (same as container, but separate)
			popup: '',
			// default state
			buttonDefault: 'ui-state-default ui-corner-all',
			// hovered button
			buttonHover: 'ui-state-hover',
			// Action keys (e.g. Accept, Cancel, Tab, etc); this replaces 'actionClass' option
			buttonAction: 'ui-state-active',
			// Active keys (e.g. shift down, meta keyset active, combo keys active)
			buttonActive: 'ui-state-active',
			// used when disabling the decimal button {dec} when a decimal exists in the input area
			buttonDisabled: 'ui-state-disabled',
			buttonEmpty: 'ui-keyboard-empty'
		},

		// *** Useability ***
		// Auto-accept content when clicking outside the keyboard (popup will close)
		autoAccept: false,
		// Auto-accept content even if the user presses escape (only works if `autoAccept` is `true`)
		autoAcceptOnEsc: false,

		// Prevents direct input in the preview window when true
		lockInput: false,

		// Prevent keys not in the displayed keyboard from being typed in
		restrictInput: false,
		// Additional allowed characters while restrictInput is true
		restrictInclude: '', // e.g. 'a b foo \ud83d\ude38'

		// Check input against validate function, if valid the accept button gets a class name of
		// 'ui-keyboard-valid-input'. If invalid, the accept button gets a class name of
		// 'ui-keyboard-invalid-input'
		acceptValid: false,
		// Auto-accept when input is valid; requires `acceptValid` set `true` & validate callback
		autoAcceptOnValid: false,
		// Check validation on keyboard initialization. If false, the "Accept" key state (color)
		// will not change to show if the content is valid, or not
		checkValidOnInit: true,

		// if acceptValid is true & the validate function returns a false, this option will cancel
		// a keyboard close only after the accept button is pressed
		cancelClose: true,

		// tab to go to next, shift-tab for previous (default behavior)
		tabNavigation: false,

		// enter for next input; shift+enter accepts content & goes to next
		// shift + 'enterMod' + enter ('enterMod' is the alt as set below) will accept content and go
		// to previous in a textarea
		enterNavigation: false,
		// mod key options: 'ctrlKey', 'shiftKey', 'altKey', 'metaKey' (MAC only)
		enterMod: 'altKey', // alt-enter to go to previous; shift-alt-enter to accept & go to previous

		// if true, the next button will stop on the last keyboard input/textarea; prev button stops at first
		// if false, the next button will wrap to target the first input/textarea; prev will go to the last
		stopAtEnd: true,

		// Set this to append the keyboard after the input/textarea (appended to the input/textarea parent).
		// This option works best when the input container doesn't have a set width & when the 'tabNavigation'
		// option is true.
		appendLocally: false,
		// When appendLocally is false, the keyboard will be appended to this object
		appendTo: 'body',

		// Wrap all <br>s inside of a contenteditable in a div; without wrapping, the caret
		// position will not be accurate
		wrapBRs: true,

		// If false, the shift key will remain active until the next key is (mouse) clicked on; if true it will
		// stay active until pressed again
		stickyShift: true,

		// Prevent pasting content into the area
		preventPaste: false,

		// caret placed at the end of any text when keyboard becomes visible
		caretToEnd: false,

		// caret stays this many pixels from the edge of the input while scrolling left/right;
		// use "c" or "center" to center the caret while scrolling
		scrollAdjustment: 10,

		// Set the max number of characters allowed in the input, setting it to false disables this option
		maxLength: false,
		// allow inserting characters @ caret when maxLength is set
		maxInsert: true,

		// Mouse repeat delay - when clicking/touching a virtual keyboard key, after this delay the key will
		// start repeating
		repeatDelay: 500,

		// Mouse repeat rate - after the repeatDelay, this is the rate (characters per second) at which the
		// key is repeated Added to simulate holding down a real keyboard key and having it repeat. I haven't
		// calculated the upper limit of this rate, but it is limited to how fast the javascript can process
		// the keys. And for me, in Firefox, it's around 20.
		repeatRate: 20,

		// resets the keyboard to the default keyset when visible
		resetDefault: true,

		// Event (namespaced) on the input to reveal the keyboard. To disable it, just set it to ''.
		openOn: 'focus',

		// enable the keyboard on readonly inputs
		activeOnReadonly: false,

		// Event (namepaced) for when the character is added to the input (clicking on the keyboard)
		keyBinding: 'mousedown touchstart',

		// enable/disable mousewheel functionality
		// enabling still depends on the mousewheel plugin
		useWheel: true,

		// combos (emulate dead keys : http://en.wikipedia.org/wiki/Keyboard_layout#US-International)
		// if user inputs `a the script converts it to à, ^o becomes ô, etc.
		useCombos: true,

		/*
			// *** Methods ***
			// commenting these out to reduce the size of the minified version
			// Callbacks - attach a function to any of these callbacks as desired
			initialized   : function(e, keyboard, el) {},
			beforeVisible : function(e, keyboard, el) {},
			visible       : function(e, keyboard, el) {},
			beforeInsert  : function(e, keyboard, el, textToAdd) { return textToAdd; },
			change        : function(e, keyboard, el) {},
			beforeClose   : function(e, keyboard, el, accepted) {},
			accepted      : function(e, keyboard, el) {},
			canceled      : function(e, keyboard, el) {},
			restricted    : function(e, keyboard, el) {},
			hidden        : function(e, keyboard, el) {},
			// called instead of base.switchInput
			switchInput   : function(keyboard, goToNext, isAccepted) {},
			// used if you want to create a custom layout or modify the built-in keyboard
			create        : function(keyboard) { return keyboard.buildKeyboard(); },

			// build key callback
			buildKey : function( keyboard, data ) {
				/ *
				data = {
				// READ ONLY
				isAction : [boolean] true if key is an action key
				name     : [string]  key class name suffix ( prefix = 'ui-keyboard-' );
														 may include decimal ascii value of character
				value    : [string]  text inserted (non-action keys)
				title    : [string]  title attribute of key
				action   : [string]  keyaction name
				html     : [string]  HTML of the key; it includes a <span> wrapping the text
				// use to modify key HTML
				$key     : [object]  jQuery selector of key which is already appended to keyboard
				}
				* /
				return data;
			},
		*/

		// this callback is called, if the acceptValid is true, and just before the 'beforeClose' to check
		// the value if the value is valid, return true and the keyboard will continue as it should
		// (close if not always open, etc). If the value is not valid, return false and clear the keyboard
		// value ( like this "keyboard.$preview.val('');" ), if desired. The validate function is called after
		// each input, the 'isClosing' value will be false; when the accept button is clicked,
		// 'isClosing' is true
		validate: function (/* keyboard, value, isClosing */) {
			return true;
		}

	};

	// for checking combos
	$keyboard.comboRegex = /([`\'~\^\"ao])([a-z])/mig;

	// store current keyboard element; used by base.isCurrent()
	$keyboard.currentKeyboard = '';

	$('<!--[if lte IE 8]><script>jQuery("body").addClass("oldie");</script><![endif]--><!--[if IE]>' +
			'<script>jQuery("body").addClass("ie");</script><![endif]-->')
		.appendTo('body')
		.remove();
	$keyboard.msie = $('body').hasClass('oldie'); // Old IE flag, used for caret positioning
	$keyboard.allie = $('body').hasClass('ie');

	$keyboard.watermark = (typeof (document.createElement('input').placeholder) !== 'undefined');

	$keyboard.checkCaretSupport = function () {
		if (typeof $keyboard.checkCaret !== 'boolean') {
			// Check if caret position is saved when input is hidden or loses focus
			// (*cough* all versions of IE and I think Opera has/had an issue as well
			var $temp = $('<div style="height:0px;width:0px;overflow:hidden;position:fixed;top:0;left:-100px;">' +
				'<input type="text" value="testing"/></div>').prependTo('body'); // stop page scrolling
			$keyboard.caret($temp.find('input'), 3, 3);
			// Also save caret position of the input if it is locked
			$keyboard.checkCaret = $keyboard.caret($temp.find('input').hide().show()).start !== 3;
			$temp.remove();
		}
		return $keyboard.checkCaret;
	};

	$keyboard.caret = function($el, param1, param2) {
		if (!$el || !$el.length || $el.is(':hidden') || $el.css('visibility') === 'hidden') {
			return {};
		}
		var start, end, txt, pos,
			kb = $el.data( 'keyboard' ),
			noFocus = kb && kb.options.noFocus,
			formEl = /(textarea|input)/i.test($el[0].nodeName);
		if (!noFocus) { $el.focus(); }
		// set caret position
		if (typeof param1 !== 'undefined') {
			// allow setting caret using ( $el, { start: x, end: y } )
			if (typeof param1 === 'object' && 'start' in param1 && 'end' in param1) {
				start = param1.start;
				end = param1.end;
			} else if (typeof param2 === 'undefined') {
				param2 = param1; // set caret using start position
			}
			// set caret using ( $el, start, end );
			if (typeof param1 === 'number' && typeof param2 === 'number') {
				start = param1;
				end = param2;
			} else if ( param1 === 'start' ) {
				start = end = 0;
			} else if ( typeof param1 === 'string' ) {
				// unknown string setting, move caret to end
				start = end = 'end';
			}

			// *** SET CARET POSITION ***
			// modify the line below to adapt to other caret plugins
			return formEl ?
				$el.caret( start, end, noFocus ) :
				$keyboard.setEditableCaret( $el, start, end );
		}
		// *** GET CARET POSITION ***
		// modify the line below to adapt to other caret plugins
		if (formEl) {
			// modify the line below to adapt to other caret plugins
			pos = $el.caret();
		} else {
			// contenteditable
			pos = $keyboard.getEditableCaret($el[0]);
		}
		start = pos.start;
		end = pos.end;

		// *** utilities ***
		txt = formEl && $el[0].value || $el.text() || '';
		return {
			start : start,
			end : end,
			// return selected text
			text : txt.substring( start, end ),
			// return a replace selected string method
			replaceStr : function( str ) {
				return txt.substring( 0, start ) + str + txt.substring( end, txt.length );
			}
		};
	};

	$keyboard.isTextNode = function(el) {
		return el && el.nodeType === 3;
	};

	$keyboard.isBlock = function(el, node) {
		var win = el.ownerDocument.defaultView;
		if (
			node && node.nodeType === 1 && node !== el &&
			win.getComputedStyle(node).display === 'block'
		) {
			return 1;
		}
		return 0;
	};

	// Wrap all BR's inside of contenteditable
	$keyboard.wrapBRs = function(container) {
		var $el = $(container).find('br:not(.' + $keyboard.css.divWrapperCE + ')');
		if ($el.length) {
			$.each($el, function(i, el) {
				var len = el.parentNode.childNodes.length;
				if (
					// wrap BRs if not solo child
					len !== 1 ||
					// Or if BR is wrapped by a span
					len === 1 && !$keyboard.isBlock(container, el.parentNode)
				) {
					$(el).addClass($keyboard.css.divWrapperCE).wrap('<div>');
				}
			});
		}
	};

	$keyboard.getEditableCaret = function(container) {
		container = $(container)[0];
		if (!container.isContentEditable) { return {}; }
		var end, text,
			options = ($(container).data('keyboard') || {}).options,
			doc = container.ownerDocument,
			range = doc.getSelection().getRangeAt(0),
			result = pathToNode(range.startContainer, range.startOffset),
			start = result.position;
		if (options.wrapBRs !== false) {
			$keyboard.wrapBRs(container);
		}
		function pathToNode(endNode, offset) {
			var node, adjust,
				txt = '',
				done = false,
				position = 0,
				nodes = $.makeArray(container.childNodes);

			function checkBlock(val) {
				if (val) {
					position += val;
					txt += options && options.replaceCR || '\n';
				}
			}

			while (!done && nodes.length) {
				node = nodes.shift();
				if (node === endNode) {
					done = true;
				}

				// Add one if previous sibling was a block node (div, p, etc)
				adjust = $keyboard.isBlock(container, node.previousSibling);
				checkBlock(adjust);

				if ($keyboard.isTextNode(node)) {
					position += done ? offset : node.length;
					txt += node.textContent;
					if (done) {
						return {position: position, text: txt};
					}
				} else if (!done && node.childNodes) {
					nodes = $.makeArray(node.childNodes).concat(nodes);
				}
				// Add one if we're inside a block node (div, p, etc)
				// and previous sibling was a text node
				adjust = $keyboard.isTextNode(node.previousSibling) && $keyboard.isBlock(container, node);
				checkBlock(adjust);
			}
			return {position: position, text: txt};
		}
		// check of start and end are the same
		if (range.endContainer === range.startContainer && range.endOffset === range.startOffset) {
			end = start;
			text = '';
		} else {
			result = pathToNode(range.endContainer, range.endOffset);
			end = result.position;
			text = result.text.substring(start, end);
		}
		return {
			start: start,
			end: end,
			text: text
		};
	};

	$keyboard.getEditableLength = function(container) {
		var result = $keyboard.setEditableCaret(container, 'getMax');
		// if not a number, the container is not a contenteditable element
		return typeof result === 'number' ? result : null;
	};

	$keyboard.setEditableCaret = function(container, start, end) {
		container = $(container)[0];
		if (!container.isContentEditable) { return {}; }
		var doc = container.ownerDocument,
			range = doc.createRange(),
			sel = doc.getSelection(),
			options = ($(container).data('keyboard') || {}).options,
			s = start,
			e = end,
			text = '',
			result = findNode(start === 'getMax' ? 'end' : start);
		function findNode(offset) {
			if (offset === 'end') {
				// Set some value > content length; but return max
				offset = container.innerHTML.length;
			} else if (offset < 0) {
				offset = 0;
			}
			var node, check,
				txt = '',
				done = false,
				position = 0,
				last = 0,
				max = 0,
				nodes = $.makeArray(container.childNodes);
			function updateText(val) {
				txt += val ? options && options.replaceCR || '\n' : '';
				return val > 0;
			}
			function checkDone(adj) {
				var val = position + adj;
				last = max;
				max += adj;
				if (offset - val >= 0) {
					position = val;
					return offset - position <= 0;
				}
				return offset - val <= 0;
			}
			while (!done && nodes.length) {
				node = nodes.shift();
				// Add one if the previous sibling was a block node (div, p, etc)
				check = $keyboard.isBlock(container, node.previousSibling);
				if (updateText(check) && checkDone(check)) {
					done = true;
				}
				// Add one if we're inside a block node (div, p, etc)
				check = $keyboard.isTextNode(node.previousSibling) && $keyboard.isBlock(container, node);
				if (updateText(check) && checkDone(check)) {
					done = true;
				}
				if ($keyboard.isTextNode(node)) {
					txt += node.textContent;
					if (checkDone(node.length)) {
						check = offset - position === 0 && position - last >= 1 ? node.length : offset - position;
						return {
							node: node,
							offset: check,
							position: offset,
							text: txt
						};
					}
				} else if (!done && node.childNodes) {
					nodes = $.makeArray(node.childNodes).concat(nodes);
				}
			}
			return nodes.length ?
				{node: node, offset: offset - position, position: offset, text: txt} :
				// Offset is larger than content, return max
				{node: node, offset: node && node.length || 0, position: max, text: txt};
		}
		if (result.node) {
			s = result.position; // Adjust if start > content length
			if (start === 'getMax') {
				return s;
			}
			range.setStart(result.node, result.offset);
			// Only find end if > start and is defined... this allows passing
			// setEditableCaret(el, 'end') or setEditableCaret(el, 10, 'end');
			if (typeof end !== 'undefined' && end !== start) {
				result = findNode(end);
			}
			if (result.node) {
				e = result.position; // Adjust if end > content length
				range.setEnd(result.node, result.offset);
				text = s === e ? '' : result.text.substring(s, e);
			}
			sel.removeAllRanges();
			sel.addRange(range);
		}
		return {
			start: s,
			end: e,
			text: text
		};
	};

	$keyboard.replaceContent = function (el, param) {
		el = $(el)[0];
		var node, i, str,
			type = typeof param,
			caret = $keyboard.getEditableCaret(el).start,
			charIndex = 0,
			nodeStack = [el];
		while ((node = nodeStack.pop())) {
			if ($keyboard.isTextNode(node)) {
				if (type === 'function') {
					if (caret >= charIndex && caret <= charIndex + node.length) {
						node.textContent = param(node.textContent);
					}
				} else if (type === 'string') {
					// maybe not the best method, but it works for simple changes
					str = param.substring(charIndex, charIndex + node.length);
					if (str !== node.textContent) {
						node.textContent = str;
					}
				}
				charIndex += node.length;
			} else if (node && node.childNodes) {
				i = node.childNodes.length;
				while (i--) {
					nodeStack.push(node.childNodes[i]);
				}
			}
		}
		i = $keyboard.getEditableCaret(el);
		$keyboard.setEditableCaret(el, i.start, i.start);
	};

	$.fn.keyboard = function (options) {
		return this.each(function () {
			if (!$(this).data('keyboard')) {
				/*jshint nonew:false */
				(new $.keyboard(this, options));
			}
		});
	};

	$.fn.getkeyboard = function () {
		return this.data('keyboard');
	};

	/* Copyright (c) 2010 C. F., Wong (<a href="http://cloudgen.w0ng.hk">Cloudgen Examplet Store</a>)
	 * Licensed under the MIT License:
	 * http://www.opensource.org/licenses/mit-license.php
	 * Highly modified from the original
	 */

	$.fn.caret = function (start, end, noFocus) {
		if (
			typeof this[0] === 'undefined' ||
			this.is(':hidden') ||
			this.css('visibility') === 'hidden' ||
			!/(INPUT|TEXTAREA)/i.test(this[0].nodeName)
		) {
			return this;
		}
		var selRange, range, stored_range, txt, val,
			$el = this,
			el = $el[0],
			selection = el.ownerDocument.selection,
			sTop = el.scrollTop,
			ss = false,
			supportCaret = true;
		try {
			ss = 'selectionStart' in el;
		} catch (err) {
			supportCaret = false;
		}
		if (supportCaret && typeof start !== 'undefined') {
			if (!/(email|number)/i.test(el.type)) {
				if (ss) {
					el.selectionStart = start;
					el.selectionEnd = end;
				} else {
					selRange = el.createTextRange();
					selRange.collapse(true);
					selRange.moveStart('character', start);
					selRange.moveEnd('character', end - start);
					selRange.select();
				}
			}
			// must be visible or IE8 crashes; IE9 in compatibility mode works fine - issue #56
			if (!noFocus && ($el.is(':visible') || $el.css('visibility') !== 'hidden')) {
				el.focus();
			}
			el.scrollTop = sTop;
			return this;
		}
		if (/(email|number)/i.test(el.type)) {
			// fix suggested by raduanastase (https://github.com/Mottie/Keyboard/issues/105#issuecomment-40456535)
			start = end = $el.val().length;
		} else if (ss) {
			start = el.selectionStart;
			end = el.selectionEnd;
		} else if (selection) {
			if (el.nodeName.toUpperCase() === 'TEXTAREA') {
				val = $el.val();
				range = selection.createRange();
				stored_range = range.duplicate();
				stored_range.moveToElementText(el);
				stored_range.setEndPoint('EndToEnd', range);
				// thanks to the awesome comments in the rangy plugin
				start = stored_range.text.replace(/\r/g, '\n').length;
				end = start + range.text.replace(/\r/g, '\n').length;
			} else {
				val = $el.val().replace(/\r/g, '\n');
				range = selection.createRange().duplicate();
				range.moveEnd('character', val.length);
				start = (range.text === '' ? val.length : val.lastIndexOf(range.text));
				range = selection.createRange().duplicate();
				range.moveStart('character', -val.length);
				end = range.text.length;
			}
		} else {
			// caret positioning not supported
			start = end = (el.value || '').length;
		}
		txt = (el.value || '');
		return {
			start: start,
			end: end,
			text: txt.substring(start, end),
			replace: function (str) {
				return txt.substring(0, start) + str + txt.substring(end, txt.length);
			}
		};
	};

	return $keyboard;

}));


/***/ }),
/* 5 */
/***/ (function(module, exports) {

module.exports = jQuery;

/***/ }),
/* 6 */
/***/ (function(module, exports) {

/**
               _ _____           _          _     _      
              | |  __ \         (_)        | |   | |     
      ___ ___ | | |__) |___  ___ _ ______ _| |__ | | ___ 
     / __/ _ \| |  _  // _ \/ __| |_  / _` | '_ \| |/ _ \
    | (_| (_) | | | \ \  __/\__ \ |/ / (_| | |_) | |  __/
     \___\___/|_|_|  \_\___||___/_/___\__,_|_.__/|_|\___|
	 
	v1.7 - jQuery plugin created by Alvaro Prieto Lauroba
	
	Licences: MIT & GPL
	Feel free to use or modify this plugin as far as my full name is kept	
*/

(function($){ 	
	
	//IE8 Polyfill
	if(!Array.indexOf) { Array.prototype.indexOf = function(obj) { for(var i=0; i<this.length;i++){if(this[i]==obj){return i;}} return -1; }}
	
	var d = $(document); 		//window object
	var h = $("head");			//head object
	var drag = null;			//reference to the current grip that is being dragged
	var tables = {};			//object of the already processed tables (table.id as key)
	var	count = 0;				//internal count to create unique IDs when needed.	
	
	//common strings for packing
	var ID = "id";	
	var PX = "px";
	var SIGNATURE ="JColResizer";
    var FLEX = "JCLRFlex";
	
	//short-cuts
	var I = parseInt;
	var M = Math;
	var ie = navigator.userAgent.indexOf('Trident/4.0')>0;
	var S;
    var pad = ""
	try{S = sessionStorage;}catch(e){}	//Firefox crashes when executed as local file system
    
	
	//append required CSS rules  
    h.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer > tbody > tr > td, .JColResizer > tbody > tr > th{overflow:hidden}  .JPadding > tbody > tr > td, .JPadding > tbody > tr > th{padding-left:0!important; padding-right:0!important;} .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: col-resize;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;	} .JCLRFlex{width:auto!important;} .JCLRgrip.JCLRdisabledGrip .JColResizer{cursor:default; display:none;}</style>");

	
	/**
	 * Function to allow column resizing for table objects. It is the starting point to apply the plugin.
	 * @param {DOM node} tb - reference to the DOM table object to be enhanced
	 * @param {Object} options	- some customization values
	 */
	var init = function( tb, options){	
		var t = $(tb);				    //the table object is wrapped
        t.opt = options;                //each table has its own options available at anytime
        t.mode = options.resizeMode;    //shortcuts
        t.dc = t.opt.disabledColumns;
        if(t.opt.removePadding) t.addClass("JPadding");
		if(t.opt.disable) return destroy(t);				//the user is asking to destroy a previously colResized table
		var	id = t.id = t.attr(ID) || SIGNATURE+count++;	//its id is obtained, if null new one is generated		
		t.p = t.opt.postbackSafe; 							//short-cut to detect postback safe 		
		if(!t.is("table") || tables[id] && !t.opt.partialRefresh) return; 		//if the object is not a table or if it was already processed then it is ignored.
		if (t.opt.hoverCursor !== 'col-resize') h.append("<style type='text/css'>.JCLRgrip .JColResizer:hover{cursor:"+ t.opt.hoverCursor +"!important}</style>");  //if hoverCursor has been set, append the style
        t.addClass(SIGNATURE).attr(ID, id).before('<div class="JCLRgrips"/>');	//the grips container object is added. Signature class forces table rendering in fixed-layout mode to prevent column's min-width
		t.g = []; t.c = []; t.w = t.width(); t.gc = t.prev(); t.f=t.opt.fixed;	//t.c and t.g are arrays of columns and grips respectively				
		if(options.marginLeft) t.gc.css("marginLeft", options.marginLeft);  	//if the table contains margins, it must be specified
		if(options.marginRight) t.gc.css("marginRight", options.marginRight);  	//since there is no (direct) way to obtain margin values in its original units (%, em, ...)
		t.cs = I(ie? tb.cellSpacing || tb.currentStyle.borderSpacing :t.css('border-spacing'))||2;	//table cellspacing (not even jQuery is fully cross-browser)
		t.b  = I(ie? tb.border || tb.currentStyle.borderLeftWidth :t.css('border-left-width'))||1;	//outer border width (again cross-browser issues)
		// if(!(tb.style.width || tb.width)) t.width(t.width()); //I am not an IE fan at all, but it is a pity that only IE has the currentStyle attribute working as expected. For this reason I can not check easily if the table has an explicit width or if it is rendered as "auto"
		tables[id] = t; 	//the table object is stored using its id as key	
		createGrips(t);		//grips are created 
	
	};


	/**
	 * This function allows to remove any enhancements performed by this plugin on a previously processed table.
	 * @param {jQuery ref} t - table object
	 */
	var destroy = function(t){
		var id=t.attr(ID), t=tables[id];		//its table object is found
		if(!t||!t.is("table")) return;			//if none, then it wasn't processed	 
		t.removeClass(SIGNATURE+" "+FLEX).gc.remove();	//class and grips are removed
		delete tables[id];						//clean up data
	};


	/**
	 * Function to create all the grips associated with the table given by parameters 
	 * @param {jQuery ref} t - table object
	 */
	var createGrips = function(t){	
	
        var th = t.find(">thead>tr:first>th,>thead>tr:first>td"); //table headers are obtained
		if(!th.length) th = t.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td");	 //but headers can also be included in different ways
		th = th.filter(":visible");					//filter invisible columns
		t.cg = t.find("col"); 						//a table can also contain a colgroup with col elements		
		t.ln = th.length;							//table length is stored	
		if(t.p && S && S[t.id])memento(t,th);		//if 'postbackSafe' is enabled and there is data for the current table, its coloumn layout is restored
		th.each(function(i){						//iterate through the table column headers			
			var c = $(this); 						//jquery wrap for the current column		
            var dc = t.dc.indexOf(i)!=-1;           //is this a disabled column?
			var g = $(t.gc.append('<div class="JCLRgrip"></div>')[0].lastChild); //add the visual node to be used as grip
            g.append(dc ? "": t.opt.gripInnerHtml).append('<div class="'+SIGNATURE+'"></div>');
            if(i == t.ln-1){                        //if the current grip is the las one 
                g.addClass("JCLRLastGrip");         //add a different css class to stlye it in a different way if needed
                if(t.f) g.html("");                 //if the table resizing mode is set to fixed, the last grip is removed since table with can not change
            }
            g.bind('touchstart mousedown', onGripMouseDown); //bind the mousedown event to start dragging 
            
            if (!dc){ 
                //if normal column bind the mousedown event to start dragging, if disabled then apply its css class
                g.removeClass('JCLRdisabledGrip').bind('touchstart mousedown', onGripMouseDown);      
            }else{
                g.addClass('JCLRdisabledGrip'); 
            }

			g.t = t; g.i = i; g.c = c;	c.w =c.width();		//some values are stored in the grip's node data as shortcut
			t.g.push(g); t.c.push(c);						//the current grip and column are added to its table object
			c.width(c.w).removeAttr("width");				//the width of the column is converted into pixel-based measurements
			g.data(SIGNATURE, {i:i, t:t.attr(ID), last: i == t.ln-1});	 //grip index and its table name are stored in the HTML 												
		}); 	
		t.cg.removeAttr("width");	//remove the width attribute from elements in the colgroup 

		t.find('td, th').not(th).not('table th, table td').each(function(){  
			$(this).removeAttr('width');	//the width attribute is removed from all table cells which are not nested in other tables and dont belong to the header
		});		
        if(!t.f){
            t.removeAttr('width').addClass(FLEX); //if not fixed, let the table grow as needed
        }
        syncGrips(t); 				//the grips are positioned according to the current table layout			
        //there is a small problem, some cells in the table could contain dimension values interfering with the 
        //width value set by this plugin. Those values are removed
		
	};
	
    
	/**
	 * Function to allow the persistence of columns dimensions after a browser postback. It is based in
	 * the HTML5 sessionStorage object, which can be emulated for older browsers using sessionstorage.js
	 * @param {jQuery ref} t - table object
	 * @param {jQuery ref} th - reference to the first row elements (only set in deserialization)
	 */
	var memento = function(t, th){ 
		var w,m=0,i=0,aux =[],tw;
		if(th){										//in deserialization mode (after a postback)
			t.cg.removeAttr("width");
			if(t.opt.flush){ S[t.id] =""; return;} 	//if flush is activated, stored data is removed
			w = S[t.id].split(";");					//column widths is obtained
			tw = w[t.ln+1];
            if(!t.f && tw){							//if not fixed and table width data available its size is restored
                t.width(tw*=1);
                if(t.opt.overflow) {				//if overfolw flag is set, restore table width also as table min-width
                    t.css('min-width', tw + PX);
                    t.w = tw;
                }
            }
			for(;i<t.ln;i++){						//for each column
				aux.push(100*w[i]/w[t.ln]+"%"); 	//width is stored in an array since it will be required again a couple of lines ahead
				th.eq(i).css("width", aux[i] ); 	//each column width in % is restored
			}			
			for(i=0;i<t.ln;i++)
				t.cg.eq(i).css("width", aux[i]);	//this code is required in order to create an inline CSS rule with higher precedence than an existing CSS class in the "col" elements
		}else{							//in serialization mode (after resizing a column)
			S[t.id] ="";				//clean up previous data
			for(;i < t.c.length; i++){	//iterate through columns
				w = t.c[i].width();		//width is obtained
				S[t.id] += w+";";		//width is appended to the sessionStorage object using ID as key
				m+=w;					//carriage is updated to obtain the full size used by columns
			}
			S[t.id]+=m;							//the last item of the serialized string is the table's active area (width), 
												//to be able to obtain % width value of each columns while deserializing
			if(!t.f) S[t.id] += ";"+t.width(); 	//if not fixed, table width is stored
		}	
	};
	
	
	/**
	 * Function that places each grip in the correct position according to the current table layout	 
	 * @param {jQuery ref} t - table object
	 */
	var syncGrips = function (t){	
		t.gc.width(t.w);			//the grip's container width is updated				
		for(var i=0; i<t.ln; i++){	//for each column
			var c = t.c[i]; 			
			t.g[i].css({			//height and position of the grip is updated according to the table layout
				left: c.offset().left - t.offset().left + c.outerWidth(false) + t.cs / 2 + PX,
				height: t.opt.headerOnly? t.c[0].outerHeight(false) : t.outerHeight(false)				
			});			
		} 	
	};
	
	
	
	/**
	* This function updates column's width according to the horizontal position increment of the grip being
	* dragged. The function can be called while dragging if liveDragging is enabled and also from the onGripDragOver
	* event handler to synchronize grip's position with their related columns.
	* @param {jQuery ref} t - table object
	* @param {number} i - index of the grip being dragged
	* @param {bool} isOver - to identify when the function is being called from the onGripDragOver event	
	*/
	var syncCols = function(t,i,isOver){
		var inc = drag.x-drag.l, c = t.c[i], c2 = t.c[i+1]; 			
		var w = c.w + inc;	var w2= c2.w- inc;	//their new width is obtained					
		c.width( w + PX);			
		t.cg.eq(i).width( w + PX); 
        if(t.f){ //if fixed mode
            c2.width(w2 + PX);
            t.cg.eq(i+1).width( w2 + PX);
        }else if(t.opt.overflow) {				//if overflow is set, incriment min-width to force overflow
            t.css('min-width', t.w + inc);
        }
		if(isOver){
            c.w=w; 
            c2.w= t.f ? w2 : c2.w;
        }
	};

	
	/**
	* This function updates all columns width according to its real width. It must be taken into account that the 
	* sum of all columns can exceed the table width in some cases (if fixed is set to false and table has some kind 
	* of max-width).
	* @param {jQuery ref} t - table object	
	*/
	var applyBounds = function(t){
        var w = $.map(t.c, function(c){			//obtain real widths
            return c.width();
        });
        t.width(t.w = t.width()).removeClass(FLEX);	//prevent table width changes
        $.each(t.c, function(i,c){
            c.width(w[i]).w = w[i];				//set column widths applying bounds (table's max-width)
        });
		t.addClass(FLEX);						//allow table width changes
	};
	
	
	/**
	 * Event handler used while dragging a grip. It checks if the next grip's position is valid and updates it. 
	 * @param {event} e - mousemove event binded to the window object
	 */
	var onGripDrag = function(e){	
		if(!drag) return; 
        var t = drag.t;		//table object reference 
        var oe = e.originalEvent.touches;
        var ox = oe ? oe[0].pageX : e.pageX;    //original position (touch or mouse)
        var x =  ox - drag.ox + drag.l;	        //next position according to horizontal mouse position increment
		var mw = t.opt.minWidth, i = drag.i ;	//cell's min width
		var l = t.cs*1.5 + mw + t.b;
        var last = i == t.ln-1;                 			//check if it is the last column's grip (usually hidden)
        var min = i? t.g[i-1].position().left+t.cs+mw: l;	//min position according to the contiguous cells
		var max = t.f ? 	//fixed mode?
			i == t.ln-1? 
				t.w-l: 
				t.g[i+1].position().left-t.cs-mw:
			Infinity; 								//max position according to the contiguous cells 
		x = M.max(min, M.min(max, x));				//apply bounding		
		drag.x = x;	 drag.css("left",  x + PX); 	//apply position increment	
        if(last){									//if it is the last grip
            var c = t.c[drag.i];					//width of the last column is obtained
			drag.w = c.w + x- drag.l;         
        }              
		if(t.opt.liveDrag){ 			//if liveDrag is enabled
			if(last){
			    c.width(drag.w);
                if(!t.f && t.opt.overflow){			//if overflow is set, incriment min-width to force overflow
                   t.css('min-width', t.w + x - drag.l);
                }else {
                    t.w = t.width();
                }
			}else{
				syncCols(t,i); 			//columns are synchronized
			}
			syncGrips(t);
			var cb = t.opt.onDrag;							//check if there is an onDrag callback
			if (cb) { e.currentTarget = t[0]; cb(e); }		//if any, it is fired			
		}
		return false; 	//prevent text selection while dragging				
	};
	

	/**
	 * Event handler fired when the dragging is over, updating table layout
     * @param {event} e - grip's drag over event
	 */
	var onGripDragOver = function(e){	
		
		d.unbind('touchend.'+SIGNATURE+' mouseup.'+SIGNATURE).unbind('touchmove.'+SIGNATURE+' mousemove.'+SIGNATURE);
		$("head :last-child").remove(); 				//remove the dragging cursor style	
		if(!drag) return;
		drag.removeClass(drag.t.opt.draggingClass);		//remove the grip's dragging css-class
        if (!(drag.x - drag.l == 0)) {
            var t = drag.t;
            var cb = t.opt.onResize; 	    //get some values	
            var i = drag.i;                 //column index
            var last = i == t.ln-1;         //check if it is the last column's grip (usually hidden)
            var c = t.g[i].c;               //the column being dragged
            if(last){
                c.width(drag.w);
                c.w = drag.w;
            }else{
                syncCols(t, i, true);	//the columns are updated
            }
            if(!t.f) applyBounds(t);	//if not fixed mode, then apply bounds to obtain real width values
            syncGrips(t);				//the grips are updated
            if (cb) { e.currentTarget = t[0]; cb(e); }	//if there is a callback function, it is fired
            if(t.p && S) memento(t); 	//if postbackSafe is enabled and there is sessionStorage support, the new layout is serialized and stored
        }
		drag = null;   //since the grip's dragging is over									
	};	
	
	
	/**
	 * Event handler fired when the grip's dragging is about to start. Its main goal is to set up events 
	 * and store some values used while dragging.
     * @param {event} e - grip's mousedown event
	 */
	var onGripMouseDown = function(e){
		var o = $(this).data(SIGNATURE);			//retrieve grip's data
		var t = tables[o.t],  g = t.g[o.i];			//shortcuts for the table and grip objects
        var oe = e.originalEvent.touches;           //touch or mouse event?
        g.ox = oe? oe[0].pageX: e.pageX;            //the initial position is kept
		g.l = g.position().left;
        g.x = g.l;
        
		d.bind('touchmove.'+SIGNATURE+' mousemove.'+SIGNATURE, onGripDrag ).bind('touchend.'+SIGNATURE+' mouseup.'+SIGNATURE, onGripDragOver);	//mousemove and mouseup events are bound
		h.append("<style type='text/css'>*{cursor:"+ t.opt.dragCursor +"!important}</style>"); 	//change the mouse cursor
		g.addClass(t.opt.draggingClass); 	//add the dragging class (to allow some visual feedback)				
		drag = g;							//the current grip is stored as the current dragging object
		if(t.c[o.i].l) for(var i=0,c; i<t.ln; i++){ c=t.c[i]; c.l = false; c.w= c.width(); } 	//if the colum is locked (after browser resize), then c.w must be updated		
		return false; 	//prevent text selection
	};
    
    
	/**
	 * Event handler fired when the browser is resized. The main purpose of this function is to update
	 * table layout according to the browser's size synchronizing related grips 
	 */
	var onResize = function(){
		for(var t in tables){
            if( tables.hasOwnProperty( t ) ) {
                t = tables[t];
                var i, mw=0;
                t.removeClass(SIGNATURE);   //firefox doesn't like layout-fixed in some cases
                if (t.f) {                  //in fixed mode
                    t.w = t.width();        //its new width is kept
                    for(i=0; i<t.ln; i++) mw+= t.c[i].w;		
                    //cell rendering is not as trivial as it might seem, and it is slightly different for
                    //each browser. In the beginning i had a big switch for each browser, but since the code
                    //was extremely ugly now I use a different approach with several re-flows. This works 
                    //pretty well but it's a bit slower. For now, lets keep things simple...   
                    for(i=0; i<t.ln; i++) t.c[i].css("width", M.round(1000*t.c[i].w/mw)/10 + "%").l=true; 
                    //c.l locks the column, telling us that its c.w is outdated									
                }else{     //in non fixed-sized tables
                    applyBounds(t);         //apply the new bounds 
                    if(t.mode == 'flex' && t.p && S){   //if postbackSafe is enabled and there is sessionStorage support,
                        memento(t);                     //the new layout is serialized and stored for 'flex' tables
                    }
                }
                syncGrips(t.addClass(SIGNATURE));
            }
		} 
		
	};		


	//bind resize event, to update grips position 
	$(window).bind('resize.'+SIGNATURE, onResize); 


	/**
	 * The plugin is added to the jQuery library
	 * @param {Object} options -  an object that holds some basic customization values 
	 */
    $.fn.extend({  
        colResizable: function(options) {           
            var defaults = {
			
				//attributes:
                
                resizeMode: 'fit',                    //mode can be 'fit', 'flex' or 'overflow'
                draggingClass: 'JCLRgripDrag',	//css-class used when a grip is being dragged (for visual feedback purposes)
				gripInnerHtml: '',				//if it is required to use a custom grip it can be done using some custom HTML				
				liveDrag: false,				//enables table-layout updating while dragging	
				minWidth: 15, 					//minimum width value in pixels allowed for a column 
				headerOnly: false,				//specifies that the size of the the column resizing anchors will be bounded to the size of the first row 
				hoverCursor: "col-resize",  		//cursor to be used on grip hover
				dragCursor: "col-resize",  		//cursor to be used while dragging
				postbackSafe: false, 			//when it is enabled, table layout can persist after postback or page refresh. It requires browsers with sessionStorage support (it can be emulated with sessionStorage.js). 
				flush: false, 					//when postbakSafe is enabled, and it is required to prevent layout restoration after postback, 'flush' will remove its associated layout data 
				marginLeft: null,				//in case the table contains any margins, colResizable needs to know the values used, e.g. "10%", "15em", "5px" ...
				marginRight: null, 				//in case the table contains any margins, colResizable needs to know the values used, e.g. "10%", "15em", "5px" ...
				disable: false,					//disables all the enhancements performed in a previously colResized table	
				partialRefresh: false,			//can be used in combination with postbackSafe when the table is inside of an updatePanel,
                disabledColumns: [],            //column indexes to be excluded
                removePadding: true,           //for some uses (such as multiple range slider), it is advised to set this modifier to true, it will remove padding from the header cells.

				//events:
				onDrag: null, 					//callback function to be fired during the column resizing process if liveDrag is enabled
				onResize: null					//callback function fired when the dragging process is over
            }			
			var options =  $.extend(defaults, options);		
            
            //since now there are 3 different ways of resizing columns, I changed the external interface to make it clear
            //calling it 'resizeMode' but also to remove the "fixed" attribute which was confusing for many people
            options.fixed = true;
            options.overflow = false;
            switch(options.resizeMode){
                case 'flex': options.fixed = false; break;
                case 'overflow': options.fixed = false; options.overflow = true; break;
            }

            return this.each(function() {				
             	init( this, options);             
            });
        }
    });
})(jQuery);



/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

var content = __webpack_require__(8);

if (typeof content === 'string') {
  content = [[module.i, content, '']];
}

var options = {}

options.insert = "head";
options.singleton = false;

var update = __webpack_require__(1)(content, options);

if (content.locals) {
  module.exports = content.locals;
}


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(0)(false);
// Imports
var getUrl = __webpack_require__(9);
var ___CSS_LOADER_URL___0___ = getUrl(__webpack_require__(10));
var ___CSS_LOADER_URL___1___ = getUrl(__webpack_require__(11));
var ___CSS_LOADER_URL___2___ = getUrl(__webpack_require__(12));
var ___CSS_LOADER_URL___3___ = getUrl(__webpack_require__(13));
var ___CSS_LOADER_URL___4___ = getUrl(__webpack_require__(14));
var ___CSS_LOADER_URL___5___ = getUrl(__webpack_require__(15));
var ___CSS_LOADER_URL___6___ = getUrl(__webpack_require__(16));
var ___CSS_LOADER_URL___7___ = getUrl(__webpack_require__(17));
var ___CSS_LOADER_URL___8___ = getUrl(__webpack_require__(18));
var ___CSS_LOADER_URL___9___ = getUrl(__webpack_require__(19));
var ___CSS_LOADER_URL___10___ = getUrl(__webpack_require__(20));
var ___CSS_LOADER_URL___11___ = getUrl(__webpack_require__(21));
// Module
exports.push([module.i, "/* cyrillic-ext */\r\n\r\n@font-face {\r\n    font-family: 'Roboto';\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    src: url(" + ___CSS_LOADER_URL___0___ + ") format('truetype');\r\n    unicode-range: U+0000-007F;\r\n}\r\n\r\n#secukit-wrapper {\r\n    --blue: #007bff;\r\n    --indigo: #6610f2;\r\n    --purple: #6f42c1;\r\n    --pink: #e83e8c;\r\n    --red: #dc3545;\r\n    --orange: #fd7e14;\r\n    --yellow: #ffc107;\r\n    --green: #28a745;\r\n    --teal: #20c997;\r\n    --cyan: #17a2b8;\r\n    --white: #fff;\r\n    --gray: #6c757d;\r\n    --gray-dark: #343a40;\r\n    --primary: #007bff;\r\n    --secondary: #6c757d;\r\n    --success: #28a745;\r\n    --info: #17a2b8;\r\n    --warning: #ffc107;\r\n    --danger: #dc3545;\r\n    --light: #f8f9fa;\r\n    --dark: #343a40;\r\n    --breakpoint-xs: 0;\r\n    --breakpoint-sm: 576px;\r\n    --breakpoint-md: 768px;\r\n    --breakpoint-lg: 992px;\r\n    --breakpoint-xl: 1200px;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 12px;\r\n    line-height: 1;\r\n    color: black;\r\n    z-index: 9998;\r\n    font-family: 'Roboto', sans-serif;\r\n    letter-spacing: 0px;\r\n    background: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n#secukit-wrapper *,\r\n#secukit-wrapper *::before,\r\n#secukit-wrapper *::after {\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n}\r\n\r\n#secukit-wrapper hr {\r\n    box-sizing: content-box;\r\n    height: 0;\r\n    overflow: visible;\r\n    visibility: visible;\r\n    width: inherit;\r\n    height: 0;\r\n}\r\n\r\n#secukit-wrapper h1,\r\n#secukit-wrapper h2,\r\n#secukit-wrapper h3,\r\n#secukit-wrapper h4,\r\n#secukit-wrapper h5,\r\n#secukit-wrapper h6 {\r\n    font-weight: 500;\r\n    margin-top: 0;\r\n    margin-bottom: 0.83em;\r\n}\r\n\r\n#secukit-wrapper p {\r\n    margin-top: 0;\r\n    margin-bottom: 1rem;\r\n}\r\n\r\n#secukit-wrapper a:hover {\r\n    color: #0056b3 !important;\r\n    text-decoration: none;\r\n}\r\n\r\n#secukit-wrapper a:not([href]):not([tabindex]) {\r\n    color: inherit;\r\n    text-decoration: none;\r\n}\r\n\r\n#secukit-wrapper a:not([href]):not([tabindex]):hover,\r\na:not([href]):not([tabindex]):focus {\r\n    color: inherit;\r\n    text-decoration: none;\r\n}\r\n\r\n#secukit-wrapper a:not([href]):not([tabindex]):focus {\r\n    outline: 0;\r\n}\r\n\r\n#secukit-wrapper table {\r\n    border-collapse: collapse;\r\n}\r\n\r\n#secukit-wrapper th {\r\n    text-align: inherit-center;\r\n}\r\n\r\n#secukit-wrapper label {\r\n    display: inline-block;\r\n    margin-bottom: 0.5rem;\r\n}\r\n\r\n#secukit-wrapper button:focus {\r\n    outline: 1px dotted;\r\n    outline: 5px auto -webkit-focus-ring-color;\r\n}\r\n\r\n#secukit-wrapper input,\r\n#secukit-wrapper button,\r\n#secukit-wrapper select,\r\n#secukit-wrapper optgroup,\r\n#secukit-wrapper textarea {\r\n    margin: 0;\r\n    font-family: inherit;\r\n    font-size: inherit;\r\n    line-height: inherit;\r\n}\r\n\r\n#secukit-wrapper button,\r\n#secukit-wrapper input {\r\n    overflow: visible;\r\n}\r\n\r\n#secukit-wrapper button,\r\n#secukit-wrapper select {\r\n    text-transform: none;\r\n}\r\n\r\n#secukit-wrapper select {\r\n    word-wrap: normal;\r\n}\r\n\r\n#secukit-wrapper button,\r\n[type=\"button\"],\r\n[type=\"reset\"],\r\n[type=\"submit\"] {\r\n    -webkit-appearance: button;\r\n}\r\n\r\n#secukit-wrapper button:not(:disabled),\r\n[type=\"button\"]:not(:disabled),\r\n[type=\"reset\"]:not(:disabled),\r\n[type=\"submit\"]:not(:disabled) {\r\n    cursor: pointer;\r\n}\r\n\r\n#secukit-wrapper button::-moz-focus-inner,\r\n[type=\"button\"]::-moz-focus-inner,\r\n[type=\"reset\"]::-moz-focus-inner,\r\n[type=\"submit\"]::-moz-focus-inner {\r\n    padding: 0;\r\n    border-style: none;\r\n}\r\n\r\n.secukit-dialog {\r\n    position: fixed;\r\n    top: 40%;\r\n    left: 50%;\r\n    z-index: 9999;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    margin-top: -280px;\r\n    margin-right: -15px;\r\n    margin-left: -230px;\r\n}\r\n\r\n\r\n/* Select Certificate */\r\n\r\n.secukit-dialog .select-certificate-wrapper {\r\n    width: 460px;\r\n    height: 560px;\r\n    background-color: #F7F7F8;\r\n    border-radius: 4px;\r\n    box-shadow: 0 0 1px #111111;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .select-certificate-header {\r\n    height: 50px;\r\n    background-color: #266ab7;\r\n    border-top-left-radius: 4px;\r\n    border-top-right-radius: 4px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .select-certificate-header h1 {\r\n    padding-top: 17px;\r\n    padding-left: 40px;\r\n    font-weight: 500 !important;\r\n    margin-top: 0;\r\n    font-size: 16px;\r\n    color: white;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .banner-wrapper {\r\n    height: 100px;\r\n    margin-bottom: 36px;\r\n    background-color: #333333;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper {\r\n    padding: 0 40px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .kica-button {\r\n    background-color: white;\r\n    border: 1px solid #406BB2;\r\n    padding: 7px 9px 7px 3px;\r\n    border-radius: 4px;\r\n    float: right;\r\n    text-decoration: blink;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .kica-button[margin-right] {\r\n    margin-right: 15px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .kica-button i {\r\n    display: inline-block;\r\n    background-size: cover;\r\n    vertical-align: middle;\r\n    margin: 0 6px;\r\n}\r\n\r\n\r\n.kica-button-wrapper {\r\n    position:relative;\r\n    height: 36px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .kica-button span {\r\n    line-height: 20px;\r\n    vertical-align: middle;\r\n    letter-spacing: -0.25px;\r\n    color: #222222;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper h2 {\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    letter-spacing: -0.25px;\r\n    color: #333333;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list-label {\r\n    padding-top: 28px;\r\n    letter-spacing: -0.4px;\r\n    margin-top: 11.620px;\r\n    margin-bottom: 11.620px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-password-label {\r\n    margin-top: 40px !important;\r\n    letter-spacing: -0.25px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list {\r\n    border: 1px solid #406BB2;\r\n    border-radius: 2px;\r\n    height: 100px;\r\n    overflow-y: auto;\r\n    background: #fff;\r\n    width: 100%;\r\n    margin-bottom: 11px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table {\r\n    table-layout: fixed;\r\n    width: 100%;\r\n    border-width: 0;\r\n    border-spacing: 0;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table th {\r\n    background: #fff;\r\n    border-bottom: 1px solid #406BB2;\r\n    border-left: 1px solid #406BB2;\r\n    height: 24px;\r\n    padding: 0 5px;\r\n    text-align: center;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table th span {\r\n    font-size: 12px;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    margin: 0;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table th:first-child {\r\n    border-left: none;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table td {\r\n    background: #fff;\r\n    height: 24px;\r\n    padding: 0 5px;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    overflow: hidden;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table td span {\r\n    font-size: 12px;\r\n    font-weight: normal;\r\n    margin: 0;\r\n    width: 100%;\r\n    padding-bottom: 1px;\r\n    white-space: nowrap;\r\n    -o-text-overflow: ellipsis;\r\n    -ms-text-overflow: ellipsis;\r\n    text-overflow: ellipsis;\r\n    word-wrap: normal;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table td i {\r\n    vertical-align: middle;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table tr[class=\"active\"] td {\r\n    background-color: #406BB2;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table tr[class=\"active\"] td span {\r\n    color: white;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .input-password-form .cert-qlalfqjsgh {\r\n    width: 100%;\r\n    background-color: white;\r\n    padding-bottom: 4px;\r\n    padding-left: 7px;\r\n    border: 1px solid #b0b0b0;\r\n    border-color: #406BB2;\r\n    padding: 0 5px;\r\n    height: 30px;\r\n    line-height: 1.2;\r\n    box-sizing: border-box;\r\n    border-radius: 5px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .input-password-form .cert-qlalfqjsgh:disabled {\r\n    background-color: #e9ecef;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .input-password-form .cert-qlalfqjsgh:disabled::placeholder {\r\n    color: dimgray;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .content-wrapper .input-password-form .cert-qlalfqjsgh::placeholder {\r\n    color: lightgrey;\r\n    padding-left: 10px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .button-wrapper {\r\n    text-align: center;\r\n    padding-top: 5px;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper button {\r\n    border-radius: 3px;\r\n    border: none;\r\n    height: 28px;\r\n    color: #fff;\r\n    width: 83px !important;\r\n    margin: 10px 6.5px 5px 10px !important;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .confirm-button {\r\n    background-color: #266ab7 !important;\r\n    margin-right: 5px !important;\r\n}\r\n\r\n.secukit-dialog .select-certificate-wrapper .cancel-button {\r\n    background-color: #F7F7F8 !important;\r\n    border: solid 1px #266ab7 !important;\r\n    color: #000 !important;\r\n    margin-left: 5px !important;\r\n}\r\n\r\n\r\n/* End Select Certificate */\r\n\r\n\r\n/* Browser Certificate Guide */\r\n\r\n.secukit-dialog .browser-guide-wrapper {\r\n    height: 560px;\r\n    width: 337px;\r\n    background-color: white;\r\n    box-shadow: 0 0 0.45px #444040;\r\n    border-radius: 4px;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-header {\r\n    height: 135px;\r\n    background-color: #266ab7;\r\n    padding: 0 30px;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-header .close {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    float: none;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-header .close a {\r\n    margin: 14px 0 7px auto;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-header h1 {\r\n    text-align: center;\r\n    letter-spacing: -1px;\r\n    font-size: 19px;\r\n    font-weight: 400 !important;\r\n    width: 100%;\r\n    color: #F2FFED;\r\n    margin-bottom: 18px !important;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-header .text {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-header .text h2 {\r\n    margin: 0;\r\n    text-align: left;\r\n    font-weight: 400 !important;\r\n    font-size: 12px;\r\n    margin-top: 2px !important;\r\n    width: 212px;\r\n    line-height: 15px;\r\n    color: white;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents {\r\n    padding: 0 30px;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents hr {\r\n    margin: 25px -25px 15px -25px;\r\n    border: 0;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents h2 {\r\n    text-align: left;\r\n    font-weight: bold;\r\n    font-size: 13px;\r\n    letter-spacing: -0.25px;\r\n    line-height: 19px;\r\n    width: 100%;\r\n    color: #333333;\r\n    display: block;\r\n    margin: 11px 0 !important;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper {\r\n    padding: 0;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper .step-wrapper {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 2px\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper .step-wrapper .step-number {\r\n    display: inline-block;\r\n    border-radius: 0.35rem;\r\n    font-weight: 700;\r\n    line-height: 1;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    vertical-align: baseline;\r\n    -webkit-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    background-color: #406BB2;\r\n    color: white;\r\n    font-size: 7px;\r\n    width: 12px;\r\n    height: 12px;\r\n    margin: 3px 13px 0 0;\r\n    padding-top: 1.7px;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper .step-wrapper .step-text {\r\n    font-size: 11px;\r\n    line-height: 17px;\r\n    width: 252px;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper .step-wrapper .step-text.sub {\r\n    margin: 6px 0 0 26px;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper .step-wrapper .step-text.w-100 {\r\n    font-weight: 100;\r\n    width: 100%;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .detail-guide-wrapper {\r\n    margin-top: 9px;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .detail-guide-wrapper a {\r\n    text-decoration: blink;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .detail-guide-wrapper .open-detail-guide-wrapper .badge {\r\n    display: inline-block;\r\n    border-radius: 0.35rem;\r\n    font-weight: 600;\r\n    line-height: 1;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    vertical-align: baseline;\r\n    -webkit-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    background-color: #bcbec0;\r\n    color: white;\r\n    font-size: 8px;\r\n    width: 12px;\r\n    height: 12px;\r\n    margin: 3px 13px 0 0;\r\n    padding-top: 1.7px;\r\n    padding-left: 1.1px;\r\n}\r\n\r\n.secukit-dialog .browser-guide-wrapper .browser-guide-contents .detail-guide-wrapper .open-detail-guide-wrapper .text {\r\n    color: #406BB2;\r\n    font-size: 11px;\r\n    font-weight: 600;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    margin-left: -138px;\r\n    margin-top: -238px;\r\n    z-index: 12001;\r\n    width: 267px;\r\n    height: 235px;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n    background-color: white;\r\n    opacity: 1;\r\n    border: 1px solid #d3d3d3;\r\n    border-radius: 4px;\r\n    box-shadow: 0 1px 5px rgba(12, 11, 11, 0.25);\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-header {\r\n    margin-top: 25px;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-header span {\r\n    display: inline-block;\r\n    width: 100%;\r\n    font-size: 18px;\r\n    text-align: center;\r\n    font-weight: bold;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-body {\r\n    background: #f3f6fa;\r\n    border: 1px solid #e2e2e2;\r\n    padding: 12px 12px;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-body span {\r\n    display: inline-block;\r\n    width: 100%;\r\n    font-size: 13px;\r\n    letter-spacing: -0.25px;\r\n    text-align: center;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-body .pfx-password-input {\r\n    margin-top: 16px;\r\n    margin-bottom: 16px;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-body .pfx-password-input .pfx-qlalfqjsgh {\r\n    width: 100%;\r\n    background-color: white;\r\n    border: 1px solid #b0b0b0;\r\n    border-color: #406BB2;\r\n    padding: 0 5px;\r\n    height: 30px;\r\n    line-height: 1.2;\r\n    box-sizing: border-box;\r\n    border-radius: 5px;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-footer {\r\n    margin-top: 8px;\r\n    margin-bottom: 8px;\r\n    text-align: center\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-footer button {\r\n    border-radius: 3px;\r\n    border: none;\r\n    height: 28px;\r\n    color: #fff;\r\n    width: 83px !important;\r\n    margin: 10px;\r\n    margin-bottom: 5px;\r\n    margin-right: 6.5px !important;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-footer .confirm-button {\r\n    background-color: #266ab7 !important;\r\n}\r\n\r\n.webnpki-wrapper .pfx-password-wrapper .pfx-password-footer .cancel-button {\r\n    background-color: #F7F7F8 !important;\r\n    border: solid 1px #266ab7 !important;\r\n    color: #000 !important;\r\n}\r\n\r\n.webnpki-wrapper .dim {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 12000;\r\n    background-color: black;\r\n    opacity: .6;\r\n    filter: alpha(opacity=50);\r\n}\r\n\r\n\r\n/* find certificate */\r\n\r\n.find-pfx-wrapper .dim {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 10000;\r\n    background-color: black;\r\n    opacity: .5;\r\n    filter: alpha(opacity=50);\r\n}\r\n\r\n\r\n\r\n.find-pfx-wrapper .find-pfx-container {\r\n    width: 394px;\r\n    height: 400px;\r\n    background: #F7F7F8;\r\n    z-index: 10001;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-left: -197px;\r\n    margin-top: -254px;\r\n    border-radius: 4px;\r\n}\r\n\r\n.find-pfx-wrapper .find-pfx-header {\r\n    height: 46px;\r\n    background-color: #266ab7;\r\n    border-top-left-radius: 4px;\r\n    border-top-right-radius: 4px;\r\n}\r\n\r\n.find-pfx-wrapper .find-pfx-header span {\r\n    display: inline-block;\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    padding-top: 17px;\r\n    padding-left: 43px;\r\n    color: white;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper {\r\n    padding: 25px 25px 12px 25px;\r\n    margin: 28px 28px 16px 28px;\r\n    background-color: inherit;\r\n    border: solid;\r\n    border-width: 1px;\r\n    border-color: #266AB7;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .convert-pfx-header {\r\n    margin: 0 5px 15px 0px;\r\n    padding-left: 11px;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .convert-pfx-header span {\r\n    vertical-align: middle;\r\n    font-size: 13px;\r\n    margin-left: 14px;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .convert-pfx-download {\r\n    text-align: center;\r\n    margin-bottom: 22px;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .convert-pfx-download a {\r\n    text-decoration: none;\r\n    background-color: #F0F3F9;\r\n    width: 218px;\r\n    height: 32px;\r\n    display: inline-block;\r\n    padding-top: 9px;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .convert-pfx-download span {\r\n    vertical-align: middle;\r\n    font-weight: bold;\r\n    color: #266ab7;\r\n    margin-left: 7px;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .convert-pfx-step-wrapper {\r\n    padding: 0 7px;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 15px\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .convert-pfx-step-wrapper .step-text {\r\n    width: 242px;\r\n    font-size: 11px;\r\n    line-height: 13px;\r\n    letter-spacing: -0.7px;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .convert-pfx-step-wrapper .step-text span {\r\n    color: #266ab7;\r\n}\r\n\r\n.find-pfx-wrapper .convert-pfx-wrapper .step-number {\r\n    display: inline-block;\r\n    border-radius: 0.35rem;\r\n    font-weight: 700;\r\n    line-height: 1;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    vertical-align: baseline;\r\n    -webkit-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n    background-color: #406BB2;\r\n    color: white;\r\n    font-size: 7px;\r\n    width: 12px;\r\n    height: 12px;\r\n    margin: 0 12px 0 0;\r\n    padding-top: 1.7px;\r\n}\r\n\r\n.find-pfx-wrapper .find-pfx-footer {\r\n    text-align: center;\r\n}\r\n\r\n.find-pfx-wrapper .find-pfx-footer button {\r\n    border-radius: 3px;\r\n    border: none;\r\n    height: 26px;\r\n    color: #fff;\r\n    width: 93px !important;\r\n    margin: 0 5px !important;\r\n}\r\n\r\n.find-pfx-wrapper .find-pfx-footer .confirm-button {\r\n    background-color: #266ab7 !important;\r\n}\r\n\r\n.find-pfx-wrapper .find-pfx-footer .cancel-button {\r\n    background-color: #F7F7F8 !important;\r\n    border: solid 1px #266ab7 !important;\r\n    color: #000 !important;\r\n}\r\n\r\n\r\n/* Customise CSS */\r\n\r\n.kica-d-none {\r\n    display: none !important;\r\n}\r\n\r\n#secukit-wrapper .browser-detail-guide {\r\n    width: 100%;\r\n    height: 650px;\r\n}\r\n\r\n#secukit-wrapper .icon-vkeyboard {\r\n    display: inline-block;\r\n    background-size: cover;\r\n    vertical-align: middle;\r\n    margin-left: -36px;\r\n    background-image: url(" + ___CSS_LOADER_URL___1___ + ");\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    width: 29px;\r\n    height: 18px;\r\n}\r\n\r\n#secukit-wrapper .icon-down {\r\n    background-image: url(" + ___CSS_LOADER_URL___2___ + ");\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 15px;\r\n    height: 15px;\r\n}\r\n\r\n#secukit-wrapper .icon-vkeyboard.active {\r\n    background-image: url(" + ___CSS_LOADER_URL___3___ + ");\r\n}\r\n\r\n#secukit-wrapper .icon-cert {\r\n    background-image: url(" + ___CSS_LOADER_URL___4___ + ");\r\n    background-repeat: no-r epeat;\r\n    display: inline-block;\r\n    float: left;\r\n    margin-left: 7px;\r\n    width: 16px;\r\n    height: 13px;\r\n}\r\n\r\n#secukit-wrapper .icon-question {\r\n    background-image: url(" + ___CSS_LOADER_URL___5___ + ");\r\n    background-repeat: no-repeat;\r\n    display: inline-block;\r\n    width: 17px;\r\n    height: 17px;\r\n}\r\n\r\n#secukit-wrapper .icon-faq {\r\n    background-image: url(" + ___CSS_LOADER_URL___6___ + ");\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 18px;\r\n    height: 18px;\r\n}\r\n\r\n#secukit-wrapper .icon-find-cert {\r\n    background-image: url(" + ___CSS_LOADER_URL___7___ + ");\r\n    background-repeat: no-repeat;\r\n    width: 24px;\r\n    height: 18px; \r\n}\r\n\r\n#secukit-wrapper .icon-delete-cert {\r\n    background-image: url(" + ___CSS_LOADER_URL___8___ + ");\r\n    background-repeat: no-repeat;\r\n    width: 24px;\r\n    height: 18px;\r\n}\r\n#secukit-wrapper .icon-close {\r\n    background-image: url(" + ___CSS_LOADER_URL___9___ + ");\r\n    background-repeat: no-repeat;\r\n    width: 15px;\r\n    height: 15px;\r\n    float: right;\r\n}\r\n\r\n#secukit-wrapper .icon-browser {\r\n    background-image: url(" + ___CSS_LOADER_URL___10___ + ");\r\n    background-size: cover;\r\n    vertical-align: middle;\r\n    height: 35px;\r\n    width: 35px;\r\n    display: inline-block;\r\n    margin-right: 16px;\r\n}\r\n\r\n#secukit-wrapper .bg-light-blue {\r\n    background-color: #F0F5FF !important;\r\n}\r\n\r\n#secukit-wrapper .open-guide {\r\n    margin-left: -400px;\r\n}\r\n\r\n#secukit-wrapper .dropzone-wrapper {\r\n    position: absolute;\r\n    margin-top: 25px;\r\n    width: 380px;\r\n    height: 74px;\r\n}\r\n\r\n#secukit-wrapper .dropzone-wrapper .dropzone-icon {\r\n    width: 80px;\r\n    height: 62px;\r\n    float: left;\r\n    background-image: url(" + ___CSS_LOADER_URL___11___ + ");\r\n    background-size: cover;\r\n    margin-left: 15px;\r\n    margin-right: 12px;\r\n}\r\n\r\n#secukit-wrapper .dropzone-wrapper .dropzone-comment {\r\n    margin-left: auto;\r\n    width: 300px;\r\n    height: 100%;\r\n    padding-top: 5px;\r\n}\r\n\r\n#secukit-wrapper .dropzone-wrapper .dropzone-comment span {\r\n    display: block;\r\n    margin: 7px 0;\r\n    font-size: 11px;\r\n    color: #919191;\r\n}\r\n\r\n#secukit-wrapper .detail-guide {\r\n    position: fixed;\r\n    z-index: 10003;\r\n    left: 0;\r\n    top: 0;\r\n    display: initial;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n    background-color: rgb(0, 0, 0);\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n#secukit-wrapper .detail-guide-content {\r\n    display: block;\r\n    background-color: none;\r\n    border: none;\r\n    width: 797px;\r\n    height: 100vh;\r\n    position: fixed;\r\n    top: 45%;\r\n    left: 50%;\r\n    margin-left: -400px;\r\n    margin-top: -400px;\r\n}\r\n\r\n#secukit-wrapper .close-detail-guide {\r\n    color: #fff;\r\n    float: right;\r\n    font-size: 50px;\r\n    font-weight: bold;\r\n    margin-right: -5px;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n#secukit-wrapper .close-detail-guide:hover,\r\n#secukit-wrapper .close-detail-guide:focus {\r\n    color: black;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.vk-container {\r\n    padding: 0.7rem 0.5rem 0.5rem 0.5rem !important;\r\n}\r\n\r\n.vk-button {\r\n    height: 2rem !important;\r\n    line-height: 2rem !important;\r\n    min-width: 2rem !important;\r\n    margin: 0.1rem!important;\r\n    background: #444 !important;\r\n    color: white !important;\r\n}\r\n\r\n.vk-button-enter {\r\n    background: #266ab7 !important;\r\n    color: white !important;\r\n}\r\n\r\n.vk-button-shift-down {\r\n    background: darkgray !important;\r\n    color: white !important;\r\n}\r\n\r\n.vk-button span {\r\n    font-size: 1rem !important;\r\n}\r\n\r\n\r\n/* FR */\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .select-certificate-wrapper {\r\n    height: 594px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list-label {\r\n    padding-top: 56px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .select-certificate-wrapper .content-wrapper .cert-password-label {\r\n    margin-top: 40px !important;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table th {\r\n    padding: 0 4px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .select-certificate-wrapper .content-wrapper .cert-list table th span {\r\n    font-size: 11px;\r\n    font-weight: 500;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .select-certificate-wrapper .content-wrapper .input-password-form .cert-qlalfqjsgh {\r\n    padding: 0 0 0 7px;\r\n    font-size: 11px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .select-certificate-wrapper button {\r\n    margin: 10px 4.5px 5px 8px !important\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper {\r\n    height: 594px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-header {\r\n    height: 130px;\r\n    padding: 0 25px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-header h1 {\r\n    font-size: 16px;\r\n    margin-bottom: 16px !important;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-header .text h2 {\r\n    margin-top: 0 !important;\r\n    width: 236px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents {\r\n    padding: 0 25px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents hr {\r\n    margin: 5px -25px 5px -25px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents h2 {\r\n    font-weight: 500;\r\n    line-height: 16px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper {\r\n    padding: 0;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper .step-wrapper .step-text {\r\n    line-height: 14px;\r\n    width: 262px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents .detail-guide-wrapper {\r\n    margin-top: 14px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents .detail-guide-wrapper a {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents .detail-guide-wrapper .open-detail-guide-wrapper .text {\r\n    font-weight: 500;\r\n    width: 262px;\r\n    display: inline-block;\r\n    font-size: 11px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .webnpki-wrapper .pfx-password-wrapper .pfx-password-header span {\r\n    font-weight: 500;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .browser-detail-guide {\r\n    height: 797px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"fr\"] .icon-browser {\r\n    margin-top: 4px;\r\n}\r\n\r\n\r\n/* ko */\r\n\r\n#secukit-wrapper[lang=\"ko\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper .step-wrapper {\r\n    margin-bottom: 7px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"ko\"] h1,\r\n#secukit-wrapper[lang=\"ko\"] h2,\r\n#secukit-wrapper[lang=\"ko\"] h3,\r\n#secukit-wrapper[lang=\"ko\"] h4,\r\n#secukit-wrapper[lang=\"ko\"] h5,\r\n#secukit-wrapper[lang=\"ko\"] h6 {\r\n    font-weight: bold;\r\n    margin-top: 0;\r\n    margin-bottom: 0.83em;\r\n}\r\n\r\n#secukit-wrapper[lang=\"ko\"] .secukit-dialog .select-certificate-wrapper .select-certificate-header h1 {\r\n    font-weight: bold !important;\r\n}\r\n\r\n#secukit-wrapper[lang=\"ko\"] .secukit-dialog .browser-guide-wrapper .browser-guide-header h1 {\r\n    clear: both;\r\n    font-weight: bold !important;\r\n}\r\n\r\n#secukit-wrapper[lang=\"ko\"] .webnpki-wrapper .pfx-password-wrapper {\r\n    margin-left: -150px;\r\n    width: 300px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"ko\"] .webnpki-wrapper .pfx-password-wrapper .pfx-password-body {\r\n    margin-bottom: 25px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"ko\"] .secukit-dialog .browser-guide-wrapper .browser-guide-header .text h2 {\r\n    width: 226px !important;\r\n}\r\n\r\n#secukit-wrapper[lang=\"ko\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents hr {\r\n    margin: 13px -25px 5px -25px;\r\n}\r\n\r\n#secukit-wrapper[lang=\"ko\"] .secukit-dialog .browser-guide-wrapper .browser-guide-contents .browser-guide-steps-wrapper .step-wrapper {    \r\n    margin-bottom: 10px\r\n}\r\n\r\n.swal2-container {\r\n    z-index: 10000 !important;\r\n}\r\n\r\n.swal2-title {\r\n    font-size: 1.225em !important;\r\n    margin: 0 0 1em !important;\r\n}\r\n\r\n.swal2-content {\r\n    font-size: 0.875em !important;\r\n    font-weight: 600 !important;\r\n    letter-spacing: 0.0125em !important;\r\n}\r\n\r\n.swal2-popup {\r\n    width: 26em !important;\r\n}\r\n\r\n", ""]);


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (url, needQuotes) {
  // eslint-disable-next-line no-underscore-dangle, no-param-reassign
  url = url.__esModule ? url.default : url;

  if (typeof url !== 'string') {
    return url;
  } // If url is already wrapped in quotes, remove them


  if (/^['"].*['"]$/.test(url)) {
    // eslint-disable-next-line no-param-reassign
    url = url.slice(1, -1);
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]/.test(url) || needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, '\\n'), "\"");
  }

  return url;
};

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "11eabca2251325cfc5589c9c6fb57b46.ttf";

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "cbedd50fcc13f92405d450af385d7c5b.png";

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "9f33144426873b1db0d352b1adb044d2.png";

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "aa2aacc9a840bb9388662a58f794278d.png";

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "392061a298938cb08a4c1585f1d4bc36.png";

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "739ca19062b3ae0a95dc48ba762e3f72.png";

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c69cd8375a2dae7fc8641e42f115c030.png";

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a524ca3c0342a188a1ad339683070fea.png";

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1a0a674afb5f708723fba5cfe5075bdc.png";

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "4ba4b716d43f5933dce79502a423b1aa.png";

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "49336b971a5bf4225312b176fb117664.png";

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "575f40fee0f637ff0cdba9a3fd683ed8.png";

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

var content = __webpack_require__(23);

if (typeof content === 'string') {
  content = [[module.i, content, '']];
}

var options = {}

options.insert = "head";
options.singleton = false;

var update = __webpack_require__(1)(content, options);

if (content.locals) {
  module.exports = content.locals;
}


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(0)(false);
// Module
exports.push([module.i, "/* *** keyboard light theme ***\r\n  for when jQuery UI themes are not being used\r\n  See https://jsfiddle.net/Mottie/jsh0377k/\r\n */\r\n.ui-keyboard {\r\n    background: #FFF;\r\n    border: 1px solid #292929;\r\n    border-radius: 10px;\r\n    box-shadow: 2px 2px 2px gray;\r\n    text-align: center;\r\n    font-size:18px;\r\n    padding: .3em;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: 86000;\r\n    /* see issue #484 */\r\n    -ms-touch-action: manipulation;\r\n    touch-action: manipulation;\r\n}\r\n\r\n.ui-keyboard2 {\r\n\t/* adjust overall keyboard size using \"font-size\" */\r\n\tfont-size: 14px;\r\n\ttext-align: center;\r\n\tbackground: #fefefe;\r\n\tborder: 1px solid #aaa;\r\n\tpadding: 4px;\r\n\r\n\t/* include the following setting to place the\r\n\tkeyboard at the bottom of the browser window */\r\n\twidth: 100%;\r\n\theight: auto;\r\n\tleft: 0px;\r\n\ttop: auto;\r\n\tbottom: 0px;\r\n\tposition: fixed;\r\n\twhite-space: nowrap;\r\n\toverflow-x: auto;\r\n\t/* see issue #484 */\r\n\t-ms-touch-action: manipulation;\r\n\ttouch-action: manipulation;\r\n}\r\n.ui-keyboard-has-focus {\r\n\tz-index: 86001;\r\n}\r\n.ui-keyboard-button {\r\n\tborder: 1px solid #aaa;\r\n\tpadding: 0 0.5em;\r\n\tmargin: 1px;\r\n\tmin-width: 3em;\r\n\theight: 3em;\r\n\tline-height: 3em;\r\n\tvertical-align: top;\r\n\tfont-family: Helvetica, Arial, sans-serif;\r\n\tcolor: #333;\r\n\ttext-align: center;\r\n\tborder-radius: 5px;\r\n\t-webkit-box-shadow: 1px 1px 3px 0 rgba(0, 0, 0, 0.5);\r\n\tbox-shadow: 1px 1px 3px 0 rgba(0, 0, 0, 0.5);\r\n\tbackground: white;\r\n\tbackground-image: -webkit-linear-gradient(-90deg, white 0%, #e3e3e3 100%);\r\n\tbackground-image:         linear-gradient(-90deg, white 0%, #e3e3e3 100%);\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n\t-moz-user-focus: ignore;\r\n}\r\n.ui-keyboard-button:not([disabled]):hover {\r\n\tbackground: #eee;\r\n\tbackground-image: -webkit-linear-gradient(-90deg, #f2f2f2 0%, #d3d3d3 100%);\r\n\tbackground-image:         linear-gradient(-90deg, #f2f2f2 0%, #d3d3d3 100%);\r\n}\r\n.ui-keyboard-button:not([disabled]):active {\r\n\tbackground: #ddd;\r\n\tbackground-image: -webkit-linear-gradient(-90deg, #e5e5e5 0%, #d3d3d3 100%);\r\n\tbackground-image:         linear-gradient(-90deg, #e5e5e5 0%, #d3d3d3 100%);\r\n}\r\n.ui-keyboard-button span {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tfont-size: 1.2em;\r\n\ttext-align: center;\r\n}\r\n/* make action keys extra-wide */\r\n.ui-keyboard-actionkey:not(.ui-keyboard-dec):not(.ui-keyboard-combo) {\r\n\tmin-width: 6em;\r\n}\r\n.ui-keyboard-space {\r\n\twidth: 15em;\r\n}\r\n.ui-keyboard-actionkey:not(.ui-keyboard-dec):not(.ui-keyboard-combo) span {\r\n\tposition: relative;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n}\r\n.ui-keyboard-placeholder {\r\n\tcolor: #888;\r\n}\r\n/* disabled or readonly inputs, or use input[disabled='disabled'] { color: #f00; } */\r\n.ui-keyboard-nokeyboard {\r\n\tcolor: #888;\r\n\tborder-color: #888;\r\n}\r\n.ui-keyboard-spacer {\r\n\tdisplay: inline-block;\r\n\twidth: 1px;\r\n\theight: 0;\r\n\tcursor: default;\r\n}\r\n.ui-keyboard-NBSP span, .ui-keyboard-ZWSP span, .ui-keyboard-ZWNJ span, .ui-keyboard-ZWJ span,\r\n.ui-keyboard-LRM span, .ui-keyboard-RLM span {\r\n\tfont-size: 0.5em;\r\n\tline-height: 1.5em;\r\n\twhite-space: normal;\r\n}\r\n\r\n/* combo key styling - toggles diacritics on/off */\r\n.ui-keyboard-button.ui-keyboard-combo.ui-state-default {\r\n\t-webkit-box-shadow: 1px 1px 3px 0 rgba(213, 133, 18, 0.5);\r\n\t        box-shadow: 1px 1px 3px 0 rgba(213, 133, 18, 0.5);\r\n\tborder-color: #d58512;\r\n}\r\n.ui-keyboard-button.ui-keyboard-combo.ui-state-active {\r\n\t-webkit-box-shadow: 1px 1px 3px 0 rgba(38, 154, 188, 0.5);\r\n\t        box-shadow: 1px 1px 3px 0 rgba(38, 154, 188, 0.5);\r\n\tborder-color: #269abc;\r\n}\r\n/* (in)valid inputs */\r\nbutton.ui-keyboard-accept.ui-keyboard-valid-input {\r\n\t-webkit-box-shadow: 1px 1px 3px 0 rgba(57, 132, 57, 0.5);\r\n\t        box-shadow: 1px 1px 3px 0 rgba(57, 132, 57, 0.5);\r\n\tborder-color: #398439;\r\n}\r\nbutton.ui-keyboard-accept.ui-keyboard-valid-input:not([disabled]):hover {\r\n\tborder-color: #4cae4c;\r\n}\r\nbutton.ui-keyboard-accept.ui-keyboard-invalid-input {\r\n\t-webkit-box-shadow: 1px 1px 3px 0 rgba(172, 41, 37, 0.5);\r\n\t        box-shadow: 1px 1px 3px 0 rgba(172, 41, 37, 0.5);\r\n\tborder-color: #ac2925;\r\n}\r\nbutton.ui-keyboard-accept.ui-keyboard-invalid-input:not([disabled]):hover {\r\n\tborder-color: #d43f3a;\r\n}\r\n/* unlocked icon (keyboard enabled) */\r\nbutton.ui-keyboard-toggle span {\r\n\twidth: .9em;\r\n\theight: .9em;\r\n\tdisplay: inline-block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center center;\r\n\tbackground-size: contain;\r\n\t/* light theme unlocked icon - fill: #111 */\r\n\tbackground-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iIzExMSI+PHBhdGggZD0iTTguNyw0LjRINy41SDUuMHYtMS45YzAtMS40LTEuMS0yLjUtMi41LTIuNWMtMS40LDAtMi41LDEuMS0yLjUsMi41djEuOWgxLjIgdi0xLjljMC0wLjcsMC42LTEuMiwxLjItMS4yczEuMiwwLjYsMS4yLDEuMnYxLjljLTAuNywwLTEuMiwwLjYtMS4yLDEuMlY4LjggYzAsMC43LDAuNiwxLjIsMS4yLDEuMmg1LjBDOS40LDEwLDEwLDkuNCwxMCw4LjhWNS42QzEwLDUuMCw5LjQsNC40LDguOCw0LjR6IE02LjYsNy40djEuMCBjMCwwLjItMC4xLDAuMy0wLjMsMC4zUzYuMCw4LjYsNi4wLDguNFY3LjRjLTAuMi0wLjEtMC4zLTAuMy0wLjMtMC41YzAtMC4zLDAuMy0wLjYsMC42LTAuNiBTNi45LDYuNiw2LjksNi45QzYuOSw3LjEsNi44LDcuMyw2LjYsNy40eiIvPjwvc3ZnPg==');\r\n}\r\n/* locked icon (keyboard disabled) */\r\nbutton.ui-keyboard-toggle.ui-keyboard-disabled span {\r\n\t/* light theme locked icon - fill: #111 */\r\n\tbackground-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iIzExMSI+PHBhdGggZD0iTTcuNCA0LjRWMi41YzAtMS40LTEuMS0yLjUtMi41LTIuNWMtMS40IDAtMi41IDEuMS0yLjUgMi41djEuOSBjLTAuNyAwLTEuMiAwLjUtMS4yIDEuMnYzLjFDMS4zIDkuNCAxLjggMTAgMi41IDEwaDQuOWMwLjcgMCAxLjItMC42IDEuMi0xLjJWNS42IEM4LjcgNC45IDguMSA0LjQgNy40IDQuNHogTTUuMyA3LjR2MS4wYzAgMC4yLTAuMSAwLjMtMC4zIDAuM2MtMC4yIDAtMC4zLTAuMS0wLjMtMC4zVjcuNCBjLTAuMi0wLjEtMC4zLTAuMy0wLjMtMC41YzAtMC4zIDAuMy0wLjYgMC42LTAuNmMwLjMgMCAwLjYgMC4zIDAuNiAwLjYgQzUuNiA3LjEgNS41IDcuMyA1LjMgNy40eiBNNi4yIDQuNEgzLjdWMi41YzAtMC43IDAuNS0xLjIgMS4yLTEuMmMwLjcgMCAxLjIgMC42IDEuMiAxLjIgVjQuNHoiLz48L3N2Zz4=');\r\n}\r\n.ui-keyboard.ui-keyboard-disabled button:not(.ui-keyboard-toggle), .ui-keyboard.ui-keyboard-disabled input {\r\n\topacity: 0.5;\r\n}\r\n\r\n/*** Alt-Keys Popup extension ***/\r\n/* clickable overlay on top of keyboard to hide the popup */\r\n.ui-keyboard-overlay {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tright: 0;\r\n\tbackground: rgba(238, 238, 238, 0.5);\r\n}\r\n/* the actual popup styling, class names from the css.container option are also added */\r\n.ui-keyboard-popup {\r\n\tdisplay: inline-block;\r\n\t/* default buttons are 2em wide + .1em margin on either side (set in .ui-keyboard-button definition);\r\n\tso use multiples of 2.2em\tfor a max-width if you don't want any extra white space on the sides,\r\n\te.g. 5 buttons * 2.2em = 11em, 6 buttons * 2.2em = 13.2em, etc */\r\n\tmax-width: 22em;\r\n\t/* 10 buttons */\r\n}\r\n.ui-keyboard.ui-keyboard-popup-open .ui-keyboard-keyset .ui-keyboard-button {\r\n\t/* Disable keys under overlay while popup is open - see #654 */\r\n\tpointer-events: none;\r\n}\r\n\r\n/*** Caret extension definition ***/\r\n/* margin-top => is added to the caret height (top & bottom) */\r\n.ui-keyboard-caret {\r\n\tbackground: #c00;\r\n\twidth: 1px;\r\n\tmargin-top: 3px;\r\n}\r\n\r\n/*** Extender keyboard extension ***/\r\ndiv.ui-keyboard-extender {\r\n\tmargin-left: 5px;\r\n\tmargin-right: 10px;\r\n}\r\nbutton.ui-keyboard-extender span {\r\n\twidth: .9em;\r\n\theight: .9em;\r\n\tdisplay: inline-block;\r\n\tmargin-bottom: 3px;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center center;\r\n\tbackground-size: contain;\r\n\t/* light theme extender icon - fill: #111 */\r\n\tbackground-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGw6IzExMSI+PGc+PHBhdGggc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzExMSIgZD0iTSAwLjUsNC41IDE1LjUsNC41IDE1LjUsMTUuNSAwLjUsMTUuNSBaIj48L3BhdGg+PHJlY3Qgd2lkdGg9IjIiIGhlaWdodD0iMiIgeD0iMiIgeT0iNiI+PC9yZWN0PjxyZWN0IHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHg9IjUiIHk9IjYiPjwvcmVjdD48cmVjdCB3aWR0aD0iMiIgaGVpZ2h0PSIyIiB4PSI4IiB5PSI2Ij48L3JlY3Q+PHBhdGggZD0ibSAxMSw2IDMsMCAwLDUgLTIsMCAwLC0zIC0xLDAgeiI+PC9wYXRoPjxyZWN0IHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHg9IjEyIiB5PSIxMiI+PC9yZWN0PjxyZWN0IHdpZHRoPSI2IiBoZWlnaHQ9IjIiIHg9IjUiIHk9IjEyIj48L3JlY3Q+PHJlY3Qgd2lkdGg9IjIiIGhlaWdodD0iMiIgeD0iOSIgeT0iOSI+PC9yZWN0PjxyZWN0IHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHg9IjYiIHk9IjkiPjwvcmVjdD48cmVjdCB3aWR0aD0iMiIgaGVpZ2h0PSIyIiB4PSIyIiB5PSIxMiI+PC9yZWN0PjxyZWN0IHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHg9IjIiIHk9IjkiPjwvcmVjdD48L2c+PC9zdmc+');\r\n}\r\n", ""]);


/***/ }),
/* 24 */
/***/ (function(module, exports) {

function boxes() {
    var object = {};

    object.main = '<div class="secukit-dialog" id="secukit-dialog">' +
        '<div class="select-certificate-wrapper">' +
        '<div class="select-certificate-header">' +
        '<h1>' + KICA_CORPUS.SELECT_CERT_HEADER + '</h1>' +
        '</div>' +
        '<div class="banner-wrapper">' +
        '<img src="' + webnpki_config.path + '/assets/banner/default_banner.png" alt="A World of Trust KICA">' +
        '</div>' +
        '<div class="content-wrapper">' +
        '<a class="kica-button" href="javascript:void(0)" onclick="KICA_DIALOG.openGuide()">' +
        '<i class="icon-question"></i>' +
        '<span>' + KICA_CORPUS.BUTTON_OPEN_GUIDE + '</span>' +
        '</a>' +
        '<h2 class="cert-list-label">' + KICA_CORPUS.CERT_TABLE_LABEL + '</h2>' +
        '<div class="cert-list" ondragover="KICA_DIALOG.onDragOverCert(event)" ondragleave="KICA_DIALOG.onDragLeaveCert(event)" ondrop="KICA_DIALOG.onDropCert(event)">' +
        '<div class="dropzone-wrapper kica-d-none" id="dropzone-wrapper">' +
        '<div class="dropzone-icon"></div>' +
        '<div class="dropzone-comment">' +
        '<span class=""dropzone-comment-text>' + KICA_CORPUS.DROPZONE_TEXT_1 + '</span>' +
        '<span class=""dropzone-comment-text>' + KICA_CORPUS.DROPZONE_TEXT_2 + '</span>' +
        '<span class=""dropzone-comment-text>' + KICA_CORPUS.DROPZONE_TEXT_3 + '</span>' +
        '</div>' +
        '</div>' +
        '<table id="cert-list-table">' +
        '<thead>' +
        '<tr>' +
        '<th scope="col">' +
        '<span>' + KICA_CORPUS.CERT_TABLE_THEAD1 + '</span>' +
        '</th>' +
        '<th scope="col">' +
        '<span>' + KICA_CORPUS.CERT_TABLE_THEAD2 + '</span>' +
        '</th>' +
        '<th scope="col">' +
        '<span>' + KICA_CORPUS.CERT_TABLE_THEAD3 + '</span>' +
        '</th>' +
        '<th scope="col">' +
        '<span>' + KICA_CORPUS.CERT_TABLE_THEAD4 + '</span>' +
        '</th>' +
        '</tr>' +
        '</thead>' +
        '<tbody id="cert-list">' +
        '</tbody>' +
        '</table>' +
        '</div>' +
        

        //////////////////////////////////////////////추가/////////////////////////////////////////////////////
        //////////////////////////////////////////////버튼 2개를 div로 묶어야 되는데, 묶을 때 반드시 높이가 컨텐츠에 맞게 수정해야 함
        '<div class="kica-button-wrapper">'+
        '<a class="kica-button bg-light-blue" href="javascript:void(0)" onclick="KICA_DIALOG.openFindCert();">' +
        '<i class="icon-find-cert"></i>' +
        '<span>' + KICA_CORPUS.BUTTON_FIND_CERTIFICATE + '</span>' +
        '</a>' +
        
        '<a class="kica-button bg-light-blue" margin-right href="javascript:void(0)" onclick="KICA_MANAGEMENT_API.deleteCertificate()">' +
        '<i class="icon-delete-cert"></i>' +
        '<span>' + KICA_CORPUS.BUTTON_DELETE_CERTIFICATE + '</span>' +
        '</a>' +
        '</div>'+
        ///////////////////////////////////////////////////////////////////////////////////////////////////////




        '<h2 class="cert-password-label">' + KICA_CORPUS.CERT_PWD_LABEL + '</h2>' +
        '<form class="input-password-form" name="formPasswordE2EMax8" onkeydown="return event.key != \'Enter\';" autocomplete="off">' +
        '<input style="display:none" aria-hidden="true">' +
        '<input type="password" style="display:none" aria-hidden="true">' +
        '<input class="cert-qlalfqjsgh" type="password" id="qlalfqjsgh" name="PasswordE2EMax8" placeholder="' + KICA_CORPUS.CERT_PWD_PLACEHOLDER + '" autocomplete="off">' +
        '<a class="icon-vkeyboard" id="vkeyboard-toggle" href="javascript:void(0);" onclick="KICA_DIALOG.toggleVirtualKeyboard()"></a>' +
        '</form>' +
        '<div class="button-wrapper">' +
        '<button class="confirm-button" id ="select-certificate-confirm">' + KICA_CORPUS.BUTTON_CONFIRM + '</button>' +
        '<button class="cancel-button" onclick="KICA_DIALOG.closeSelectCertificateDialog()">' + KICA_CORPUS.BUTTON_CANCEL + '</button>' +
        '</div>' +
        '</div>' +
        '</div>' +
        '<div class="browser-guide-wrapper kica-d-none" id="browser-guide-wrapper">' +
        '<div class="browser-guide-header">' +
        '<div class="close">' +
        '<a class="html5-guide-close" href="javascript:void(0)" onclick="KICA_DIALOG.closeGuide()">' +
        '<i class="icon-close"></i>' +
        '</a>' +
        '</div>' +
        '<h1>' + KICA_CORPUS.BROWSER_GUIDE_TITLE + '</h1>' +
        '<div class="text">' +
        '<i class="icon-browser"></i>' +
        '<h2>' + KICA_CORPUS.BROWSER_GUIDE_SUB_TITLE + '</h2>' +
        '</div>' +
        '</div>' +
        '<div class="browser-guide-contents">' +
        '<h2>' + KICA_CORPUS.BROWSER_GUIDE_STORE_CERT_LABEL + '</h2>' +
        '<div class="browser-guide-steps-wrapper">' +
        '<div class="step-wrapper">' +
        '<span class="step-number">1</span>' +
        '<span class="step-text">' + KICA_CORPUS.BROWSER_GUIDE_STORE_CERT_STEP1 + '</span>' +
        '<span class="step-text sub">' + KICA_CORPUS.BROWSER_GUIDE_STORE_CERT_STEP1_1 + '</span>' +
        '</div>' +
        '<div class="step-wrapper">' +
        '<span class="step-number">2</span>' +
        '<span class="step-text">' + KICA_CORPUS.BROWSER_GUIDE_STORE_CERT_STEP2 + '</span>' +
        '<span class="step-text sub">' + KICA_CORPUS.BROWSER_GUIDE_STORE_CERT_STEP2_1 + '</span>' +
        '</div>' +
        '<div class="step-wrapper">' +
        '<span class="step-text w-100">' + KICA_CORPUS.BROWSER_GUIDE_STORE_CERT_STEP3 + '</span>' +
        '</div>' +      
        '</div>' +      
        '<hr>' +
        '<h2>' + KICA_CORPUS.BROWSER_GUIDE_DELETE_CERT_LABEL + '</h2>' +
        '<div class="browser-guide-steps-wrapper">' +
        '<div class="step-wrapper">' +
        '<span class="step-number">1</span>' +   
        '<span class="step-text">' + KICA_CORPUS.BROWSER_GUIDE_DELETE_CERT_STEP1 + '</span>' +
        '</div>' +
        '<div class="step-wrapper">' +
        '<span class="step-number">2</span>' + 
        '<div class="step-wrapper">' +
        '<span class="step-number">2</span>' + 
        '<span class="step-text">' + KICA_CORPUS.BROWSER_GUIDE_DELETE_CERT_STEP2 + '</span>' +
        '</div>' +
        '<div class="step-wrapper">' + 
        '<span class="step-number">3</span>' +
        '<span class="step-text">' + KICA_CORPUS.BROWSER_GUIDE_DELETE_CERT_STEP3 + '</span>' +
        '</div>' +
        '</div>' +
        '<hr>' + 
        '<div class="detail-guide-wrapper">' +
        '<a class="open-detail-guide-wrapper" href="javascript:void(0)" onclick="KICA_DIALOG.openDetailGuide()">' +
        '<span class="badge">!</span>' +
        '<span class="text">' + KICA_CORPUS.BROWSER_DETAIL_MORE_BUTTON + '</span>' +
        '</a>' +
        '</div>' +
        '</div>' +
        '</div>' +
        '</div>';

    object.pdfViewer = '<div class="detail-guide kica-d-none" id="detail-guide">' +
        '<div class="detail-guide-content">' +
        '<span class="close-detail-guide" onclick="KICA_DIALOG.closeDetailGuide()">&times;</span>' +
        '<embed src="' + webnpki_config.path + 'assets/guide/browser_certificate_guide.pdf" type="application/pdf" class="browser-detail-guide">' +
        '</div>' +
        '</div>';

    object.importPFX = '<div class="webnpki-wrapper kica-d-none" id="webnpki-wrapper">' +
        '<div class="dim"></div>' +
        '<div class="pfx-password-wrapper">' +
        '<div class="pfx-password-header">' +
        '<span>' + KICA_CORPUS.IMPORT_CERT_TITLE + '</span>' +
        '</div>' +
        '<div class="pfx-password-body">' +
        '<span>' + KICA_CORPUS.IMPORT_CERT_PASSWORD_LABEL + '</span>' +
        '<div class="pfx-password-input">' +
        '<form name="form-pfx-qlalfqjsgh" onsubmit="$(\'#pfx-qlalfqjsgh-confirm\').trigger(\'click\'); return false;" onkeydown="return event.key != \'Enter\'";>' +
        '<input id="input-pfx-qlalfqjsgh" name="pfx-qlalfqjsgh" class="pfx-qlalfqjsgh" type="password" autocomplete="off">' +
        '<a class="icon-vkeyboard" id="pfx-vkeyboard-toggle" href="javascript:void(0);" onclick="KICA_DIALOG.togglePFXVirtualKeyboard()"></a>' +
        '</form>' +
        '</div>' +
        '<span>' + KICA_CORPUS.IMPORT_CERT_TEXT + '</span>' +
        '</div>' +
        '<div class="pfx-password-footer">' +
        '<button class="confirm-button" id="pfx-qlalfqjsgh-confirm">' + KICA_CORPUS.BUTTON_CONFIRM + '</button>' +
        '<button class="cancel-button" id="pfx-qlalfqjsgh-cancel">' + KICA_CORPUS.BUTTON_CANCEL + '</button>' +
        '</div>' +
        '</div>' +
        '<input id="inputCerts" type="file" style="display:none" accept=".p12, .pfx" onchange="KICA_DIALOG.onSelectCert(this);"/>' +
        '</div>';

    object.findPFX = '<div class="find-pfx-wrapper kica-d-none" id="find-pfx-wrapper">' +
        '<div class="dim"></div>' +
        '<div class="find-pfx-container">' +
        '<div class="find-pfx-header">' +
        '<span>' + KICA_CORPUS.IMPORT_PFX_TITLE + '</span>' +
        '</div>' +
        '<div class="convert-pfx-wrapper">' +
        '<div class="convert-pfx-header">' +
        '<i class="icon-faq"></i><span>' + KICA_CORPUS.IMPORT_PFX_CONVERT_PFX_LABEL + '</span>' +
        '</div>' +
        '<div class="convert-pfx-download">' +
        '<a href="javascript:void(0);" onclick="KICA_DIALOG.downloadConvertCert();"><i class="icon-down"></i><span>' + KICA_CORPUS.IMPORT_PFX_CONVERT_PFX_DOWNLOAD + '</span></a>' +
        '</div>' +
        '<div class="convert-pfx-step-wrapper">' +
        '<span class="step-number">1</span>' +
        '<span class="step-text"><span>' + KICA_CORPUS.IMPORT_PFX_CONVERT_PFX_DOWNLOAD + '</span>' + KICA_CORPUS.IMPORT_PFX_CONVERT_PFX_STEP1 + '</span>' +
        '</div>' +
        '<div class="convert-pfx-step-wrapper">' +
        '<span class="step-number">2</span>' +
        '<span class="step-text">' + KICA_CORPUS.IMPORT_PFX_CONVERT_PFX_STEP2 + '</span>' +
        '</div>' +
        '<div class="convert-pfx-step-wrapper">' +
        '<span class="step-number">3</span>' +
        '<span class="step-text">' + KICA_CORPUS.IMPORT_PFX_CONVERT_PFX_STEP3 + '</span>' +
        '</div>' +
        '</div>' +
        '<div class="find-pfx-footer">' +
        '<button class="confirm-button" id="find-pfx-button" onclick="KICA_DIALOG.searchCert();">' + KICA_CORPUS.IMPORT_PFX_FIND_BUTTON + '</button>' +
        '<button class="cancel-button" id="find-pfx-cancel" onclick="KICA_DIALOG.closeFindCert();">' + KICA_CORPUS.BUTTON_CANCEL + '</button>' +
        '</div>' +
        '</div>' +
        '</div>';

    return object;
}

module.exports = {
    boxes: boxes
}

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Promise) {/*!
* sweetalert2 v9.5.3
* Released under the MIT License.
*/
(function (global, factory) {
	 true ? module.exports = factory() :
	undefined;
}(this, (function () { 'use strict';

function _typeof(obj) {
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function (obj) {
      return typeof obj;
    };
  } else {
    _typeof = function (obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

function isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;

  try {
    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

function _construct(Parent, args, Class) {
  if (isNativeReflectConstruct()) {
    _construct = Reflect.construct;
  } else {
    _construct = function _construct(Parent, args, Class) {
      var a = [null];
      a.push.apply(a, args);
      var Constructor = Function.bind.apply(Parent, a);
      var instance = new Constructor();
      if (Class) _setPrototypeOf(instance, Class.prototype);
      return instance;
    };
  }

  return _construct.apply(null, arguments);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _superPropBase(object, property) {
  while (!Object.prototype.hasOwnProperty.call(object, property)) {
    object = _getPrototypeOf(object);
    if (object === null) break;
  }

  return object;
}

function _get(target, property, receiver) {
  if (typeof Reflect !== "undefined" && Reflect.get) {
    _get = Reflect.get;
  } else {
    _get = function _get(target, property, receiver) {
      var base = _superPropBase(target, property);

      if (!base) return;
      var desc = Object.getOwnPropertyDescriptor(base, property);

      if (desc.get) {
        return desc.get.call(receiver);
      }

      return desc.value;
    };
  }

  return _get(target, property, receiver || target);
}

var consolePrefix = 'SweetAlert2:';
/**
 * Filter the unique values into a new array
 * @param arr
 */

var uniqueArray = function uniqueArray(arr) {
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    if (result.indexOf(arr[i]) === -1) {
      result.push(arr[i]);
    }
  }

  return result;
};
/**
 * Capitalize the first letter of a string
 * @param str
 */

var capitalizeFirstLetter = function capitalizeFirstLetter(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
};
/**
 * Returns the array ob object values (Object.values isn't supported in IE11)
 * @param obj
 */

var objectValues = function objectValues(obj) {
  return Object.keys(obj).map(function (key) {
    return obj[key];
  });
};
/**
 * Convert NodeList to Array
 * @param nodeList
 */

var toArray = function toArray(nodeList) {
  return Array.prototype.slice.call(nodeList);
};
/**
 * Standardise console warnings
 * @param message
 */

var warn = function warn(message) {
  console.warn("".concat(consolePrefix, " ").concat(message));
};
/**
 * Standardise console errors
 * @param message
 */

var error = function error(message) {
  console.error("".concat(consolePrefix, " ").concat(message));
};
/**
 * Private global state for `warnOnce`
 * @type {Array}
 * @private
 */

var previousWarnOnceMessages = [];
/**
 * Show a console warning, but only if it hasn't already been shown
 * @param message
 */

var warnOnce = function warnOnce(message) {
  if (!(previousWarnOnceMessages.indexOf(message) !== -1)) {
    previousWarnOnceMessages.push(message);
    warn(message);
  }
};
/**
 * Show a one-time console warning about deprecated params/methods
 */

var warnAboutDepreation = function warnAboutDepreation(deprecatedParam, useInstead) {
  warnOnce("\"".concat(deprecatedParam, "\" is deprecated and will be removed in the next major release. Please use \"").concat(useInstead, "\" instead."));
};
/**
 * If `arg` is a function, call it (with no arguments or context) and return the result.
 * Otherwise, just pass the value through
 * @param arg
 */

var callIfFunction = function callIfFunction(arg) {
  return typeof arg === 'function' ? arg() : arg;
};
var isPromise = function isPromise(arg) {
  return arg && Promise.resolve(arg) === arg;
};

var DismissReason = Object.freeze({
  cancel: 'cancel',
  backdrop: 'backdrop',
  close: 'close',
  esc: 'esc',
  timer: 'timer'
});

var isJqueryElement = function isJqueryElement(elem) {
  return _typeof(elem) === 'object' && elem.jquery;
};

var isElement = function isElement(elem) {
  return elem instanceof Element || isJqueryElement(elem);
};

var argsToParams = function argsToParams(args) {
  var params = {};

  if (_typeof(args[0]) === 'object' && !isElement(args[0])) {
    _extends(params, args[0]);
  } else {
    ['title', 'html', 'icon'].forEach(function (name, index) {
      var arg = args[index];

      if (typeof arg === 'string' || isElement(arg)) {
        params[name] = arg;
      } else if (arg !== undefined) {
        error("Unexpected type of ".concat(name, "! Expected \"string\" or \"Element\", got ").concat(_typeof(arg)));
      }
    });
  }

  return params;
};

var swalPrefix = 'swal2-';
var prefix = function prefix(items) {
  var result = {};

  for (var i in items) {
    result[items[i]] = swalPrefix + items[i];
  }

  return result;
};
var swalClasses = prefix(['container', 'shown', 'height-auto', 'iosfix', 'popup', 'modal', 'no-backdrop', 'toast', 'toast-shown', 'toast-column', 'show', 'hide', 'close', 'title', 'header', 'content', 'html-container', 'actions', 'confirm', 'cancel', 'footer', 'icon', 'icon-content', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'label', 'textarea', 'inputerror', 'validation-message', 'progress-steps', 'active-progress-step', 'progress-step', 'progress-step-line', 'loading', 'styled', 'top', 'top-start', 'top-end', 'top-left', 'top-right', 'center', 'center-start', 'center-end', 'center-left', 'center-right', 'bottom', 'bottom-start', 'bottom-end', 'bottom-left', 'bottom-right', 'grow-row', 'grow-column', 'grow-fullscreen', 'rtl', 'timer-progress-bar', 'scrollbar-measure', 'icon-success', 'icon-warning', 'icon-info', 'icon-question', 'icon-error']);
var iconTypes = prefix(['success', 'warning', 'info', 'question', 'error']);

var getContainer = function getContainer() {
  return document.body.querySelector(".".concat(swalClasses.container));
};
var elementBySelector = function elementBySelector(selectorString) {
  var container = getContainer();
  return container ? container.querySelector(selectorString) : null;
};

var elementByClass = function elementByClass(className) {
  return elementBySelector(".".concat(className));
};

var getPopup = function getPopup() {
  return elementByClass(swalClasses.popup);
};
var getIcons = function getIcons() {
  var popup = getPopup();
  return toArray(popup.querySelectorAll(".".concat(swalClasses.icon)));
};
var getIcon = function getIcon() {
  var visibleIcon = getIcons().filter(function (icon) {
    return isVisible(icon);
  });
  return visibleIcon.length ? visibleIcon[0] : null;
};
var getTitle = function getTitle() {
  return elementByClass(swalClasses.title);
};
var getContent = function getContent() {
  return elementByClass(swalClasses.content);
};
var getHtmlContainer = function getHtmlContainer() {
  return elementByClass(swalClasses['html-container']);
};
var getImage = function getImage() {
  return elementByClass(swalClasses.image);
};
var getProgressSteps = function getProgressSteps() {
  return elementByClass(swalClasses['progress-steps']);
};
var getValidationMessage = function getValidationMessage() {
  return elementByClass(swalClasses['validation-message']);
};
var getConfirmButton = function getConfirmButton() {
  return elementBySelector(".".concat(swalClasses.actions, " .").concat(swalClasses.confirm));
};
var getCancelButton = function getCancelButton() {
  return elementBySelector(".".concat(swalClasses.actions, " .").concat(swalClasses.cancel));
};
var getActions = function getActions() {
  return elementByClass(swalClasses.actions);
};
var getHeader = function getHeader() {
  return elementByClass(swalClasses.header);
};
var getFooter = function getFooter() {
  return elementByClass(swalClasses.footer);
};
var getTimerProgressBar = function getTimerProgressBar() {
  return elementByClass(swalClasses['timer-progress-bar']);
};
var getCloseButton = function getCloseButton() {
  return elementByClass(swalClasses.close);
}; // https://github.com/jkup/focusable/blob/master/index.js

var focusable = "\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n";
var getFocusableElements = function getFocusableElements() {
  var focusableElementsWithTabindex = toArray(getPopup().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')) // sort according to tabindex
  .sort(function (a, b) {
    a = parseInt(a.getAttribute('tabindex'));
    b = parseInt(b.getAttribute('tabindex'));

    if (a > b) {
      return 1;
    } else if (a < b) {
      return -1;
    }

    return 0;
  });
  var otherFocusableElements = toArray(getPopup().querySelectorAll(focusable)).filter(function (el) {
    return el.getAttribute('tabindex') !== '-1';
  });
  return uniqueArray(focusableElementsWithTabindex.concat(otherFocusableElements)).filter(function (el) {
    return isVisible(el);
  });
};
var isModal = function isModal() {
  return !isToast() && !document.body.classList.contains(swalClasses['no-backdrop']);
};
var isToast = function isToast() {
  return document.body.classList.contains(swalClasses['toast-shown']);
};
var isLoading = function isLoading() {
  return getPopup().hasAttribute('data-loading');
};

var states = {
  previousBodyPadding: null
};
var hasClass = function hasClass(elem, className) {
  if (!className) {
    return false;
  }

  var classList = className.split(/\s+/);

  for (var i = 0; i < classList.length; i++) {
    if (!elem.classList.contains(classList[i])) {
      return false;
    }
  }

  return true;
};

var removeCustomClasses = function removeCustomClasses(elem, params) {
  toArray(elem.classList).forEach(function (className) {
    if (!(objectValues(swalClasses).indexOf(className) !== -1) && !(objectValues(iconTypes).indexOf(className) !== -1) && !(objectValues(params.showClass).indexOf(className) !== -1)) {
      elem.classList.remove(className);
    }
  });
};

var applyCustomClass = function applyCustomClass(elem, params, className) {
  removeCustomClasses(elem, params);

  if (params.customClass && params.customClass[className]) {
    if (typeof params.customClass[className] !== 'string' && !params.customClass[className].forEach) {
      return warn("Invalid type of customClass.".concat(className, "! Expected string or iterable object, got \"").concat(_typeof(params.customClass[className]), "\""));
    }

    addClass(elem, params.customClass[className]);
  }
};
function getInput(content, inputType) {
  if (!inputType) {
    return null;
  }

  switch (inputType) {
    case 'select':
    case 'textarea':
    case 'file':
      return getChildByClass(content, swalClasses[inputType]);

    case 'checkbox':
      return content.querySelector(".".concat(swalClasses.checkbox, " input"));

    case 'radio':
      return content.querySelector(".".concat(swalClasses.radio, " input:checked")) || content.querySelector(".".concat(swalClasses.radio, " input:first-child"));

    case 'range':
      return content.querySelector(".".concat(swalClasses.range, " input"));

    default:
      return getChildByClass(content, swalClasses.input);
  }
}
var focusInput = function focusInput(input) {
  input.focus(); // place cursor at end of text in text input

  if (input.type !== 'file') {
    // http://stackoverflow.com/a/2345915
    var val = input.value;
    input.value = '';
    input.value = val;
  }
};
var toggleClass = function toggleClass(target, classList, condition) {
  if (!target || !classList) {
    return;
  }

  if (typeof classList === 'string') {
    classList = classList.split(/\s+/).filter(Boolean);
  }

  classList.forEach(function (className) {
    if (target.forEach) {
      target.forEach(function (elem) {
        condition ? elem.classList.add(className) : elem.classList.remove(className);
      });
    } else {
      condition ? target.classList.add(className) : target.classList.remove(className);
    }
  });
};
var addClass = function addClass(target, classList) {
  toggleClass(target, classList, true);
};
var removeClass = function removeClass(target, classList) {
  toggleClass(target, classList, false);
};
var getChildByClass = function getChildByClass(elem, className) {
  for (var i = 0; i < elem.childNodes.length; i++) {
    if (hasClass(elem.childNodes[i], className)) {
      return elem.childNodes[i];
    }
  }
};
var applyNumericalStyle = function applyNumericalStyle(elem, property, value) {
  if (value || parseInt(value) === 0) {
    elem.style[property] = typeof value === 'number' ? "".concat(value, "px") : value;
  } else {
    elem.style.removeProperty(property);
  }
};
var show = function show(elem) {
  var display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'flex';
  elem.style.opacity = '';
  elem.style.display = display;
};
var hide = function hide(elem) {
  elem.style.opacity = '';
  elem.style.display = 'none';
};
var toggle = function toggle(elem, condition, display) {
  condition ? show(elem, display) : hide(elem);
}; // borrowed from jquery $(elem).is(':visible') implementation

var isVisible = function isVisible(elem) {
  return !!(elem && (elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length));
};
/* istanbul ignore next */

var isScrollable = function isScrollable(elem) {
  return !!(elem.scrollHeight > elem.clientHeight);
}; // borrowed from https://stackoverflow.com/a/46352119

var hasCssAnimation = function hasCssAnimation(elem) {
  var style = window.getComputedStyle(elem);
  var animDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');
  var transDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');
  return animDuration > 0 || transDuration > 0;
};
var contains = function contains(haystack, needle) {
  if (typeof haystack.contains === 'function') {
    return haystack.contains(needle);
  }
};
var animateTimerProgressBar = function animateTimerProgressBar(timer) {
  var reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var timerProgressBar = getTimerProgressBar();

  if (isVisible(timerProgressBar)) {
    if (reset) {
      timerProgressBar.style.transition = 'none';
      timerProgressBar.style.width = '100%';
    }

    setTimeout(function () {
      timerProgressBar.style.transition = "width ".concat(timer / 1000, "s linear");
      timerProgressBar.style.width = '0%';
    }, 10);
  }
};
var stopTimerProgressBar = function stopTimerProgressBar() {
  var timerProgressBar = getTimerProgressBar();
  var timerProgressBarWidth = parseInt(window.getComputedStyle(timerProgressBar).width);
  timerProgressBar.style.removeProperty('transition');
  timerProgressBar.style.width = '100%';
  var timerProgressBarFullWidth = parseInt(window.getComputedStyle(timerProgressBar).width);
  var timerProgressBarPercent = parseInt(timerProgressBarWidth / timerProgressBarFullWidth * 100);
  timerProgressBar.style.removeProperty('transition');
  timerProgressBar.style.width = "".concat(timerProgressBarPercent, "%");
};

// Detect Node env
var isNodeEnv = function isNodeEnv() {
  return typeof window === 'undefined' || typeof document === 'undefined';
};

var sweetHTML = "\n <div aria-labelledby=\"".concat(swalClasses.title, "\" aria-describedby=\"").concat(swalClasses.content, "\" class=\"").concat(swalClasses.popup, "\" tabindex=\"-1\">\n   <div class=\"").concat(swalClasses.header, "\">\n     <ul class=\"").concat(swalClasses['progress-steps'], "\"></ul>\n     <div class=\"").concat(swalClasses.icon, " ").concat(iconTypes.error, "\"></div>\n     <div class=\"").concat(swalClasses.icon, " ").concat(iconTypes.question, "\"></div>\n     <div class=\"").concat(swalClasses.icon, " ").concat(iconTypes.warning, "\"></div>\n     <div class=\"").concat(swalClasses.icon, " ").concat(iconTypes.info, "\"></div>\n     <div class=\"").concat(swalClasses.icon, " ").concat(iconTypes.success, "\"></div>\n     <img class=\"").concat(swalClasses.image, "\" />\n     <h2 class=\"").concat(swalClasses.title, "\" id=\"").concat(swalClasses.title, "\"></h2>\n     <button type=\"button\" class=\"").concat(swalClasses.close, "\"></button>\n   </div>\n   <div class=\"").concat(swalClasses.content, "\">\n     <div id=\"").concat(swalClasses.content, "\" class=\"").concat(swalClasses['html-container'], "\"></div>\n     <input class=\"").concat(swalClasses.input, "\" />\n     <input type=\"file\" class=\"").concat(swalClasses.file, "\" />\n     <div class=\"").concat(swalClasses.range, "\">\n       <input type=\"range\" />\n       <output></output>\n     </div>\n     <select class=\"").concat(swalClasses.select, "\"></select>\n     <div class=\"").concat(swalClasses.radio, "\"></div>\n     <label for=\"").concat(swalClasses.checkbox, "\" class=\"").concat(swalClasses.checkbox, "\">\n       <input type=\"checkbox\" />\n       <span class=\"").concat(swalClasses.label, "\"></span>\n     </label>\n     <textarea class=\"").concat(swalClasses.textarea, "\"></textarea>\n     <div class=\"").concat(swalClasses['validation-message'], "\" id=\"").concat(swalClasses['validation-message'], "\"></div>\n   </div>\n   <div class=\"").concat(swalClasses.actions, "\">\n     <button type=\"button\" class=\"").concat(swalClasses.confirm, "\">OK</button>\n     <button type=\"button\" class=\"").concat(swalClasses.cancel, "\">Cancel</button>\n   </div>\n   <div class=\"").concat(swalClasses.footer, "\"></div>\n   <div class=\"").concat(swalClasses['timer-progress-bar'], "\"></div>\n </div>\n").replace(/(^|\n)\s*/g, '');

var resetOldContainer = function resetOldContainer() {
  var oldContainer = getContainer();

  if (!oldContainer) {
    return;
  }

  oldContainer.parentNode.removeChild(oldContainer);
  removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);
};

var oldInputVal; // IE11 workaround, see #1109 for details

var resetValidationMessage = function resetValidationMessage(e) {
  if (Swal.isVisible() && oldInputVal !== e.target.value) {
    Swal.resetValidationMessage();
  }

  oldInputVal = e.target.value;
};

var addInputChangeListeners = function addInputChangeListeners() {
  var content = getContent();
  var input = getChildByClass(content, swalClasses.input);
  var file = getChildByClass(content, swalClasses.file);
  var range = content.querySelector(".".concat(swalClasses.range, " input"));
  var rangeOutput = content.querySelector(".".concat(swalClasses.range, " output"));
  var select = getChildByClass(content, swalClasses.select);
  var checkbox = content.querySelector(".".concat(swalClasses.checkbox, " input"));
  var textarea = getChildByClass(content, swalClasses.textarea);
  input.oninput = resetValidationMessage;
  file.onchange = resetValidationMessage;
  select.onchange = resetValidationMessage;
  checkbox.onchange = resetValidationMessage;
  textarea.oninput = resetValidationMessage;

  range.oninput = function (e) {
    resetValidationMessage(e);
    rangeOutput.value = range.value;
  };

  range.onchange = function (e) {
    resetValidationMessage(e);
    range.nextSibling.value = range.value;
  };
};

var getTarget = function getTarget(target) {
  return typeof target === 'string' ? document.querySelector(target) : target;
};

var setupAccessibility = function setupAccessibility(params) {
  var popup = getPopup();
  popup.setAttribute('role', params.toast ? 'alert' : 'dialog');
  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');

  if (!params.toast) {
    popup.setAttribute('aria-modal', 'true');
  }
};

var setupRTL = function setupRTL(targetElement) {
  if (window.getComputedStyle(targetElement).direction === 'rtl') {
    addClass(getContainer(), swalClasses.rtl);
  }
};
/*
 * Add modal + backdrop to DOM
 */


var init = function init(params) {
  // Clean up the old popup container if it exists
  resetOldContainer();
  /* istanbul ignore if */

  if (isNodeEnv()) {
    error('SweetAlert2 requires document to initialize');
    return;
  }

  var container = document.createElement('div');
  container.className = swalClasses.container;
  container.innerHTML = sweetHTML;
  var targetElement = getTarget(params.target);
  targetElement.appendChild(container);
  setupAccessibility(params);
  setupRTL(targetElement);
  addInputChangeListeners();
};

var parseHtmlToContainer = function parseHtmlToContainer(param, target) {
  // DOM element
  if (param instanceof HTMLElement) {
    target.appendChild(param); // JQuery element(s)
  } else if (_typeof(param) === 'object') {
    handleJqueryElem(target, param); // Plain string
  } else if (param) {
    target.innerHTML = param;
  }
};

var handleJqueryElem = function handleJqueryElem(target, elem) {
  target.innerHTML = '';

  if (0 in elem) {
    for (var i = 0; i in elem; i++) {
      target.appendChild(elem[i].cloneNode(true));
    }
  } else {
    target.appendChild(elem.cloneNode(true));
  }
};

var animationEndEvent = function () {
  // Prevent run in Node env

  /* istanbul ignore if */
  if (isNodeEnv()) {
    return false;
  }

  var testEl = document.createElement('div');
  var transEndEventNames = {
    WebkitAnimation: 'webkitAnimationEnd',
    OAnimation: 'oAnimationEnd oanimationend',
    animation: 'animationend'
  };

  for (var i in transEndEventNames) {
    if (Object.prototype.hasOwnProperty.call(transEndEventNames, i) && typeof testEl.style[i] !== 'undefined') {
      return transEndEventNames[i];
    }
  }

  return false;
}();

// https://github.com/twbs/bootstrap/blob/master/js/src/modal.js

var measureScrollbar = function measureScrollbar() {
  var scrollDiv = document.createElement('div');
  scrollDiv.className = swalClasses['scrollbar-measure'];
  document.body.appendChild(scrollDiv);
  var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;
  document.body.removeChild(scrollDiv);
  return scrollbarWidth;
};

var renderActions = function renderActions(instance, params) {
  var actions = getActions();
  var confirmButton = getConfirmButton();
  var cancelButton = getCancelButton(); // Actions (buttons) wrapper

  if (!params.showConfirmButton && !params.showCancelButton) {
    hide(actions);
  } // Custom class


  applyCustomClass(actions, params, 'actions'); // Render confirm button

  renderButton(confirmButton, 'confirm', params); // render Cancel Button

  renderButton(cancelButton, 'cancel', params);

  if (params.buttonsStyling) {
    handleButtonsStyling(confirmButton, cancelButton, params);
  } else {
    removeClass([confirmButton, cancelButton], swalClasses.styled);
    confirmButton.style.backgroundColor = confirmButton.style.borderLeftColor = confirmButton.style.borderRightColor = '';
    cancelButton.style.backgroundColor = cancelButton.style.borderLeftColor = cancelButton.style.borderRightColor = '';
  }

  if (params.reverseButtons) {
    confirmButton.parentNode.insertBefore(cancelButton, confirmButton);
  }
};

function handleButtonsStyling(confirmButton, cancelButton, params) {
  addClass([confirmButton, cancelButton], swalClasses.styled); // Buttons background colors

  if (params.confirmButtonColor) {
    confirmButton.style.backgroundColor = params.confirmButtonColor;
  }

  if (params.cancelButtonColor) {
    cancelButton.style.backgroundColor = params.cancelButtonColor;
  } // Loading state


  var confirmButtonBackgroundColor = window.getComputedStyle(confirmButton).getPropertyValue('background-color');
  confirmButton.style.borderLeftColor = confirmButtonBackgroundColor;
  confirmButton.style.borderRightColor = confirmButtonBackgroundColor;
}

function renderButton(button, buttonType, params) {
  toggle(button, params["show".concat(capitalizeFirstLetter(buttonType), "Button")], 'inline-block');
  button.innerHTML = params["".concat(buttonType, "ButtonText")]; // Set caption text

  button.setAttribute('aria-label', params["".concat(buttonType, "ButtonAriaLabel")]); // ARIA label
  // Add buttons custom classes

  button.className = swalClasses[buttonType];
  applyCustomClass(button, params, "".concat(buttonType, "Button"));
  addClass(button, params["".concat(buttonType, "ButtonClass")]);
}

function handleBackdropParam(container, backdrop) {
  if (typeof backdrop === 'string') {
    container.style.background = backdrop;
  } else if (!backdrop) {
    addClass([document.documentElement, document.body], swalClasses['no-backdrop']);
  }
}

function handlePositionParam(container, position) {
  if (position in swalClasses) {
    addClass(container, swalClasses[position]);
  } else {
    warn('The "position" parameter is not valid, defaulting to "center"');
    addClass(container, swalClasses.center);
  }
}

function handleGrowParam(container, grow) {
  if (grow && typeof grow === 'string') {
    var growClass = "grow-".concat(grow);

    if (growClass in swalClasses) {
      addClass(container, swalClasses[growClass]);
    }
  }
}

var renderContainer = function renderContainer(instance, params) {
  var container = getContainer();

  if (!container) {
    return;
  }

  handleBackdropParam(container, params.backdrop);

  if (!params.backdrop && params.allowOutsideClick) {
    warn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');
  }

  handlePositionParam(container, params.position);
  handleGrowParam(container, params.grow); // Custom class

  applyCustomClass(container, params, 'container'); // Set queue step attribute for getQueueStep() method

  var queueStep = document.body.getAttribute('data-swal2-queue-step');

  if (queueStep) {
    container.setAttribute('data-queue-step', queueStep);
    document.body.removeAttribute('data-swal2-queue-step');
  }
};

/**
 * This module containts `WeakMap`s for each effectively-"private  property" that a `Swal` has.
 * For example, to set the private property "foo" of `this` to "bar", you can `privateProps.foo.set(this, 'bar')`
 * This is the approach that Babel will probably take to implement private methods/fields
 *   https://github.com/tc39/proposal-private-methods
 *   https://github.com/babel/babel/pull/7555
 * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*
 *   then we can use that language feature.
 */
var privateProps = {
  promise: new WeakMap(),
  innerParams: new WeakMap(),
  domCache: new WeakMap()
};

var inputTypes = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];
var renderInput = function renderInput(instance, params) {
  var content = getContent();
  var innerParams = privateProps.innerParams.get(instance);
  var rerender = !innerParams || params.input !== innerParams.input;
  inputTypes.forEach(function (inputType) {
    var inputClass = swalClasses[inputType];
    var inputContainer = getChildByClass(content, inputClass); // set attributes

    setAttributes(inputType, params.inputAttributes); // set class

    inputContainer.className = inputClass;

    if (rerender) {
      hide(inputContainer);
    }
  });

  if (params.input) {
    if (rerender) {
      showInput(params);
    } // set custom class


    setCustomClass(params);
  }
};

var showInput = function showInput(params) {
  if (!renderInputType[params.input]) {
    return error("Unexpected type of input! Expected \"text\", \"email\", \"password\", \"number\", \"tel\", \"select\", \"radio\", \"checkbox\", \"textarea\", \"file\" or \"url\", got \"".concat(params.input, "\""));
  }

  var inputContainer = getInputContainer(params.input);
  var input = renderInputType[params.input](inputContainer, params);
  show(input); // input autofocus

  setTimeout(function () {
    focusInput(input);
  });
};

var removeAttributes = function removeAttributes(input) {
  for (var i = 0; i < input.attributes.length; i++) {
    var attrName = input.attributes[i].name;

    if (!(['type', 'value', 'style'].indexOf(attrName) !== -1)) {
      input.removeAttribute(attrName);
    }
  }
};

var setAttributes = function setAttributes(inputType, inputAttributes) {
  var input = getInput(getContent(), inputType);

  if (!input) {
    return;
  }

  removeAttributes(input);

  for (var attr in inputAttributes) {
    // Do not set a placeholder for <input type="range">
    // it'll crash Edge, #1298
    if (inputType === 'range' && attr === 'placeholder') {
      continue;
    }

    input.setAttribute(attr, inputAttributes[attr]);
  }
};

var setCustomClass = function setCustomClass(params) {
  var inputContainer = getInputContainer(params.input);

  if (params.customClass) {
    addClass(inputContainer, params.customClass.input);
  }
};

var setInputPlaceholder = function setInputPlaceholder(input, params) {
  if (!input.placeholder || params.inputPlaceholder) {
    input.placeholder = params.inputPlaceholder;
  }
};

var getInputContainer = function getInputContainer(inputType) {
  var inputClass = swalClasses[inputType] ? swalClasses[inputType] : swalClasses.input;
  return getChildByClass(getContent(), inputClass);
};

var renderInputType = {};

renderInputType.text = renderInputType.email = renderInputType.password = renderInputType.number = renderInputType.tel = renderInputType.url = function (input, params) {
  if (typeof params.inputValue === 'string' || typeof params.inputValue === 'number') {
    input.value = params.inputValue;
  } else if (!isPromise(params.inputValue)) {
    warn("Unexpected type of inputValue! Expected \"string\", \"number\" or \"Promise\", got \"".concat(_typeof(params.inputValue), "\""));
  }

  setInputPlaceholder(input, params);
  input.type = params.input;
  return input;
};

renderInputType.file = function (input, params) {
  setInputPlaceholder(input, params);
  return input;
};

renderInputType.range = function (range, params) {
  var rangeInput = range.querySelector('input');
  var rangeOutput = range.querySelector('output');
  rangeInput.value = params.inputValue;
  rangeInput.type = params.input;
  rangeOutput.value = params.inputValue;
  return range;
};

renderInputType.select = function (select, params) {
  select.innerHTML = '';

  if (params.inputPlaceholder) {
    var placeholder = document.createElement('option');
    placeholder.innerHTML = params.inputPlaceholder;
    placeholder.value = '';
    placeholder.disabled = true;
    placeholder.selected = true;
    select.appendChild(placeholder);
  }

  return select;
};

renderInputType.radio = function (radio) {
  radio.innerHTML = '';
  return radio;
};

renderInputType.checkbox = function (checkboxContainer, params) {
  var checkbox = getInput(getContent(), 'checkbox');
  checkbox.value = 1;
  checkbox.id = swalClasses.checkbox;
  checkbox.checked = Boolean(params.inputValue);
  var label = checkboxContainer.querySelector('span');
  label.innerHTML = params.inputPlaceholder;
  return checkboxContainer;
};

renderInputType.textarea = function (textarea, params) {
  textarea.value = params.inputValue;
  setInputPlaceholder(textarea, params);

  if ('MutationObserver' in window) {
    // #1699
    var initialPopupWidth = parseInt(window.getComputedStyle(getPopup()).width);
    var popupPadding = parseInt(window.getComputedStyle(getPopup()).paddingLeft) + parseInt(window.getComputedStyle(getPopup()).paddingRight);

    var outputsize = function outputsize() {
      var contentWidth = textarea.offsetWidth + popupPadding;

      if (contentWidth > initialPopupWidth) {
        getPopup().style.width = "".concat(contentWidth, "px");
      } else {
        getPopup().style.width = null;
      }
    };

    new MutationObserver(outputsize).observe(textarea, {
      attributes: true,
      attributeFilter: ['style']
    });
  }

  return textarea;
};

var renderContent = function renderContent(instance, params) {
  var content = getContent().querySelector("#".concat(swalClasses.content)); // Content as HTML

  if (params.html) {
    parseHtmlToContainer(params.html, content);
    show(content, 'block'); // Content as plain text
  } else if (params.text) {
    content.textContent = params.text;
    show(content, 'block'); // No content
  } else {
    hide(content);
  }

  renderInput(instance, params); // Custom class

  applyCustomClass(getContent(), params, 'content');
};

var renderFooter = function renderFooter(instance, params) {
  var footer = getFooter();
  toggle(footer, params.footer);

  if (params.footer) {
    parseHtmlToContainer(params.footer, footer);
  } // Custom class


  applyCustomClass(footer, params, 'footer');
};

var renderCloseButton = function renderCloseButton(instance, params) {
  var closeButton = getCloseButton();
  closeButton.innerHTML = params.closeButtonHtml; // Custom class

  applyCustomClass(closeButton, params, 'closeButton');
  toggle(closeButton, params.showCloseButton);
  closeButton.setAttribute('aria-label', params.closeButtonAriaLabel);
};

var renderIcon = function renderIcon(instance, params) {
  var innerParams = privateProps.innerParams.get(instance); // if the give icon already rendered, apply the custom class without re-rendering the icon

  if (innerParams && params.icon === innerParams.icon && getIcon()) {
    applyCustomClass(getIcon(), params, 'icon');
    return;
  }

  hideAllIcons();

  if (!params.icon) {
    return;
  }

  if (Object.keys(iconTypes).indexOf(params.icon) !== -1) {
    var icon = elementBySelector(".".concat(swalClasses.icon, ".").concat(iconTypes[params.icon]));
    show(icon); // Custom or default content

    setContent(icon, params);
    adjustSuccessIconBackgoundColor(); // Custom class

    applyCustomClass(icon, params, 'icon'); // Animate icon

    addClass(icon, params.showClass.icon);
  } else {
    error("Unknown icon! Expected \"success\", \"error\", \"warning\", \"info\" or \"question\", got \"".concat(params.icon, "\""));
  }
};

var hideAllIcons = function hideAllIcons() {
  var icons = getIcons();

  for (var i = 0; i < icons.length; i++) {
    hide(icons[i]);
  }
}; // Adjust success icon background color to match the popup background color


var adjustSuccessIconBackgoundColor = function adjustSuccessIconBackgoundColor() {
  var popup = getPopup();
  var popupBackgroundColor = window.getComputedStyle(popup).getPropertyValue('background-color');
  var successIconParts = popup.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');

  for (var i = 0; i < successIconParts.length; i++) {
    successIconParts[i].style.backgroundColor = popupBackgroundColor;
  }
};

var setContent = function setContent(icon, params) {
  icon.innerHTML = '';

  if (params.iconHtml) {
    icon.innerHTML = iconContent(params.iconHtml);
  } else if (params.icon === 'success') {
    icon.innerHTML = "\n      <div class=\"swal2-success-circular-line-left\"></div>\n      <span class=\"swal2-success-line-tip\"></span> <span class=\"swal2-success-line-long\"></span>\n      <div class=\"swal2-success-ring\"></div> <div class=\"swal2-success-fix\"></div>\n      <div class=\"swal2-success-circular-line-right\"></div>\n    ";
  } else if (params.icon === 'error') {
    icon.innerHTML = "\n      <span class=\"swal2-x-mark\">\n        <span class=\"swal2-x-mark-line-left\"></span>\n        <span class=\"swal2-x-mark-line-right\"></span>\n      </span>\n    ";
  } else {
    var defaultIconHtml = {
      question: '?',
      warning: '!',
      info: 'i'
    };
    icon.innerHTML = iconContent(defaultIconHtml[params.icon]);
  }
};

var iconContent = function iconContent(content) {
  return "<div class=\"".concat(swalClasses['icon-content'], "\">").concat(content, "</div>");
};

var renderImage = function renderImage(instance, params) {
  var image = getImage();

  if (!params.imageUrl) {
    return hide(image);
  }

  show(image); // Src, alt

  image.setAttribute('src', params.imageUrl);
  image.setAttribute('alt', params.imageAlt); // Width, height

  applyNumericalStyle(image, 'width', params.imageWidth);
  applyNumericalStyle(image, 'height', params.imageHeight); // Class

  image.className = swalClasses.image;
  applyCustomClass(image, params, 'image');
};

var currentSteps = [];
/*
 * Global function for chaining sweetAlert popups
 */

var queue = function queue(steps) {
  var Swal = this;
  currentSteps = steps;

  var resetAndResolve = function resetAndResolve(resolve, value) {
    currentSteps = [];
    resolve(value);
  };

  var queueResult = [];
  return new Promise(function (resolve) {
    (function step(i, callback) {
      if (i < currentSteps.length) {
        document.body.setAttribute('data-swal2-queue-step', i);
        Swal.fire(currentSteps[i]).then(function (result) {
          if (typeof result.value !== 'undefined') {
            queueResult.push(result.value);
            step(i + 1, callback);
          } else {
            resetAndResolve(resolve, {
              dismiss: result.dismiss
            });
          }
        });
      } else {
        resetAndResolve(resolve, {
          value: queueResult
        });
      }
    })(0);
  });
};
/*
 * Global function for getting the index of current popup in queue
 */

var getQueueStep = function getQueueStep() {
  return getContainer().getAttribute('data-queue-step');
};
/*
 * Global function for inserting a popup to the queue
 */

var insertQueueStep = function insertQueueStep(step, index) {
  if (index && index < currentSteps.length) {
    return currentSteps.splice(index, 0, step);
  }

  return currentSteps.push(step);
};
/*
 * Global function for deleting a popup from the queue
 */

var deleteQueueStep = function deleteQueueStep(index) {
  if (typeof currentSteps[index] !== 'undefined') {
    currentSteps.splice(index, 1);
  }
};

var createStepElement = function createStepElement(step) {
  var stepEl = document.createElement('li');
  addClass(stepEl, swalClasses['progress-step']);
  stepEl.innerHTML = step;
  return stepEl;
};

var createLineElement = function createLineElement(params) {
  var lineEl = document.createElement('li');
  addClass(lineEl, swalClasses['progress-step-line']);

  if (params.progressStepsDistance) {
    lineEl.style.width = params.progressStepsDistance;
  }

  return lineEl;
};

var renderProgressSteps = function renderProgressSteps(instance, params) {
  var progressStepsContainer = getProgressSteps();

  if (!params.progressSteps || params.progressSteps.length === 0) {
    return hide(progressStepsContainer);
  }

  show(progressStepsContainer);
  progressStepsContainer.innerHTML = '';
  var currentProgressStep = parseInt(params.currentProgressStep === undefined ? getQueueStep() : params.currentProgressStep);

  if (currentProgressStep >= params.progressSteps.length) {
    warn('Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');
  }

  params.progressSteps.forEach(function (step, index) {
    var stepEl = createStepElement(step);
    progressStepsContainer.appendChild(stepEl);

    if (index === currentProgressStep) {
      addClass(stepEl, swalClasses['active-progress-step']);
    }

    if (index !== params.progressSteps.length - 1) {
      var lineEl = createLineElement(step);
      progressStepsContainer.appendChild(lineEl);
    }
  });
};

var renderTitle = function renderTitle(instance, params) {
  var title = getTitle();
  toggle(title, params.title || params.titleText);

  if (params.title) {
    parseHtmlToContainer(params.title, title);
  }

  if (params.titleText) {
    title.innerText = params.titleText;
  } // Custom class


  applyCustomClass(title, params, 'title');
};

var renderHeader = function renderHeader(instance, params) {
  var header = getHeader(); // Custom class

  applyCustomClass(header, params, 'header'); // Progress steps

  renderProgressSteps(instance, params); // Icon

  renderIcon(instance, params); // Image

  renderImage(instance, params); // Title

  renderTitle(instance, params); // Close button

  renderCloseButton(instance, params);
};

var renderPopup = function renderPopup(instance, params) {
  var popup = getPopup(); // Width

  applyNumericalStyle(popup, 'width', params.width); // Padding

  applyNumericalStyle(popup, 'padding', params.padding); // Background

  if (params.background) {
    popup.style.background = params.background;
  } // Classes


  addClasses(popup, params);
};

var addClasses = function addClasses(popup, params) {
  // Default Class + showClass when updating Swal.update({})
  popup.className = "".concat(swalClasses.popup, " ").concat(isVisible(popup) ? params.showClass.popup : '');

  if (params.toast) {
    addClass([document.documentElement, document.body], swalClasses['toast-shown']);
    addClass(popup, swalClasses.toast);
  } else {
    addClass(popup, swalClasses.modal);
  } // Custom class


  applyCustomClass(popup, params, 'popup');

  if (typeof params.customClass === 'string') {
    addClass(popup, params.customClass);
  } // Icon class (#1842)


  if (params.icon) {
    addClass(popup, swalClasses["icon-".concat(params.icon)]);
  }
};

var render = function render(instance, params) {
  renderPopup(instance, params);
  renderContainer(instance, params);
  renderHeader(instance, params);
  renderContent(instance, params);
  renderActions(instance, params);
  renderFooter(instance, params);

  if (typeof params.onRender === 'function') {
    params.onRender(getPopup());
  }
};

/*
 * Global function to determine if SweetAlert2 popup is shown
 */

var isVisible$1 = function isVisible$$1() {
  return isVisible(getPopup());
};
/*
 * Global function to click 'Confirm' button
 */

var clickConfirm = function clickConfirm() {
  return getConfirmButton() && getConfirmButton().click();
};
/*
 * Global function to click 'Cancel' button
 */

var clickCancel = function clickCancel() {
  return getCancelButton() && getCancelButton().click();
};

function fire() {
  var Swal = this;

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return _construct(Swal, args);
}

/**
 * Returns an extended version of `Swal` containing `params` as defaults.
 * Useful for reusing Swal configuration.
 *
 * For example:
 *
 * Before:
 * const textPromptOptions = { input: 'text', showCancelButton: true }
 * const {value: firstName} = await Swal.fire({ ...textPromptOptions, title: 'What is your first name?' })
 * const {value: lastName} = await Swal.fire({ ...textPromptOptions, title: 'What is your last name?' })
 *
 * After:
 * const TextPrompt = Swal.mixin({ input: 'text', showCancelButton: true })
 * const {value: firstName} = await TextPrompt('What is your first name?')
 * const {value: lastName} = await TextPrompt('What is your last name?')
 *
 * @param mixinParams
 */
function mixin(mixinParams) {
  var MixinSwal =
  /*#__PURE__*/
  function (_this) {
    _inherits(MixinSwal, _this);

    function MixinSwal() {
      _classCallCheck(this, MixinSwal);

      return _possibleConstructorReturn(this, _getPrototypeOf(MixinSwal).apply(this, arguments));
    }

    _createClass(MixinSwal, [{
      key: "_main",
      value: function _main(params) {
        return _get(_getPrototypeOf(MixinSwal.prototype), "_main", this).call(this, _extends({}, mixinParams, params));
      }
    }]);

    return MixinSwal;
  }(this);

  return MixinSwal;
}

/**
 * Show spinner instead of Confirm button
 */

var showLoading = function showLoading() {
  var popup = getPopup();

  if (!popup) {
    Swal.fire();
  }

  popup = getPopup();
  var actions = getActions();
  var confirmButton = getConfirmButton();
  show(actions);
  show(confirmButton, 'inline-block');
  addClass([popup, actions], swalClasses.loading);
  confirmButton.disabled = true;
  popup.setAttribute('data-loading', true);
  popup.setAttribute('aria-busy', true);
  popup.focus();
};

var RESTORE_FOCUS_TIMEOUT = 100;

var globalState = {};
var focusPreviousActiveElement = function focusPreviousActiveElement() {
  if (globalState.previousActiveElement && globalState.previousActiveElement.focus) {
    globalState.previousActiveElement.focus();
    globalState.previousActiveElement = null;
  } else if (document.body) {
    document.body.focus();
  }
}; // Restore previous active (focused) element


var restoreActiveElement = function restoreActiveElement() {
  return new Promise(function (resolve) {
    var x = window.scrollX;
    var y = window.scrollY;
    globalState.restoreFocusTimeout = setTimeout(function () {
      focusPreviousActiveElement();
      resolve();
    }, RESTORE_FOCUS_TIMEOUT); // issues/900

    if (typeof x !== 'undefined' && typeof y !== 'undefined') {
      // IE doesn't have scrollX/scrollY support
      window.scrollTo(x, y);
    }
  });
};

/**
 * If `timer` parameter is set, returns number of milliseconds of timer remained.
 * Otherwise, returns undefined.
 */

var getTimerLeft = function getTimerLeft() {
  return globalState.timeout && globalState.timeout.getTimerLeft();
};
/**
 * Stop timer. Returns number of milliseconds of timer remained.
 * If `timer` parameter isn't set, returns undefined.
 */

var stopTimer = function stopTimer() {
  if (globalState.timeout) {
    stopTimerProgressBar();
    return globalState.timeout.stop();
  }
};
/**
 * Resume timer. Returns number of milliseconds of timer remained.
 * If `timer` parameter isn't set, returns undefined.
 */

var resumeTimer = function resumeTimer() {
  if (globalState.timeout) {
    var remaining = globalState.timeout.start();
    animateTimerProgressBar(remaining);
    return remaining;
  }
};
/**
 * Resume timer. Returns number of milliseconds of timer remained.
 * If `timer` parameter isn't set, returns undefined.
 */

var toggleTimer = function toggleTimer() {
  var timer = globalState.timeout;
  return timer && (timer.running ? stopTimer() : resumeTimer());
};
/**
 * Increase timer. Returns number of milliseconds of an updated timer.
 * If `timer` parameter isn't set, returns undefined.
 */

var increaseTimer = function increaseTimer(n) {
  if (globalState.timeout) {
    var remaining = globalState.timeout.increase(n);
    animateTimerProgressBar(remaining, true);
    return remaining;
  }
};
/**
 * Check if timer is running. Returns true if timer is running
 * or false if timer is paused or stopped.
 * If `timer` parameter isn't set, returns undefined
 */

var isTimerRunning = function isTimerRunning() {
  return globalState.timeout && globalState.timeout.isRunning();
};

var defaultParams = {
  title: '',
  titleText: '',
  text: '',
  html: '',
  footer: '',
  icon: undefined,
  iconHtml: undefined,
  toast: false,
  animation: true,
  showClass: {
    popup: 'swal2-show',
    backdrop: 'swal2-backdrop-show',
    icon: 'swal2-icon-show'
  },
  hideClass: {
    popup: 'swal2-hide',
    backdrop: 'swal2-backdrop-hide',
    icon: 'swal2-icon-hide'
  },
  customClass: undefined,
  target: 'body',
  backdrop: true,
  heightAuto: true,
  allowOutsideClick: true,
  allowEscapeKey: true,
  allowEnterKey: true,
  stopKeydownPropagation: true,
  keydownListenerCapture: false,
  showConfirmButton: true,
  showCancelButton: false,
  preConfirm: undefined,
  confirmButtonText: 'OK',
  confirmButtonAriaLabel: '',
  confirmButtonColor: undefined,
  cancelButtonText: 'Cancel',
  cancelButtonAriaLabel: '',
  cancelButtonColor: undefined,
  buttonsStyling: true,
  reverseButtons: false,
  focusConfirm: true,
  focusCancel: false,
  showCloseButton: false,
  closeButtonHtml: '&times;',
  closeButtonAriaLabel: 'Close this dialog',
  showLoaderOnConfirm: false,
  imageUrl: undefined,
  imageWidth: undefined,
  imageHeight: undefined,
  imageAlt: '',
  timer: undefined,
  timerProgressBar: false,
  width: undefined,
  padding: undefined,
  background: undefined,
  input: undefined,
  inputPlaceholder: '',
  inputValue: '',
  inputOptions: {},
  inputAutoTrim: true,
  inputAttributes: {},
  inputValidator: undefined,
  validationMessage: undefined,
  grow: false,
  position: 'center',
  progressSteps: [],
  currentProgressStep: undefined,
  progressStepsDistance: undefined,
  onBeforeOpen: undefined,
  onOpen: undefined,
  onRender: undefined,
  onClose: undefined,
  onAfterClose: undefined,
  scrollbarPadding: true
};
var updatableParams = ['title', 'titleText', 'text', 'html', 'icon', 'customClass', 'showConfirmButton', 'showCancelButton', 'confirmButtonText', 'confirmButtonAriaLabel', 'confirmButtonColor', 'cancelButtonText', 'cancelButtonAriaLabel', 'cancelButtonColor', 'buttonsStyling', 'reverseButtons', 'imageUrl', 'imageWidth', 'imageHeight', 'imageAlt', 'progressSteps', 'currentProgressStep'];
var deprecatedParams = {
  animation: 'showClass" and "hideClass'
};
var toastIncompatibleParams = ['allowOutsideClick', 'allowEnterKey', 'backdrop', 'focusConfirm', 'focusCancel', 'heightAuto', 'keydownListenerCapture'];
/**
 * Is valid parameter
 * @param {String} paramName
 */

var isValidParameter = function isValidParameter(paramName) {
  return Object.prototype.hasOwnProperty.call(defaultParams, paramName);
};
/**
 * Is valid parameter for Swal.update() method
 * @param {String} paramName
 */

var isUpdatableParameter = function isUpdatableParameter(paramName) {
  return updatableParams.indexOf(paramName) !== -1;
};
/**
 * Is deprecated parameter
 * @param {String} paramName
 */

var isDeprecatedParameter = function isDeprecatedParameter(paramName) {
  return deprecatedParams[paramName];
};

var checkIfParamIsValid = function checkIfParamIsValid(param) {
  if (!isValidParameter(param)) {
    warn("Unknown parameter \"".concat(param, "\""));
  }
};

var checkIfToastParamIsValid = function checkIfToastParamIsValid(param) {
  if (toastIncompatibleParams.indexOf(param) !== -1) {
    warn("The parameter \"".concat(param, "\" is incompatible with toasts"));
  }
};

var checkIfParamIsDeprecated = function checkIfParamIsDeprecated(param) {
  if (isDeprecatedParameter(param)) {
    warnAboutDepreation(param, isDeprecatedParameter(param));
  }
};
/**
 * Show relevant warnings for given params
 *
 * @param params
 */


var showWarningsForParams = function showWarningsForParams(params) {
  for (var param in params) {
    checkIfParamIsValid(param);

    if (params.toast) {
      checkIfToastParamIsValid(param);
    }

    checkIfParamIsDeprecated(param);
  }
};



var staticMethods = Object.freeze({
	isValidParameter: isValidParameter,
	isUpdatableParameter: isUpdatableParameter,
	isDeprecatedParameter: isDeprecatedParameter,
	argsToParams: argsToParams,
	isVisible: isVisible$1,
	clickConfirm: clickConfirm,
	clickCancel: clickCancel,
	getContainer: getContainer,
	getPopup: getPopup,
	getTitle: getTitle,
	getContent: getContent,
	getHtmlContainer: getHtmlContainer,
	getImage: getImage,
	getIcon: getIcon,
	getIcons: getIcons,
	getCloseButton: getCloseButton,
	getActions: getActions,
	getConfirmButton: getConfirmButton,
	getCancelButton: getCancelButton,
	getHeader: getHeader,
	getFooter: getFooter,
	getFocusableElements: getFocusableElements,
	getValidationMessage: getValidationMessage,
	isLoading: isLoading,
	fire: fire,
	mixin: mixin,
	queue: queue,
	getQueueStep: getQueueStep,
	insertQueueStep: insertQueueStep,
	deleteQueueStep: deleteQueueStep,
	showLoading: showLoading,
	enableLoading: showLoading,
	getTimerLeft: getTimerLeft,
	stopTimer: stopTimer,
	resumeTimer: resumeTimer,
	toggleTimer: toggleTimer,
	increaseTimer: increaseTimer,
	isTimerRunning: isTimerRunning
});

/**
 * Enables buttons and hide loader.
 */

function hideLoading() {
  // do nothing if popup is closed
  var innerParams = privateProps.innerParams.get(this);

  if (!innerParams) {
    return;
  }

  var domCache = privateProps.domCache.get(this);

  if (!innerParams.showConfirmButton) {
    hide(domCache.confirmButton);

    if (!innerParams.showCancelButton) {
      hide(domCache.actions);
    }
  }

  removeClass([domCache.popup, domCache.actions], swalClasses.loading);
  domCache.popup.removeAttribute('aria-busy');
  domCache.popup.removeAttribute('data-loading');
  domCache.confirmButton.disabled = false;
  domCache.cancelButton.disabled = false;
}

function getInput$1(instance) {
  var innerParams = privateProps.innerParams.get(instance || this);
  var domCache = privateProps.domCache.get(instance || this);

  if (!domCache) {
    return null;
  }

  return getInput(domCache.content, innerParams.input);
}

var fixScrollbar = function fixScrollbar() {
  // for queues, do not do this more than once
  if (states.previousBodyPadding !== null) {
    return;
  } // if the body has overflow


  if (document.body.scrollHeight > window.innerHeight) {
    // add padding so the content doesn't shift after removal of scrollbar
    states.previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'));
    document.body.style.paddingRight = "".concat(states.previousBodyPadding + measureScrollbar(), "px");
  }
};
var undoScrollbar = function undoScrollbar() {
  if (states.previousBodyPadding !== null) {
    document.body.style.paddingRight = "".concat(states.previousBodyPadding, "px");
    states.previousBodyPadding = null;
  }
};

/* istanbul ignore next */

var iOSfix = function iOSfix() {
  var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream || navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;

  if (iOS && !hasClass(document.body, swalClasses.iosfix)) {
    var offset = document.body.scrollTop;
    document.body.style.top = "".concat(offset * -1, "px");
    addClass(document.body, swalClasses.iosfix);
    lockBodyScroll();
  }
};
/* istanbul ignore next */

var lockBodyScroll = function lockBodyScroll() {
  // #1246
  var container = getContainer();
  var preventTouchMove;

  container.ontouchstart = function (e) {
    preventTouchMove = e.target === container || !isScrollable(container) && e.target.tagName !== 'INPUT' // #1603
    ;
  };

  container.ontouchmove = function (e) {
    if (preventTouchMove) {
      e.preventDefault();
      e.stopPropagation();
    }
  };
};
/* istanbul ignore next */


var undoIOSfix = function undoIOSfix() {
  if (hasClass(document.body, swalClasses.iosfix)) {
    var offset = parseInt(document.body.style.top, 10);
    removeClass(document.body, swalClasses.iosfix);
    document.body.style.top = '';
    document.body.scrollTop = offset * -1;
  }
};

var isIE11 = function isIE11() {
  return !!window.MSInputMethodContext && !!document.documentMode;
}; // Fix IE11 centering sweetalert2/issues/933

/* istanbul ignore next */


var fixVerticalPositionIE = function fixVerticalPositionIE() {
  var container = getContainer();
  var popup = getPopup();
  container.style.removeProperty('align-items');

  if (popup.offsetTop < 0) {
    container.style.alignItems = 'flex-start';
  }
};
/* istanbul ignore next */


var IEfix = function IEfix() {
  if (typeof window !== 'undefined' && isIE11()) {
    fixVerticalPositionIE();
    window.addEventListener('resize', fixVerticalPositionIE);
  }
};
/* istanbul ignore next */

var undoIEfix = function undoIEfix() {
  if (typeof window !== 'undefined' && isIE11()) {
    window.removeEventListener('resize', fixVerticalPositionIE);
  }
};

// Adding aria-hidden="true" to elements outside of the active modal dialog ensures that
// elements not within the active modal dialog will not be surfaced if a user opens a screen
// reader’s list of elements (headings, form controls, landmarks, etc.) in the document.

var setAriaHidden = function setAriaHidden() {
  var bodyChildren = toArray(document.body.children);
  bodyChildren.forEach(function (el) {
    if (el === getContainer() || contains(el, getContainer())) {
      return;
    }

    if (el.hasAttribute('aria-hidden')) {
      el.setAttribute('data-previous-aria-hidden', el.getAttribute('aria-hidden'));
    }

    el.setAttribute('aria-hidden', 'true');
  });
};
var unsetAriaHidden = function unsetAriaHidden() {
  var bodyChildren = toArray(document.body.children);
  bodyChildren.forEach(function (el) {
    if (el.hasAttribute('data-previous-aria-hidden')) {
      el.setAttribute('aria-hidden', el.getAttribute('data-previous-aria-hidden'));
      el.removeAttribute('data-previous-aria-hidden');
    } else {
      el.removeAttribute('aria-hidden');
    }
  });
};

/**
 * This module containts `WeakMap`s for each effectively-"private  property" that a `Swal` has.
 * For example, to set the private property "foo" of `this` to "bar", you can `privateProps.foo.set(this, 'bar')`
 * This is the approach that Babel will probably take to implement private methods/fields
 *   https://github.com/tc39/proposal-private-methods
 *   https://github.com/babel/babel/pull/7555
 * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*
 *   then we can use that language feature.
 */
var privateMethods = {
  swalPromiseResolve: new WeakMap()
};

/*
 * Instance method to close sweetAlert
 */

function removePopupAndResetState(instance, container, isToast, onAfterClose) {
  if (isToast) {
    triggerOnAfterCloseAndDispose(instance, onAfterClose);
  } else {
    restoreActiveElement().then(function () {
      return triggerOnAfterCloseAndDispose(instance, onAfterClose);
    });
    globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {
      capture: globalState.keydownListenerCapture
    });
    globalState.keydownHandlerAdded = false;
  }

  if (container.parentNode) {
    container.parentNode.removeChild(container);
  }

  if (isModal()) {
    undoScrollbar();
    undoIOSfix();
    undoIEfix();
    unsetAriaHidden();
  }

  removeBodyClasses();
}

function removeBodyClasses() {
  removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['toast-column']]);
}

function disposeSwal(instance) {
  // Unset this.params so GC will dispose it (#1569)
  delete instance.params; // Unset globalState props so GC will dispose globalState (#1569)

  delete globalState.keydownHandler;
  delete globalState.keydownTarget; // Unset WeakMaps so GC will be able to dispose them (#1569)

  unsetWeakMaps(privateProps);
  unsetWeakMaps(privateMethods);
}

function close(resolveValue) {
  var popup = getPopup();

  if (!popup) {
    return;
  }

  var innerParams = privateProps.innerParams.get(this);

  if (!innerParams || hasClass(popup, innerParams.hideClass.popup)) {
    return;
  }

  var swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);
  removeClass(popup, innerParams.showClass.popup);
  addClass(popup, innerParams.hideClass.popup);
  var backdrop = getContainer();
  removeClass(backdrop, innerParams.showClass.backdrop);
  addClass(backdrop, innerParams.hideClass.backdrop);
  handlePopupAnimation(this, popup, innerParams); // Resolve Swal promise

  swalPromiseResolve(resolveValue || {});
}

var handlePopupAnimation = function handlePopupAnimation(instance, popup, innerParams) {
  var container = getContainer(); // If animation is supported, animate

  var animationIsSupported = animationEndEvent && hasCssAnimation(popup);
  var onClose = innerParams.onClose,
      onAfterClose = innerParams.onAfterClose;

  if (onClose !== null && typeof onClose === 'function') {
    onClose(popup);
  }

  if (animationIsSupported) {
    animatePopup(instance, popup, container, onAfterClose);
  } else {
    // Otherwise, remove immediately
    removePopupAndResetState(instance, container, isToast(), onAfterClose);
  }
};

var animatePopup = function animatePopup(instance, popup, container, onAfterClose) {
  globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, isToast(), onAfterClose);
  popup.addEventListener(animationEndEvent, function (e) {
    if (e.target === popup) {
      globalState.swalCloseEventFinishedCallback();
      delete globalState.swalCloseEventFinishedCallback;
    }
  });
};

var unsetWeakMaps = function unsetWeakMaps(obj) {
  for (var i in obj) {
    obj[i] = new WeakMap();
  }
};

var triggerOnAfterCloseAndDispose = function triggerOnAfterCloseAndDispose(instance, onAfterClose) {
  setTimeout(function () {
    if (onAfterClose !== null && typeof onAfterClose === 'function') {
      onAfterClose();
    }

    if (!getPopup()) {
      disposeSwal(instance);
    }
  });
};

function setButtonsDisabled(instance, buttons, disabled) {
  var domCache = privateProps.domCache.get(instance);
  buttons.forEach(function (button) {
    domCache[button].disabled = disabled;
  });
}

function setInputDisabled(input, disabled) {
  if (!input) {
    return false;
  }

  if (input.type === 'radio') {
    var radiosContainer = input.parentNode.parentNode;
    var radios = radiosContainer.querySelectorAll('input');

    for (var i = 0; i < radios.length; i++) {
      radios[i].disabled = disabled;
    }
  } else {
    input.disabled = disabled;
  }
}

function enableButtons() {
  setButtonsDisabled(this, ['confirmButton', 'cancelButton'], false);
}
function disableButtons() {
  setButtonsDisabled(this, ['confirmButton', 'cancelButton'], true);
}
function enableInput() {
  return setInputDisabled(this.getInput(), false);
}
function disableInput() {
  return setInputDisabled(this.getInput(), true);
}

function showValidationMessage(error) {
  var domCache = privateProps.domCache.get(this);
  domCache.validationMessage.innerHTML = error;
  var popupComputedStyle = window.getComputedStyle(domCache.popup);
  domCache.validationMessage.style.marginLeft = "-".concat(popupComputedStyle.getPropertyValue('padding-left'));
  domCache.validationMessage.style.marginRight = "-".concat(popupComputedStyle.getPropertyValue('padding-right'));
  show(domCache.validationMessage);
  var input = this.getInput();

  if (input) {
    input.setAttribute('aria-invalid', true);
    input.setAttribute('aria-describedBy', swalClasses['validation-message']);
    focusInput(input);
    addClass(input, swalClasses.inputerror);
  }
} // Hide block with validation message

function resetValidationMessage$1() {
  var domCache = privateProps.domCache.get(this);

  if (domCache.validationMessage) {
    hide(domCache.validationMessage);
  }

  var input = this.getInput();

  if (input) {
    input.removeAttribute('aria-invalid');
    input.removeAttribute('aria-describedBy');
    removeClass(input, swalClasses.inputerror);
  }
}

function getProgressSteps$1() {
  var domCache = privateProps.domCache.get(this);
  return domCache.progressSteps;
}

var Timer =
/*#__PURE__*/
function () {
  function Timer(callback, delay) {
    _classCallCheck(this, Timer);

    this.callback = callback;
    this.remaining = delay;
    this.running = false;
    this.start();
  }

  _createClass(Timer, [{
    key: "start",
    value: function start() {
      if (!this.running) {
        this.running = true;
        this.started = new Date();
        this.id = setTimeout(this.callback, this.remaining);
      }

      return this.remaining;
    }
  }, {
    key: "stop",
    value: function stop() {
      if (this.running) {
        this.running = false;
        clearTimeout(this.id);
        this.remaining -= new Date() - this.started;
      }

      return this.remaining;
    }
  }, {
    key: "increase",
    value: function increase(n) {
      var running = this.running;

      if (running) {
        this.stop();
      }

      this.remaining += n;

      if (running) {
        this.start();
      }

      return this.remaining;
    }
  }, {
    key: "getTimerLeft",
    value: function getTimerLeft() {
      if (this.running) {
        this.stop();
        this.start();
      }

      return this.remaining;
    }
  }, {
    key: "isRunning",
    value: function isRunning() {
      return this.running;
    }
  }]);

  return Timer;
}();

var defaultInputValidators = {
  email: function email(string, validationMessage) {
    return /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid email address');
  },
  url: function url(string, validationMessage) {
    // taken from https://stackoverflow.com/a/3809435 with a small change from #1306
    return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid URL');
  }
};

function setDefaultInputValidators(params) {
  // Use default `inputValidator` for supported input types if not provided
  if (!params.inputValidator) {
    Object.keys(defaultInputValidators).forEach(function (key) {
      if (params.input === key) {
        params.inputValidator = defaultInputValidators[key];
      }
    });
  }
}

function validateCustomTargetElement(params) {
  // Determine if the custom target element is valid
  if (!params.target || typeof params.target === 'string' && !document.querySelector(params.target) || typeof params.target !== 'string' && !params.target.appendChild) {
    warn('Target parameter is not valid, defaulting to "body"');
    params.target = 'body';
  }
}
/**
 * Set type, text and actions on popup
 *
 * @param params
 * @returns {boolean}
 */


function setParameters(params) {
  setDefaultInputValidators(params); // showLoaderOnConfirm && preConfirm

  if (params.showLoaderOnConfirm && !params.preConfirm) {
    warn('showLoaderOnConfirm is set to true, but preConfirm is not defined.\n' + 'showLoaderOnConfirm should be used together with preConfirm, see usage example:\n' + 'https://sweetalert2.github.io/#ajax-request');
  } // params.animation will be actually used in renderPopup.js
  // but in case when params.animation is a function, we need to call that function
  // before popup (re)initialization, so it'll be possible to check Swal.isVisible()
  // inside the params.animation function


  params.animation = callIfFunction(params.animation);
  validateCustomTargetElement(params); // Replace newlines with <br> in title

  if (typeof params.title === 'string') {
    params.title = params.title.split('\n').join('<br />');
  }

  init(params);
}

function swalOpenAnimationFinished(popup, container) {
  popup.removeEventListener(animationEndEvent, swalOpenAnimationFinished);
  container.style.overflowY = 'auto';
}
/**
 * Open popup, add necessary classes and styles, fix scrollbar
 *
 * @param {Array} params
 */


var openPopup = function openPopup(params) {
  var container = getContainer();
  var popup = getPopup();

  if (typeof params.onBeforeOpen === 'function') {
    params.onBeforeOpen(popup);
  }

  addClasses$1(container, popup, params); // scrolling is 'hidden' until animation is done, after that 'auto'

  setScrollingVisibility(container, popup);

  if (isModal()) {
    fixScrollContainer(container, params.scrollbarPadding);
  }

  if (!isToast() && !globalState.previousActiveElement) {
    globalState.previousActiveElement = document.activeElement;
  }

  if (typeof params.onOpen === 'function') {
    setTimeout(function () {
      return params.onOpen(popup);
    });
  }
};

var setScrollingVisibility = function setScrollingVisibility(container, popup) {
  if (animationEndEvent && hasCssAnimation(popup)) {
    container.style.overflowY = 'hidden';
    popup.addEventListener(animationEndEvent, function (e) {
      if (e.target === popup) {
        swalOpenAnimationFinished.bind(null, popup, container);
      }
    });
  } else {
    container.style.overflowY = 'auto';
  }
};

var fixScrollContainer = function fixScrollContainer(container, scrollbarPadding) {
  iOSfix();
  IEfix();
  setAriaHidden();

  if (scrollbarPadding) {
    fixScrollbar();
  } // sweetalert2/issues/1247


  setTimeout(function () {
    container.scrollTop = 0;
  });
};

var addClasses$1 = function addClasses(container, popup, params) {
  addClass(container, params.showClass.backdrop);
  show(popup); // Animate popup right after showing it

  addClass(popup, params.showClass.popup);
  addClass([document.documentElement, document.body], swalClasses.shown);

  if (params.heightAuto && params.backdrop && !params.toast) {
    addClass([document.documentElement, document.body], swalClasses['height-auto']);
  }
};

var handleInputOptionsAndValue = function handleInputOptionsAndValue(instance, params) {
  if (params.input === 'select' || params.input === 'radio') {
    handleInputOptions(instance, params);
  } else if (['text', 'email', 'number', 'tel', 'textarea'].indexOf(params.input) !== -1 && isPromise(params.inputValue)) {
    handleInputValue(instance, params);
  }
};
var getInputValue = function getInputValue(instance, innerParams) {
  var input = instance.getInput();

  if (!input) {
    return null;
  }

  switch (innerParams.input) {
    case 'checkbox':
      return getCheckboxValue(input);

    case 'radio':
      return getRadioValue(input);

    case 'file':
      return getFileValue(input);

    default:
      return innerParams.inputAutoTrim ? input.value.trim() : input.value;
  }
};

var getCheckboxValue = function getCheckboxValue(input) {
  return input.checked ? 1 : 0;
};

var getRadioValue = function getRadioValue(input) {
  return input.checked ? input.value : null;
};

var getFileValue = function getFileValue(input) {
  return input.files.length ? input.getAttribute('multiple') !== null ? input.files : input.files[0] : null;
};

var handleInputOptions = function handleInputOptions(instance, params) {
  var content = getContent();

  var processInputOptions = function processInputOptions(inputOptions) {
    return populateInputOptions[params.input](content, formatInputOptions(inputOptions), params);
  };

  if (isPromise(params.inputOptions)) {
    showLoading();
    params.inputOptions.then(function (inputOptions) {
      instance.hideLoading();
      processInputOptions(inputOptions);
    });
  } else if (_typeof(params.inputOptions) === 'object') {
    processInputOptions(params.inputOptions);
  } else {
    error("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(_typeof(params.inputOptions)));
  }
};

var handleInputValue = function handleInputValue(instance, params) {
  var input = instance.getInput();
  hide(input);
  params.inputValue.then(function (inputValue) {
    input.value = params.input === 'number' ? parseFloat(inputValue) || 0 : "".concat(inputValue);
    show(input);
    input.focus();
    instance.hideLoading();
  })["catch"](function (err) {
    error("Error in inputValue promise: ".concat(err));
    input.value = '';
    show(input);
    input.focus();
    instance.hideLoading();
  });
};

var populateInputOptions = {
  select: function select(content, inputOptions, params) {
    var select = getChildByClass(content, swalClasses.select);
    inputOptions.forEach(function (inputOption) {
      var optionValue = inputOption[0];
      var optionLabel = inputOption[1];
      var option = document.createElement('option');
      option.value = optionValue;
      option.innerHTML = optionLabel;

      if (params.inputValue.toString() === optionValue.toString()) {
        option.selected = true;
      }

      select.appendChild(option);
    });
    select.focus();
  },
  radio: function radio(content, inputOptions, params) {
    var radio = getChildByClass(content, swalClasses.radio);
    inputOptions.forEach(function (inputOption) {
      var radioValue = inputOption[0];
      var radioLabel = inputOption[1];
      var radioInput = document.createElement('input');
      var radioLabelElement = document.createElement('label');
      radioInput.type = 'radio';
      radioInput.name = swalClasses.radio;
      radioInput.value = radioValue;

      if (params.inputValue.toString() === radioValue.toString()) {
        radioInput.checked = true;
      }

      var label = document.createElement('span');
      label.innerHTML = radioLabel;
      label.className = swalClasses.label;
      radioLabelElement.appendChild(radioInput);
      radioLabelElement.appendChild(label);
      radio.appendChild(radioLabelElement);
    });
    var radios = radio.querySelectorAll('input');

    if (radios.length) {
      radios[0].focus();
    }
  }
};
/**
 * Converts `inputOptions` into an array of `[value, label]`s
 * @param inputOptions
 */

var formatInputOptions = function formatInputOptions(inputOptions) {
  var result = [];

  if (typeof Map !== 'undefined' && inputOptions instanceof Map) {
    inputOptions.forEach(function (value, key) {
      result.push([key, value]);
    });
  } else {
    Object.keys(inputOptions).forEach(function (key) {
      result.push([key, inputOptions[key]]);
    });
  }

  return result;
};

var handleConfirmButtonClick = function handleConfirmButtonClick(instance, innerParams) {
  instance.disableButtons();

  if (innerParams.input) {
    handleConfirmWithInput(instance, innerParams);
  } else {
    confirm(instance, innerParams, true);
  }
};
var handleCancelButtonClick = function handleCancelButtonClick(instance, dismissWith) {
  instance.disableButtons();
  dismissWith(DismissReason.cancel);
};

var handleConfirmWithInput = function handleConfirmWithInput(instance, innerParams) {
  var inputValue = getInputValue(instance, innerParams);

  if (innerParams.inputValidator) {
    instance.disableInput();
    var validationPromise = Promise.resolve().then(function () {
      return innerParams.inputValidator(inputValue, innerParams.validationMessage);
    });
    validationPromise.then(function (validationMessage) {
      instance.enableButtons();
      instance.enableInput();

      if (validationMessage) {
        instance.showValidationMessage(validationMessage);
      } else {
        confirm(instance, innerParams, inputValue);
      }
    });
  } else if (!instance.getInput().checkValidity()) {
    instance.enableButtons();
    instance.showValidationMessage(innerParams.validationMessage);
  } else {
    confirm(instance, innerParams, inputValue);
  }
};

var succeedWith = function succeedWith(instance, value) {
  instance.closePopup({
    value: value
  });
};

var confirm = function confirm(instance, innerParams, value) {
  if (innerParams.showLoaderOnConfirm) {
    showLoading(); // TODO: make showLoading an *instance* method
  }

  if (innerParams.preConfirm) {
    instance.resetValidationMessage();
    var preConfirmPromise = Promise.resolve().then(function () {
      return innerParams.preConfirm(value, innerParams.validationMessage);
    });
    preConfirmPromise.then(function (preConfirmValue) {
      if (isVisible(getValidationMessage()) || preConfirmValue === false) {
        instance.hideLoading();
      } else {
        succeedWith(instance, typeof preConfirmValue === 'undefined' ? value : preConfirmValue);
      }
    });
  } else {
    succeedWith(instance, value);
  }
};

var addKeydownHandler = function addKeydownHandler(instance, globalState, innerParams, dismissWith) {
  if (globalState.keydownTarget && globalState.keydownHandlerAdded) {
    globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {
      capture: globalState.keydownListenerCapture
    });
    globalState.keydownHandlerAdded = false;
  }

  if (!innerParams.toast) {
    globalState.keydownHandler = function (e) {
      return keydownHandler(instance, e, innerParams, dismissWith);
    };

    globalState.keydownTarget = innerParams.keydownListenerCapture ? window : getPopup();
    globalState.keydownListenerCapture = innerParams.keydownListenerCapture;
    globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {
      capture: globalState.keydownListenerCapture
    });
    globalState.keydownHandlerAdded = true;
  }
}; // Focus handling

var setFocus = function setFocus(innerParams, index, increment) {
  var focusableElements = getFocusableElements(); // search for visible elements and select the next possible match

  for (var i = 0; i < focusableElements.length; i++) {
    index = index + increment; // rollover to first item

    if (index === focusableElements.length) {
      index = 0; // go to last item
    } else if (index === -1) {
      index = focusableElements.length - 1;
    }

    return focusableElements[index].focus();
  } // no visible focusable elements, focus the popup


  getPopup().focus();
};
var arrowKeys = ['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Left', 'Right', 'Up', 'Down' // IE11
];
var escKeys = ['Escape', 'Esc' // IE11
];

var keydownHandler = function keydownHandler(instance, e, innerParams, dismissWith) {
  if (innerParams.stopKeydownPropagation) {
    e.stopPropagation();
  } // ENTER


  if (e.key === 'Enter') {
    handleEnter(instance, e, innerParams); // TAB
  } else if (e.key === 'Tab') {
    handleTab(e, innerParams); // ARROWS - switch focus between buttons
  } else if (arrowKeys.indexOf(e.key) !== -1) {
    handleArrows(); // ESC
  } else if (escKeys.indexOf(e.key) !== -1) {
    handleEsc(e, innerParams, dismissWith);
  }
};

var handleEnter = function handleEnter(instance, e, innerParams) {
  // #720 #721
  if (e.isComposing) {
    return;
  }

  if (e.target && instance.getInput() && e.target.outerHTML === instance.getInput().outerHTML) {
    if (['textarea', 'file'].indexOf(innerParams.input) !== -1) {
      return; // do not submit
    }

    clickConfirm();
    e.preventDefault();
  }
};

var handleTab = function handleTab(e, innerParams) {
  var targetElement = e.target;
  var focusableElements = getFocusableElements();
  var btnIndex = -1;

  for (var i = 0; i < focusableElements.length; i++) {
    if (targetElement === focusableElements[i]) {
      btnIndex = i;
      break;
    }
  }

  if (!e.shiftKey) {
    // Cycle to the next button
    setFocus(innerParams, btnIndex, 1);
  } else {
    // Cycle to the prev button
    setFocus(innerParams, btnIndex, -1);
  }

  e.stopPropagation();
  e.preventDefault();
};

var handleArrows = function handleArrows() {
  var confirmButton = getConfirmButton();
  var cancelButton = getCancelButton(); // focus Cancel button if Confirm button is currently focused

  if (document.activeElement === confirmButton && isVisible(cancelButton)) {
    cancelButton.focus(); // and vice versa
  } else if (document.activeElement === cancelButton && isVisible(confirmButton)) {
    confirmButton.focus();
  }
};

var handleEsc = function handleEsc(e, innerParams, dismissWith) {
  if (callIfFunction(innerParams.allowEscapeKey)) {
    e.preventDefault();
    dismissWith(DismissReason.esc);
  }
};

var handlePopupClick = function handlePopupClick(domCache, innerParams, dismissWith) {
  if (innerParams.toast) {
    handleToastClick(domCache, innerParams, dismissWith);
  } else {
    // Ignore click events that had mousedown on the popup but mouseup on the container
    // This can happen when the user drags a slider
    handleModalMousedown(domCache); // Ignore click events that had mousedown on the container but mouseup on the popup

    handleContainerMousedown(domCache);
    handleModalClick(domCache, innerParams, dismissWith);
  }
};

var handleToastClick = function handleToastClick(domCache, innerParams, dismissWith) {
  // Closing toast by internal click
  domCache.popup.onclick = function () {
    if (innerParams.showConfirmButton || innerParams.showCancelButton || innerParams.showCloseButton || innerParams.input) {
      return;
    }

    dismissWith(DismissReason.close);
  };
};

var ignoreOutsideClick = false;

var handleModalMousedown = function handleModalMousedown(domCache) {
  domCache.popup.onmousedown = function () {
    domCache.container.onmouseup = function (e) {
      domCache.container.onmouseup = undefined; // We only check if the mouseup target is the container because usually it doesn't
      // have any other direct children aside of the popup

      if (e.target === domCache.container) {
        ignoreOutsideClick = true;
      }
    };
  };
};

var handleContainerMousedown = function handleContainerMousedown(domCache) {
  domCache.container.onmousedown = function () {
    domCache.popup.onmouseup = function (e) {
      domCache.popup.onmouseup = undefined; // We also need to check if the mouseup target is a child of the popup

      if (e.target === domCache.popup || domCache.popup.contains(e.target)) {
        ignoreOutsideClick = true;
      }
    };
  };
};

var handleModalClick = function handleModalClick(domCache, innerParams, dismissWith) {
  domCache.container.onclick = function (e) {
    if (ignoreOutsideClick) {
      ignoreOutsideClick = false;
      return;
    }

    if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {
      dismissWith(DismissReason.backdrop);
    }
  };
};

function _main(userParams) {
  showWarningsForParams(userParams); // Check if there is another Swal closing

  if (getPopup() && globalState.swalCloseEventFinishedCallback) {
    globalState.swalCloseEventFinishedCallback();
    delete globalState.swalCloseEventFinishedCallback;
  } // Check if there is a swal disposal defer timer


  if (globalState.deferDisposalTimer) {
    clearTimeout(globalState.deferDisposalTimer);
    delete globalState.deferDisposalTimer;
  }

  var innerParams = prepareParams(userParams);
  setParameters(innerParams);
  Object.freeze(innerParams); // clear the previous timer

  if (globalState.timeout) {
    globalState.timeout.stop();
    delete globalState.timeout;
  } // clear the restore focus timeout


  clearTimeout(globalState.restoreFocusTimeout);
  var domCache = populateDomCache(this);
  render(this, innerParams);
  privateProps.innerParams.set(this, innerParams);
  return swalPromise(this, domCache, innerParams);
}

var prepareParams = function prepareParams(userParams) {
  var showClass = _extends({}, defaultParams.showClass, userParams.showClass);

  var hideClass = _extends({}, defaultParams.hideClass, userParams.hideClass);

  var params = _extends({}, defaultParams, userParams);

  params.showClass = showClass;
  params.hideClass = hideClass; // @deprecated

  if (userParams.animation === false) {
    params.showClass = {
      popup: '',
      backdrop: 'swal2-backdrop-show swal2-noanimation'
    };
    params.hideClass = {};
  }

  return params;
};

var swalPromise = function swalPromise(instance, domCache, innerParams) {
  return new Promise(function (resolve) {
    // functions to handle all closings/dismissals
    var dismissWith = function dismissWith(dismiss) {
      instance.closePopup({
        dismiss: dismiss
      });
    };

    privateMethods.swalPromiseResolve.set(instance, resolve);
    setupTimer(globalState, innerParams, dismissWith);

    domCache.confirmButton.onclick = function () {
      return handleConfirmButtonClick(instance, innerParams);
    };

    domCache.cancelButton.onclick = function () {
      return handleCancelButtonClick(instance, dismissWith);
    };

    domCache.closeButton.onclick = function () {
      return dismissWith(DismissReason.close);
    };

    handlePopupClick(domCache, innerParams, dismissWith);
    addKeydownHandler(instance, globalState, innerParams, dismissWith);

    if (innerParams.toast && (innerParams.input || innerParams.footer || innerParams.showCloseButton)) {
      addClass(document.body, swalClasses['toast-column']);
    } else {
      removeClass(document.body, swalClasses['toast-column']);
    }

    handleInputOptionsAndValue(instance, innerParams);
    openPopup(innerParams);
    initFocus(domCache, innerParams); // Scroll container to top on open (#1247)

    domCache.container.scrollTop = 0;
  });
};

var populateDomCache = function populateDomCache(instance) {
  var domCache = {
    popup: getPopup(),
    container: getContainer(),
    content: getContent(),
    actions: getActions(),
    confirmButton: getConfirmButton(),
    cancelButton: getCancelButton(),
    closeButton: getCloseButton(),
    validationMessage: getValidationMessage(),
    progressSteps: getProgressSteps()
  };
  privateProps.domCache.set(instance, domCache);
  return domCache;
};

var setupTimer = function setupTimer(globalState$$1, innerParams, dismissWith) {
  var timerProgressBar = getTimerProgressBar();
  hide(timerProgressBar);

  if (innerParams.timer) {
    globalState$$1.timeout = new Timer(function () {
      dismissWith('timer');
      delete globalState$$1.timeout;
    }, innerParams.timer);

    if (innerParams.timerProgressBar) {
      show(timerProgressBar);
      setTimeout(function () {
        animateTimerProgressBar(innerParams.timer);
      });
    }
  }
};

var initFocus = function initFocus(domCache, innerParams) {
  if (innerParams.toast) {
    return;
  }

  if (!callIfFunction(innerParams.allowEnterKey)) {
    return blurActiveElement();
  }

  if (innerParams.focusCancel && isVisible(domCache.cancelButton)) {
    return domCache.cancelButton.focus();
  }

  if (innerParams.focusConfirm && isVisible(domCache.confirmButton)) {
    return domCache.confirmButton.focus();
  }

  setFocus(innerParams, -1, 1);
};

var blurActiveElement = function blurActiveElement() {
  if (document.activeElement && typeof document.activeElement.blur === 'function') {
    document.activeElement.blur();
  }
};

/**
 * Updates popup parameters.
 */

function update(params) {
  var popup = getPopup();
  var innerParams = privateProps.innerParams.get(this);

  if (!popup || hasClass(popup, innerParams.hideClass.popup)) {
    return warn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");
  }

  var validUpdatableParams = {}; // assign valid params from `params` to `defaults`

  Object.keys(params).forEach(function (param) {
    if (Swal.isUpdatableParameter(param)) {
      validUpdatableParams[param] = params[param];
    } else {
      warn("Invalid parameter to update: \"".concat(param, "\". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js"));
    }
  });

  var updatedParams = _extends({}, innerParams, validUpdatableParams);

  render(this, updatedParams);
  privateProps.innerParams.set(this, updatedParams);
  Object.defineProperties(this, {
    params: {
      value: _extends({}, this.params, params),
      writable: false,
      enumerable: true
    }
  });
}



var instanceMethods = Object.freeze({
	hideLoading: hideLoading,
	disableLoading: hideLoading,
	getInput: getInput$1,
	close: close,
	closePopup: close,
	closeModal: close,
	closeToast: close,
	enableButtons: enableButtons,
	disableButtons: disableButtons,
	enableInput: enableInput,
	disableInput: disableInput,
	showValidationMessage: showValidationMessage,
	resetValidationMessage: resetValidationMessage$1,
	getProgressSteps: getProgressSteps$1,
	_main: _main,
	update: update
});

var currentInstance; // SweetAlert constructor

function SweetAlert() {
  // Prevent run in Node env

  /* istanbul ignore if */
  if (typeof window === 'undefined') {
    return;
  } // Check for the existence of Promise

  /* istanbul ignore if */


  if (typeof Promise === 'undefined') {
    error('This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)');
  }

  currentInstance = this;

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var outerParams = Object.freeze(this.constructor.argsToParams(args));
  Object.defineProperties(this, {
    params: {
      value: outerParams,
      writable: false,
      enumerable: true,
      configurable: true
    }
  });

  var promise = this._main(this.params);

  privateProps.promise.set(this, promise);
} // `catch` cannot be the name of a module export, so we define our thenable methods here instead


SweetAlert.prototype.then = function (onFulfilled) {
  var promise = privateProps.promise.get(this);
  return promise.then(onFulfilled);
};

SweetAlert.prototype["finally"] = function (onFinally) {
  var promise = privateProps.promise.get(this);
  return promise["finally"](onFinally);
}; // Assign instance methods from src/instanceMethods/*.js to prototype


_extends(SweetAlert.prototype, instanceMethods); // Assign static methods from src/staticMethods/*.js to constructor


_extends(SweetAlert, staticMethods); // Proxy to instance methods to constructor, for now, for backwards compatibility


Object.keys(instanceMethods).forEach(function (key) {
  SweetAlert[key] = function () {
    if (currentInstance) {
      var _currentInstance;

      return (_currentInstance = currentInstance)[key].apply(_currentInstance, arguments);
    }
  };
});
SweetAlert.DismissReason = DismissReason;
SweetAlert.version = '9.5.3';

var Swal = SweetAlert;
Swal["default"] = Swal;

return Swal;

})));
if (typeof this !== 'undefined' && this.Sweetalert2){  this.swal = this.sweetAlert = this.Swal = this.SweetAlert = this.Sweetalert2}

"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,".swal2-popup.swal2-toast{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.swal2-popup.swal2-toast .swal2-title{-webkit-box-flex:1;flex-grow:1;-webkit-box-pack:start;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{-webkit-box-pack:start;justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:2em 2em;transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;-webkit-transform-origin:0 1.5em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:-webkit-box;display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:.625em;overflow-x:hidden;-webkit-transition:background-color .1s;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{-webkit-box-align:start;align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-center{-webkit-box-align:center;align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{-webkit-box-align:center;align-items:center;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-bottom{-webkit-box-align:end;align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-self:stretch;-webkit-box-pack:center;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-content:center;-webkit-box-pack:center;justify-content:center}.swal2-container.swal2-grow-column{-webkit-box-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{-webkit-box-align:center;align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{-webkit-box-align:start;align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{-webkit-box-align:end;align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-content:center;-webkit-box-pack:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:-webkit-box;display:flex;z-index:1;flex-wrap:wrap;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.1)),to(rgba(0,0,0,.1)));background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.2)),to(rgba(0,0,0,.2)));background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:\"\";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{-webkit-box-pack:center;justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar{position:absolute;bottom:0;left:0;width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;-webkit-box-pack:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;-webkit-transition:color .1s ease-out;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{-webkit-transform:none;transform:none;background:0 0;color:#f27474}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;-webkit-box-pack:center;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;-webkit-transition:border-color .3s,box-shadow .3s;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:\"!\";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;-webkit-box-pack:center;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;-webkit-box-flex:1;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:3.75em 3.75em;transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 3.75em;transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{-webkit-box-align:center;align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{-webkit-transition:none;transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{-webkit-box-flex:1;flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{-webkit-box-pack:center;justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}");
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(26)))

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(27).Promise;


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process, global) {var require;/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */

(function (global, factory) {
     true ? module.exports = factory() :
    undefined;
}(this, (function () { 'use strict';

function objectOrFunction(x) {
  return typeof x === 'function' || typeof x === 'object' && x !== null;
}

function isFunction(x) {
  return typeof x === 'function';
}

var _isArray = undefined;
if (!Array.isArray) {
  _isArray = function (x) {
    return Object.prototype.toString.call(x) === '[object Array]';
  };
} else {
  _isArray = Array.isArray;
}

var isArray = _isArray;

var len = 0;
var vertxNext = undefined;
var customSchedulerFn = undefined;

var asap = function asap(callback, arg) {
  queue[len] = callback;
  queue[len + 1] = arg;
  len += 2;
  if (len === 2) {
    // If len is 2, that means that we need to schedule an async flush.
    // If additional callbacks are queued before the queue is flushed, they
    // will be processed by this flush that we are scheduling.
    if (customSchedulerFn) {
      customSchedulerFn(flush);
    } else {
      scheduleFlush();
    }
  }
};

function setScheduler(scheduleFn) {
  customSchedulerFn = scheduleFn;
}

function setAsap(asapFn) {
  asap = asapFn;
}

var browserWindow = typeof window !== 'undefined' ? window : undefined;
var browserGlobal = browserWindow || {};
var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;
var isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';

// test for web worker but not in IE10
var isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';

// node
function useNextTick() {
  // node version 0.10.x displays a deprecation warning when nextTick is used recursively
  // see https://github.com/cujojs/when/issues/410 for details
  return function () {
    return process.nextTick(flush);
  };
}

// vertx
function useVertxTimer() {
  return function () {
    vertxNext(flush);
  };
}

function useMutationObserver() {
  var iterations = 0;
  var observer = new BrowserMutationObserver(flush);
  var node = document.createTextNode('');
  observer.observe(node, { characterData: true });

  return function () {
    node.data = iterations = ++iterations % 2;
  };
}

// web worker
function useMessageChannel() {
  var channel = new MessageChannel();
  channel.port1.onmessage = flush;
  return function () {
    return channel.port2.postMessage(0);
  };
}

function useSetTimeout() {
  // Store setTimeout reference so es6-promise will be unaffected by
  // other code modifying setTimeout (like sinon.useFakeTimers())
  var globalSetTimeout = setTimeout;
  return function () {
    return globalSetTimeout(flush, 1);
  };
}

var queue = new Array(1000);
function flush() {
  for (var i = 0; i < len; i += 2) {
    var callback = queue[i];
    var arg = queue[i + 1];

    callback(arg);

    queue[i] = undefined;
    queue[i + 1] = undefined;
  }

  len = 0;
}

function attemptVertx() {
  try {
    var r = require;
    var vertx = __webpack_require__(29);
    vertxNext = vertx.runOnLoop || vertx.runOnContext;
    return useVertxTimer();
  } catch (e) {
    return useSetTimeout();
  }
}

var scheduleFlush = undefined;
// Decide what async method to use to triggering processing of queued callbacks:
if (isNode) {
  scheduleFlush = useNextTick();
} else if (BrowserMutationObserver) {
  scheduleFlush = useMutationObserver();
} else if (isWorker) {
  scheduleFlush = useMessageChannel();
} else if (browserWindow === undefined && "function" === 'function') {
  scheduleFlush = attemptVertx();
} else {
  scheduleFlush = useSetTimeout();
}

function then(onFulfillment, onRejection) {
  var _arguments = arguments;

  var parent = this;

  var child = new this.constructor(noop);

  if (child[PROMISE_ID] === undefined) {
    makePromise(child);
  }

  var _state = parent._state;

  if (_state) {
    (function () {
      var callback = _arguments[_state - 1];
      asap(function () {
        return invokeCallback(_state, child, callback, parent._result);
      });
    })();
  } else {
    subscribe(parent, child, onFulfillment, onRejection);
  }

  return child;
}

/**
  `Promise.resolve` returns a promise that will become resolved with the
  passed `value`. It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    resolve(1);
  });

  promise.then(function(value){
    // value === 1
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.resolve(1);

  promise.then(function(value){
    // value === 1
  });
  ```

  @method resolve
  @static
  @param {Any} value value that the returned promise will be resolved with
  Useful for tooling.
  @return {Promise} a promise that will become fulfilled with the given
  `value`
*/
function resolve(object) {
  /*jshint validthis:true */
  var Constructor = this;

  if (object && typeof object === 'object' && object.constructor === Constructor) {
    return object;
  }

  var promise = new Constructor(noop);
  _resolve(promise, object);
  return promise;
}

var PROMISE_ID = Math.random().toString(36).substring(16);

function noop() {}

var PENDING = void 0;
var FULFILLED = 1;
var REJECTED = 2;

var GET_THEN_ERROR = new ErrorObject();

function selfFulfillment() {
  return new TypeError("You cannot resolve a promise with itself");
}

function cannotReturnOwn() {
  return new TypeError('A promises callback cannot return that same promise.');
}

function getThen(promise) {
  try {
    return promise.then;
  } catch (error) {
    GET_THEN_ERROR.error = error;
    return GET_THEN_ERROR;
  }
}

function tryThen(then, value, fulfillmentHandler, rejectionHandler) {
  try {
    then.call(value, fulfillmentHandler, rejectionHandler);
  } catch (e) {
    return e;
  }
}

function handleForeignThenable(promise, thenable, then) {
  asap(function (promise) {
    var sealed = false;
    var error = tryThen(then, thenable, function (value) {
      if (sealed) {
        return;
      }
      sealed = true;
      if (thenable !== value) {
        _resolve(promise, value);
      } else {
        fulfill(promise, value);
      }
    }, function (reason) {
      if (sealed) {
        return;
      }
      sealed = true;

      _reject(promise, reason);
    }, 'Settle: ' + (promise._label || ' unknown promise'));

    if (!sealed && error) {
      sealed = true;
      _reject(promise, error);
    }
  }, promise);
}

function handleOwnThenable(promise, thenable) {
  if (thenable._state === FULFILLED) {
    fulfill(promise, thenable._result);
  } else if (thenable._state === REJECTED) {
    _reject(promise, thenable._result);
  } else {
    subscribe(thenable, undefined, function (value) {
      return _resolve(promise, value);
    }, function (reason) {
      return _reject(promise, reason);
    });
  }
}

function handleMaybeThenable(promise, maybeThenable, then$$) {
  if (maybeThenable.constructor === promise.constructor && then$$ === then && maybeThenable.constructor.resolve === resolve) {
    handleOwnThenable(promise, maybeThenable);
  } else {
    if (then$$ === GET_THEN_ERROR) {
      _reject(promise, GET_THEN_ERROR.error);
    } else if (then$$ === undefined) {
      fulfill(promise, maybeThenable);
    } else if (isFunction(then$$)) {
      handleForeignThenable(promise, maybeThenable, then$$);
    } else {
      fulfill(promise, maybeThenable);
    }
  }
}

function _resolve(promise, value) {
  if (promise === value) {
    _reject(promise, selfFulfillment());
  } else if (objectOrFunction(value)) {
    handleMaybeThenable(promise, value, getThen(value));
  } else {
    fulfill(promise, value);
  }
}

function publishRejection(promise) {
  if (promise._onerror) {
    promise._onerror(promise._result);
  }

  publish(promise);
}

function fulfill(promise, value) {
  if (promise._state !== PENDING) {
    return;
  }

  promise._result = value;
  promise._state = FULFILLED;

  if (promise._subscribers.length !== 0) {
    asap(publish, promise);
  }
}

function _reject(promise, reason) {
  if (promise._state !== PENDING) {
    return;
  }
  promise._state = REJECTED;
  promise._result = reason;

  asap(publishRejection, promise);
}

function subscribe(parent, child, onFulfillment, onRejection) {
  var _subscribers = parent._subscribers;
  var length = _subscribers.length;

  parent._onerror = null;

  _subscribers[length] = child;
  _subscribers[length + FULFILLED] = onFulfillment;
  _subscribers[length + REJECTED] = onRejection;

  if (length === 0 && parent._state) {
    asap(publish, parent);
  }
}

function publish(promise) {
  var subscribers = promise._subscribers;
  var settled = promise._state;

  if (subscribers.length === 0) {
    return;
  }

  var child = undefined,
      callback = undefined,
      detail = promise._result;

  for (var i = 0; i < subscribers.length; i += 3) {
    child = subscribers[i];
    callback = subscribers[i + settled];

    if (child) {
      invokeCallback(settled, child, callback, detail);
    } else {
      callback(detail);
    }
  }

  promise._subscribers.length = 0;
}

function ErrorObject() {
  this.error = null;
}

var TRY_CATCH_ERROR = new ErrorObject();

function tryCatch(callback, detail) {
  try {
    return callback(detail);
  } catch (e) {
    TRY_CATCH_ERROR.error = e;
    return TRY_CATCH_ERROR;
  }
}

function invokeCallback(settled, promise, callback, detail) {
  var hasCallback = isFunction(callback),
      value = undefined,
      error = undefined,
      succeeded = undefined,
      failed = undefined;

  if (hasCallback) {
    value = tryCatch(callback, detail);

    if (value === TRY_CATCH_ERROR) {
      failed = true;
      error = value.error;
      value = null;
    } else {
      succeeded = true;
    }

    if (promise === value) {
      _reject(promise, cannotReturnOwn());
      return;
    }
  } else {
    value = detail;
    succeeded = true;
  }

  if (promise._state !== PENDING) {
    // noop
  } else if (hasCallback && succeeded) {
      _resolve(promise, value);
    } else if (failed) {
      _reject(promise, error);
    } else if (settled === FULFILLED) {
      fulfill(promise, value);
    } else if (settled === REJECTED) {
      _reject(promise, value);
    }
}

function initializePromise(promise, resolver) {
  try {
    resolver(function resolvePromise(value) {
      _resolve(promise, value);
    }, function rejectPromise(reason) {
      _reject(promise, reason);
    });
  } catch (e) {
    _reject(promise, e);
  }
}

var id = 0;
function nextId() {
  return id++;
}

function makePromise(promise) {
  promise[PROMISE_ID] = id++;
  promise._state = undefined;
  promise._result = undefined;
  promise._subscribers = [];
}

function Enumerator(Constructor, input) {
  this._instanceConstructor = Constructor;
  this.promise = new Constructor(noop);

  if (!this.promise[PROMISE_ID]) {
    makePromise(this.promise);
  }

  if (isArray(input)) {
    this._input = input;
    this.length = input.length;
    this._remaining = input.length;

    this._result = new Array(this.length);

    if (this.length === 0) {
      fulfill(this.promise, this._result);
    } else {
      this.length = this.length || 0;
      this._enumerate();
      if (this._remaining === 0) {
        fulfill(this.promise, this._result);
      }
    }
  } else {
    _reject(this.promise, validationError());
  }
}

function validationError() {
  return new Error('Array Methods must be provided an Array');
};

Enumerator.prototype._enumerate = function () {
  var length = this.length;
  var _input = this._input;

  for (var i = 0; this._state === PENDING && i < length; i++) {
    this._eachEntry(_input[i], i);
  }
};

Enumerator.prototype._eachEntry = function (entry, i) {
  var c = this._instanceConstructor;
  var resolve$$ = c.resolve;

  if (resolve$$ === resolve) {
    var _then = getThen(entry);

    if (_then === then && entry._state !== PENDING) {
      this._settledAt(entry._state, i, entry._result);
    } else if (typeof _then !== 'function') {
      this._remaining--;
      this._result[i] = entry;
    } else if (c === Promise) {
      var promise = new c(noop);
      handleMaybeThenable(promise, entry, _then);
      this._willSettleAt(promise, i);
    } else {
      this._willSettleAt(new c(function (resolve$$) {
        return resolve$$(entry);
      }), i);
    }
  } else {
    this._willSettleAt(resolve$$(entry), i);
  }
};

Enumerator.prototype._settledAt = function (state, i, value) {
  var promise = this.promise;

  if (promise._state === PENDING) {
    this._remaining--;

    if (state === REJECTED) {
      _reject(promise, value);
    } else {
      this._result[i] = value;
    }
  }

  if (this._remaining === 0) {
    fulfill(promise, this._result);
  }
};

Enumerator.prototype._willSettleAt = function (promise, i) {
  var enumerator = this;

  subscribe(promise, undefined, function (value) {
    return enumerator._settledAt(FULFILLED, i, value);
  }, function (reason) {
    return enumerator._settledAt(REJECTED, i, reason);
  });
};

/**
  `Promise.all` accepts an array of promises, and returns a new promise which
  is fulfilled with an array of fulfillment values for the passed promises, or
  rejected with the reason of the first passed promise to be rejected. It casts all
  elements of the passed iterable to promises as it runs this algorithm.

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = resolve(2);
  let promise3 = resolve(3);
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // The array here would be [ 1, 2, 3 ];
  });
  ```

  If any of the `promises` given to `all` are rejected, the first promise
  that is rejected will be given as an argument to the returned promises's
  rejection handler. For example:

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = reject(new Error("2"));
  let promise3 = reject(new Error("3"));
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // Code here never runs because there are rejected promises!
  }, function(error) {
    // error.message === "2"
  });
  ```

  @method all
  @static
  @param {Array} entries array of promises
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise} promise that is fulfilled when all `promises` have been
  fulfilled, or rejected if any of them become rejected.
  @static
*/
function all(entries) {
  return new Enumerator(this, entries).promise;
}

/**
  `Promise.race` returns a new promise which is settled in the same way as the
  first passed promise to settle.

  Example:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 2');
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // result === 'promise 2' because it was resolved before promise1
    // was resolved.
  });
  ```

  `Promise.race` is deterministic in that only the state of the first
  settled promise matters. For example, even if other promises given to the
  `promises` array argument are resolved, but the first settled promise has
  become rejected before the other promises became fulfilled, the returned
  promise will become rejected:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      reject(new Error('promise 2'));
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // Code here never runs
  }, function(reason){
    // reason.message === 'promise 2' because promise 2 became rejected before
    // promise 1 became fulfilled
  });
  ```

  An example real-world use case is implementing timeouts:

  ```javascript
  Promise.race([ajax('foo.json'), timeout(5000)])
  ```

  @method race
  @static
  @param {Array} promises array of promises to observe
  Useful for tooling.
  @return {Promise} a promise which settles in the same way as the first passed
  promise to settle.
*/
function race(entries) {
  /*jshint validthis:true */
  var Constructor = this;

  if (!isArray(entries)) {
    return new Constructor(function (_, reject) {
      return reject(new TypeError('You must pass an array to race.'));
    });
  } else {
    return new Constructor(function (resolve, reject) {
      var length = entries.length;
      for (var i = 0; i < length; i++) {
        Constructor.resolve(entries[i]).then(resolve, reject);
      }
    });
  }
}

/**
  `Promise.reject` returns a promise rejected with the passed `reason`.
  It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    reject(new Error('WHOOPS'));
  });

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.reject(new Error('WHOOPS'));

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  @method reject
  @static
  @param {Any} reason value that the returned promise will be rejected with.
  Useful for tooling.
  @return {Promise} a promise rejected with the given `reason`.
*/
function reject(reason) {
  /*jshint validthis:true */
  var Constructor = this;
  var promise = new Constructor(noop);
  _reject(promise, reason);
  return promise;
}

function needsResolver() {
  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');
}

function needsNew() {
  throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}

/**
  Promise objects represent the eventual result of an asynchronous operation. The
  primary way of interacting with a promise is through its `then` method, which
  registers callbacks to receive either a promise's eventual value or the reason
  why the promise cannot be fulfilled.

  Terminology
  -----------

  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
  - `thenable` is an object or function that defines a `then` method.
  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
  - `exception` is a value that is thrown using the throw statement.
  - `reason` is a value that indicates why a promise was rejected.
  - `settled` the final resting state of a promise, fulfilled or rejected.

  A promise can be in one of three states: pending, fulfilled, or rejected.

  Promises that are fulfilled have a fulfillment value and are in the fulfilled
  state.  Promises that are rejected have a rejection reason and are in the
  rejected state.  A fulfillment value is never a thenable.

  Promises can also be said to *resolve* a value.  If this value is also a
  promise, then the original promise's settled state will match the value's
  settled state.  So a promise that *resolves* a promise that rejects will
  itself reject, and a promise that *resolves* a promise that fulfills will
  itself fulfill.


  Basic Usage:
  ------------

  ```js
  let promise = new Promise(function(resolve, reject) {
    // on success
    resolve(value);

    // on failure
    reject(reason);
  });

  promise.then(function(value) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Advanced Usage:
  ---------------

  Promises shine when abstracting away asynchronous interactions such as
  `XMLHttpRequest`s.

  ```js
  function getJSON(url) {
    return new Promise(function(resolve, reject){
      let xhr = new XMLHttpRequest();

      xhr.open('GET', url);
      xhr.onreadystatechange = handler;
      xhr.responseType = 'json';
      xhr.setRequestHeader('Accept', 'application/json');
      xhr.send();

      function handler() {
        if (this.readyState === this.DONE) {
          if (this.status === 200) {
            resolve(this.response);
          } else {
            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
          }
        }
      };
    });
  }

  getJSON('/posts.json').then(function(json) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Unlike callbacks, promises are great composable primitives.

  ```js
  Promise.all([
    getJSON('/posts'),
    getJSON('/comments')
  ]).then(function(values){
    values[0] // => postsJSON
    values[1] // => commentsJSON

    return values;
  });
  ```

  @class Promise
  @param {function} resolver
  Useful for tooling.
  @constructor
*/
function Promise(resolver) {
  this[PROMISE_ID] = nextId();
  this._result = this._state = undefined;
  this._subscribers = [];

  if (noop !== resolver) {
    typeof resolver !== 'function' && needsResolver();
    this instanceof Promise ? initializePromise(this, resolver) : needsNew();
  }
}

Promise.all = all;
Promise.race = race;
Promise.resolve = resolve;
Promise.reject = reject;
Promise._setScheduler = setScheduler;
Promise._setAsap = setAsap;
Promise._asap = asap;

Promise.prototype = {
  constructor: Promise,

  /**
    The primary way of interacting with a promise is through its `then` method,
    which registers callbacks to receive either a promise's eventual value or the
    reason why the promise cannot be fulfilled.
  
    ```js
    findUser().then(function(user){
      // user is available
    }, function(reason){
      // user is unavailable, and you are given the reason why
    });
    ```
  
    Chaining
    --------
  
    The return value of `then` is itself a promise.  This second, 'downstream'
    promise is resolved with the return value of the first promise's fulfillment
    or rejection handler, or rejected if the handler throws an exception.
  
    ```js
    findUser().then(function (user) {
      return user.name;
    }, function (reason) {
      return 'default name';
    }).then(function (userName) {
      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
      // will be `'default name'`
    });
  
    findUser().then(function (user) {
      throw new Error('Found user, but still unhappy');
    }, function (reason) {
      throw new Error('`findUser` rejected and we're unhappy');
    }).then(function (value) {
      // never reached
    }, function (reason) {
      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
    });
    ```
    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.
  
    ```js
    findUser().then(function (user) {
      throw new PedagogicalException('Upstream error');
    }).then(function (value) {
      // never reached
    }).then(function (value) {
      // never reached
    }, function (reason) {
      // The `PedgagocialException` is propagated all the way down to here
    });
    ```
  
    Assimilation
    ------------
  
    Sometimes the value you want to propagate to a downstream promise can only be
    retrieved asynchronously. This can be achieved by returning a promise in the
    fulfillment or rejection handler. The downstream promise will then be pending
    until the returned promise is settled. This is called *assimilation*.
  
    ```js
    findUser().then(function (user) {
      return findCommentsByAuthor(user);
    }).then(function (comments) {
      // The user's comments are now available
    });
    ```
  
    If the assimliated promise rejects, then the downstream promise will also reject.
  
    ```js
    findUser().then(function (user) {
      return findCommentsByAuthor(user);
    }).then(function (comments) {
      // If `findCommentsByAuthor` fulfills, we'll have the value here
    }, function (reason) {
      // If `findCommentsByAuthor` rejects, we'll have the reason here
    });
    ```
  
    Simple Example
    --------------
  
    Synchronous Example
  
    ```javascript
    let result;
  
    try {
      result = findResult();
      // success
    } catch(reason) {
      // failure
    }
    ```
  
    Errback Example
  
    ```js
    findResult(function(result, err){
      if (err) {
        // failure
      } else {
        // success
      }
    });
    ```
  
    Promise Example;
  
    ```javascript
    findResult().then(function(result){
      // success
    }, function(reason){
      // failure
    });
    ```
  
    Advanced Example
    --------------
  
    Synchronous Example
  
    ```javascript
    let author, books;
  
    try {
      author = findAuthor();
      books  = findBooksByAuthor(author);
      // success
    } catch(reason) {
      // failure
    }
    ```
  
    Errback Example
  
    ```js
  
    function foundBooks(books) {
  
    }
  
    function failure(reason) {
  
    }
  
    findAuthor(function(author, err){
      if (err) {
        failure(err);
        // failure
      } else {
        try {
          findBoooksByAuthor(author, function(books, err) {
            if (err) {
              failure(err);
            } else {
              try {
                foundBooks(books);
              } catch(reason) {
                failure(reason);
              }
            }
          });
        } catch(error) {
          failure(err);
        }
        // success
      }
    });
    ```
  
    Promise Example;
  
    ```javascript
    findAuthor().
      then(findBooksByAuthor).
      then(function(books){
        // found books
    }).catch(function(reason){
      // something went wrong
    });
    ```
  
    @method then
    @param {Function} onFulfilled
    @param {Function} onRejected
    Useful for tooling.
    @return {Promise}
  */
  then: then,

  /**
    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
    as the catch block of a try/catch statement.
  
    ```js
    function findAuthor(){
      throw new Error('couldn't find that author');
    }
  
    // synchronous
    try {
      findAuthor();
    } catch(reason) {
      // something went wrong
    }
  
    // async with promises
    findAuthor().catch(function(reason){
      // something went wrong
    });
    ```
  
    @method catch
    @param {Function} onRejection
    Useful for tooling.
    @return {Promise}
  */
  'catch': function _catch(onRejection) {
    return this.then(null, onRejection);
  }
};

function polyfill() {
    var local = undefined;

    if (typeof global !== 'undefined') {
        local = global;
    } else if (typeof self !== 'undefined') {
        local = self;
    } else {
        try {
            local = Function('return this')();
        } catch (e) {
            throw new Error('polyfill failed because global object is unavailable in this environment');
        }
    }

    var P = local.Promise;

    if (P) {
        var promiseToString = null;
        try {
            promiseToString = Object.prototype.toString.call(P.resolve());
        } catch (e) {
            // silently ignored
        }

        if (promiseToString === '[object Promise]' && !P.cast) {
            return;
        }
    }

    local.Promise = Promise;
}

polyfill();
// Strange compat..
Promise.polyfill = polyfill;
Promise.Promise = Promise;

return Promise;

})));
//# sourceMappingURL=es6-promise.map
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(28), __webpack_require__(2)))

/***/ }),
/* 28 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 29 */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

var xhr = __webpack_require__(31);

var _lang;

var _msg = {};

function getNavigatorLanguage() {
    var lang = navigator.language || navigator.userLanguage || navigator.systemLanguage;
    return lang.substr(0, 2);
}

function setLanguage(inputLang, callback) {
    _lang = inputLang;

    // 입력된 언어 설정 값이 없는 경우, 브라우저 언어 설정을 가져옴
    if (!_lang) {
        _lang = getNavigatorLanguage();
    }

    if (!_msg[inputLang]) {
        load(inputLang, callback);
    }
}

function load(inputLang, callback) {
    try {
        _msg = __webpack_require__(36)("./message." + inputLang + ".json");        
        window.KICA_CORPUS = _msg;
        callback();
        return;
    } catch (e) {
        console.log(e.message);
        callback("The language code: '" + _lang + "' is not supported.");
    }
}

function get(id) {
    if (arguments.length == 0) {
        return "Unknown error.";
    }

    var message = _msg ? _msg[id] : id;

    for (var i = 1; i < arguments.length; i++) {
        message = message.replace("{}", arguments[i]);
    }

    return message;
}

module.exports = {
    get: get,
    setLanguage: setLanguage
}

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var window = __webpack_require__(32)
var isFunction = __webpack_require__(33)
var parseHeaders = __webpack_require__(34)
var xtend = __webpack_require__(35)

module.exports = createXHR
// Allow use of default import syntax in TypeScript
module.exports.default = createXHR;
createXHR.XMLHttpRequest = window.XMLHttpRequest || noop
createXHR.XDomainRequest = "withCredentials" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest

forEachArray(["get", "put", "post", "patch", "head", "delete"], function(method) {
    createXHR[method === "delete" ? "del" : method] = function(uri, options, callback) {
        options = initParams(uri, options, callback)
        options.method = method.toUpperCase()
        return _createXHR(options)
    }
})

function forEachArray(array, iterator) {
    for (var i = 0; i < array.length; i++) {
        iterator(array[i])
    }
}

function isEmpty(obj){
    for(var i in obj){
        if(obj.hasOwnProperty(i)) return false
    }
    return true
}

function initParams(uri, options, callback) {
    var params = uri

    if (isFunction(options)) {
        callback = options
        if (typeof uri === "string") {
            params = {uri:uri}
        }
    } else {
        params = xtend(options, {uri: uri})
    }

    params.callback = callback
    return params
}

function createXHR(uri, options, callback) {
    options = initParams(uri, options, callback)
    return _createXHR(options)
}

function _createXHR(options) {
    if(typeof options.callback === "undefined"){
        throw new Error("callback argument missing")
    }

    var called = false
    var callback = function cbOnce(err, response, body){
        if(!called){
            called = true
            options.callback(err, response, body)
        }
    }

    function readystatechange() {
        if (xhr.readyState === 4) {
            setTimeout(loadFunc, 0)
        }
    }

    function getBody() {
        // Chrome with requestType=blob throws errors arround when even testing access to responseText
        var body = undefined

        if (xhr.response) {
            body = xhr.response
        } else {
            body = xhr.responseText || getXml(xhr)
        }

        if (isJson) {
            try {
                body = JSON.parse(body)
            } catch (e) {}
        }

        return body
    }

    function errorFunc(evt) {
        clearTimeout(timeoutTimer)
        if(!(evt instanceof Error)){
            evt = new Error("" + (evt || "Unknown XMLHttpRequest Error") )
        }
        evt.statusCode = 0
        return callback(evt, failureResponse)
    }

    // will load the data & process the response in a special response object
    function loadFunc() {
        if (aborted) return
        var status
        clearTimeout(timeoutTimer)
        if(options.useXDR && xhr.status===undefined) {
            //IE8 CORS GET successful response doesn't have a status field, but body is fine
            status = 200
        } else {
            status = (xhr.status === 1223 ? 204 : xhr.status)
        }
        var response = failureResponse
        var err = null

        if (status !== 0){
            response = {
                body: getBody(),
                statusCode: status,
                method: method,
                headers: {},
                url: uri,
                rawRequest: xhr
            }
            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE
                response.headers = parseHeaders(xhr.getAllResponseHeaders())
            }
        } else {
            err = new Error("Internal XMLHttpRequest Error")
        }
        return callback(err, response, response.body)
    }

    var xhr = options.xhr || null

    if (!xhr) {
        if (options.cors || options.useXDR) {
            xhr = new createXHR.XDomainRequest()
        }else{
            xhr = new createXHR.XMLHttpRequest()
        }
    }

    var key
    var aborted
    var uri = xhr.url = options.uri || options.url
    var method = xhr.method = options.method || "GET"
    var body = options.body || options.data
    var headers = xhr.headers = options.headers || {}
    var sync = !!options.sync
    var isJson = false
    var timeoutTimer
    var failureResponse = {
        body: undefined,
        headers: {},
        statusCode: 0,
        method: method,
        url: uri,
        rawRequest: xhr
    }

    if ("json" in options && options.json !== false) {
        isJson = true
        headers["accept"] || headers["Accept"] || (headers["Accept"] = "application/json") //Don't override existing accept header declared by user
        if (method !== "GET" && method !== "HEAD") {
            headers["content-type"] || headers["Content-Type"] || (headers["Content-Type"] = "application/json") //Don't override existing accept header declared by user
            body = JSON.stringify(options.json === true ? body : options.json)
        }
    }

    xhr.onreadystatechange = readystatechange
    xhr.onload = loadFunc
    xhr.onerror = errorFunc
    // IE9 must have onprogress be set to a unique function.
    xhr.onprogress = function () {
        // IE must die
    }
    xhr.onabort = function(){
        aborted = true;
    }
    xhr.ontimeout = errorFunc
    xhr.open(method, uri, !sync, options.username, options.password)
    //has to be after open
    if(!sync) {
        xhr.withCredentials = !!options.withCredentials
    }
    // Cannot set timeout with sync request
    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly
    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent
    if (!sync && options.timeout > 0 ) {
        timeoutTimer = setTimeout(function(){
            if (aborted) return
            aborted = true//IE9 may still call readystatechange
            xhr.abort("timeout")
            var e = new Error("XMLHttpRequest timeout")
            e.code = "ETIMEDOUT"
            errorFunc(e)
        }, options.timeout )
    }

    if (xhr.setRequestHeader) {
        for(key in headers){
            if(headers.hasOwnProperty(key)){
                xhr.setRequestHeader(key, headers[key])
            }
        }
    } else if (options.headers && !isEmpty(options.headers)) {
        throw new Error("Headers cannot be set on an XDomainRequest object")
    }

    if ("responseType" in options) {
        xhr.responseType = options.responseType
    }

    if ("beforeSend" in options &&
        typeof options.beforeSend === "function"
    ) {
        options.beforeSend(xhr)
    }

    // Microsoft Edge browser sends "undefined" when send is called with undefined value.
    // XMLHttpRequest spec says to pass null as body to indicate no body
    // See https://github.com/naugtur/xhr/issues/100.
    xhr.send(body || null)

    return xhr


}

function getXml(xhr) {
    // xhr.responseXML will throw Exception "InvalidStateError" or "DOMException"
    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.
    try {
        if (xhr.responseType === "document") {
            return xhr.responseXML
        }
        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === "parsererror"
        if (xhr.responseType === "" && !firefoxBugTakenEffect) {
            return xhr.responseXML
        }
    } catch (e) {}

    return null
}

function noop() {}


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var win;

if (typeof window !== "undefined") {
    win = window;
} else if (typeof global !== "undefined") {
    win = global;
} else if (typeof self !== "undefined"){
    win = self;
} else {
    win = {};
}

module.exports = win;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))

/***/ }),
/* 33 */
/***/ (function(module, exports) {

module.exports = isFunction

var toString = Object.prototype.toString

function isFunction (fn) {
  var string = toString.call(fn)
  return string === '[object Function]' ||
    (typeof fn === 'function' && string !== '[object RegExp]') ||
    (typeof window !== 'undefined' &&
     // IE8 and below
     (fn === window.setTimeout ||
      fn === window.alert ||
      fn === window.confirm ||
      fn === window.prompt))
};


/***/ }),
/* 34 */
/***/ (function(module, exports) {

var trim = function(string) {
  return string.replace(/^\s+|\s+$/g, '');
}
  , isArray = function(arg) {
      return Object.prototype.toString.call(arg) === '[object Array]';
    }

module.exports = function (headers) {
  if (!headers)
    return {}

  var result = {}

  var headersArr = trim(headers).split('\n')

  for (var i = 0; i < headersArr.length; i++) {
    var row = headersArr[i]
    var index = row.indexOf(':')
    , key = trim(row.slice(0, index)).toLowerCase()
    , value = trim(row.slice(index + 1))

    if (typeof(result[key]) === 'undefined') {
      result[key] = value
    } else if (isArray(result[key])) {
      result[key].push(value)
    } else {
      result[key] = [ result[key], value ]
    }
  }

  return result
}


/***/ }),
/* 35 */
/***/ (function(module, exports) {

module.exports = extend

var hasOwnProperty = Object.prototype.hasOwnProperty;

function extend() {
    var target = {}

    for (var i = 0; i < arguments.length; i++) {
        var source = arguments[i]

        for (var key in source) {
            if (hasOwnProperty.call(source, key)) {
                target[key] = source[key]
            }
        }
    }

    return target
}


/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./message.en.json": 37,
	"./message.ko.json": 38
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 36;

/***/ }),
/* 37 */
/***/ (function(module) {

module.exports = JSON.parse("{\"SELECT_CERT_HEADER\":\"Certificates Selection Dialog\",\"CERT_TABLE_LABEL\":\"Select a certificate.\",\"CERT_TABLE_THEAD1\":\"Category\",\"CERT_TABLE_THEAD2\":\"User\",\"CERT_TABLE_THEAD3\":\"Expiration\",\"CERT_TABLE_THEAD4\":\"Issuer\",\"CERT_PWD_LABEL\":\"Enter the password of the selected certificate.\",\"CERT_PWD_PLACEHOLDER\":\"The password of certificates is case-sensitive.\",\"CERT_PWD_DISABLED_PLACEHOLDER\":\"In this case, the password is not required.\",\"BUTTON_CONFIRM\":\"Confrim\",\"BUTTON_CANCEL\":\"Cancel\",\"BUTTON_OPEN_GUIDE\":\"Guide for browser certificates\",\"BUTTON_FIND_CERTIFICATE\":\"Add a certificate\",\"BUTTON_DELETE_CERTIFICATE\":\"Delete the certificate\",\"IMPORT_CERT_TITLE\":\"Store the certificate\",\"IMPORT_CERT_PASSWORD_LABEL\":\"Enter the password of the certificate.\",\"IMPORT_CERT_TEXT\":\"The certificate will be stored in the browser storage.\",\"IMPORT_PFX_TITLE\":\"Add a certificate\",\"IMPORT_PFX_CONVERT_PFX_LABEL\":\"If can't find the certificate file\",\"IMPORT_PFX_CONVERT_PFX_DOWNLOAD\":\"Download Converting Program\",\"IMPORT_PFX_CONVERT_PFX_STEP1\":\", run this program.\",\"IMPORT_PFX_CONVERT_PFX_STEP2\":\"Select a certificate to use and enter the password. After that, press the button [Export]\",\"IMPORT_PFX_CONVERT_PFX_STEP3\":\"Save the file and note the path. After that, press the button [{}].\",\"IMPORT_PFX_FIND_BUTTON\":\"Find\",\"DROPZONE_TEXT_1\":\"To store and use a certificate\",\"DROPZONE_TEXT_2\":\"Drop the certificate file to here,\",\"DROPZONE_TEXT_3\":\"(bunch of signCert.der/signPri.key or *.pfx file)\",\"BROWSER_GUIDE_TITLE\":\"User Guide for Browser Certificates\",\"BROWSER_GUIDE_SUB_TITLE\":\"Browser certificates are stored in the browser storage used on the browser\",\"BROWSER_GUIDE_STORE_CERT_LABEL\":\"If there are no certificates, follow these steps.\",\"BROWSER_GUIDE_STORE_CERT_STEP1\":\"Drag & drop a certificate file\",\"BROWSER_GUIDE_STORE_CERT_STEP1_1\":\"Drag  the bunch of certificate files [signCert.der, signPri.key] or PKCS#12 file [.pfx or .p12]) and Drop it to the certificate table.\",\"BROWSER_GUIDE_STORE_CERT_STEP2\":\"Use [{}]\",\"BROWSER_GUIDE_STORE_CERT_STEP2_1\":\"Click the button [{}], and at the {} click the button [{}]. At the file explorer find PKCS#12 file [.pfx or.p12] and open it.\",\"BROWSER_GUIDE_STORE_CERT_STEP3\":\"In the case of PKCS#12 file, the password of the certificate is required.\",\"BROWSER_GUIDE_DELETE_CERT_LABEL\":\"Steps for clearing browser certificates\",\"BROWSER_GUIDE_DELETE_CERT_STEP1\":\"Open browser settings.\",\"BROWSER_GUIDE_DELETE_CERT_STEP2\":\"Find the options for browsing data.\",\"BROWSER_GUIDE_DELETE_CERT_STEP3\":\"Delete browser cookies and browsing data.\",\"BROWSER_DETAIL_MORE_BUTTON\":\"Here is more detials about browser certificates.\",\"DELETE_CERTIFICATE_QUESTION_TITLE\":\"Do you want to delete your certificate?\",\"DELETE_CERTIFICATE_QUESTION_TEXT\":\"You won't be able to revert this!\",\"DELETE_CERTIFICATE_BUTTON_CONFIRM\":\"Yes, delete!\",\"DELETE_CERTIFICATE_BUTTON_CANCLE\":\"No, cancle!\"}");

/***/ }),
/* 38 */
/***/ (function(module) {

module.exports = JSON.parse("{\"SELECT_CERT_HEADER\":\"인증서 선택\",\"CERT_TABLE_LABEL\":\"인증서 목록\",\"CERT_TABLE_THEAD1\":\"구분\",\"CERT_TABLE_THEAD2\":\"사용자\",\"CERT_TABLE_THEAD3\":\"만료일\",\"CERT_TABLE_THEAD4\":\"발급자\",\"CERT_PWD_LABEL\":\"인증서 비밀번호\",\"CERT_PWD_PLACEHOLDER\":\"인증서 비밀번호는 대소문자를 구분합니다.\",\"CERT_PWD_DISABLED_PLACEHOLDER\":\"해당 기능은 비밀번호를 필요로 하지 않습니다.\",\"BUTTON_CONFIRM\":\"확인\",\"BUTTON_CANCEL\":\"취소\",\"BUTTON_OPEN_GUIDE\":\"브라우저 인증서란?\",\"BUTTON_FIND_CERTIFICATE\":\"인증서 가져오기\",\"BUTTON_DELETE_CERTIFICATE\":\"인증서 삭제하기\",\"IMPORT_CERT_TITLE\":\"인증서 저장하기\",\"IMPORT_CERT_PASSWORD_LABEL\":\"인증서 비밀번호를 입력하세요.\",\"IMPORT_CERT_TEXT\":\"인증서가 브라우저 저장소에 저장됩니다.\",\"IMPORT_PFX_TITLE\":\"인증서 가져오기\",\"IMPORT_PFX_CONVERT_PFX_LABEL\":\"인증서가 저장된 위치를 모르는 경우\",\"IMPORT_PFX_CONVERT_PFX_DOWNLOAD\":\"인증서 변환 프로그램 다운로드\",\"IMPORT_PFX_CONVERT_PFX_STEP1\":\"를 눌러 인증서 변환\\n 프로그램을 다운로드하여 실행합니다.\",\"IMPORT_PFX_CONVERT_PFX_STEP2\":\"사용할 인증서를 선택한 후 인증서 암호를 입력하고 [내보내기] 버튼을 클릭합니다.\",\"IMPORT_PFX_CONVERT_PFX_STEP3\":\"인증서 파일(.pfx)을 찾기 쉬운 경로에 저장한 후 아래의 [인증서 가져오기]를 눌러 인증서 가져오기를 진행합니다.\",\"IMPORT_PFX_FIND_BUTTON\":\"인증서 찾기\",\"DROPZONE_TEXT_1\":\"인증서 파일 묶음을 끌어다 놓으면\",\"DROPZONE_TEXT_2\":\"인증서 저장 및 서명이 가능합니다.\",\"DROPZONE_TEXT_3\":\"(*.pfx, *.p12 또는 signCert.der/signPri.key 묶음)\",\"BROWSER_GUIDE_TITLE\":\"브라우저 인증서 이용 안내\",\"BROWSER_GUIDE_SUB_TITLE\":\"브라우저 인증서는 브라우저 저장소에 저장되며 사이트 데이터 삭제 시 삭제됩니다.\",\"BROWSER_GUIDE_STORE_CERT_LABEL\":\"브라우저에 인증서 저장하는 방법\",\"BROWSER_GUIDE_STORE_CERT_STEP1\":\"인증서 파일 끌어오기 (Drag & Drop)\",\"BROWSER_GUIDE_STORE_CERT_STEP1_1\":\"파일 탐색기에서 인증서 파일(인증서 묶음[signCert.der, signPri.key] 또는 PKCS#12 파일[.pfx 혹은 .p12])을 끌어다 인증서 선택 영역에 놓습니다.\",\"BROWSER_GUIDE_STORE_CERT_STEP2\":\"[인증서 가져오기]으로 가져오기\",\"BROWSER_GUIDE_STORE_CERT_STEP2_1\":\"[인증서 가져오기] 버튼을 누른 후 [인증서 찾기] 버튼을 누릅니다. 파일 탐색기에서 PKCS#12 [.pfx 혹은 .p12] 파일을 찾아 열기 버튼을 누릅니다.\",\"BROWSER_GUIDE_STORE_CERT_STEP3\":\"PKCS#12 파일의 경우 인증서 비밀번호를 입력하면 인증서가 브라우저에 저장됩니다.\",\"BROWSER_GUIDE_DELETE_CERT_LABEL\":\"브라우저 인증서 삭제하는 방법\",\"BROWSER_GUIDE_DELETE_CERT_STEP1\":\"브라우저 설정을 엽니다.\",\"BROWSER_GUIDE_DELETE_CERT_STEP2\":\"인터넷 사용 기록 옵션을 찾습니다.\",\"BROWSER_GUIDE_DELETE_CERT_STEP3\":\"브라우저 쿠키 및 사이트 데이터를 삭제합니다.\",\"BROWSER_DETAIL_MORE_BUTTON\":\"더 자세한 내용은 여기를 클릭하세요.\",\"BASE64_IMPORT_CERT_SUCCESS\":\"인증서를 성공적으로 브라우저에 저장하였습니다.\",\"DELETE_CERTIFICATE_QUESTION_TITLE\":\"인증서를 삭제하시겠습니까?\",\"DELETE_CERTIFICATE_QUESTION_TEXT\":\"삭제 시 되돌릴 수 없습니다.\",\"DELETE_CERTIFICATE_BUTTON_CONFIRM\":\"예\",\"DELETE_CERTIFICATE_BUTTON_CANCLE\":\"아니오\"}");

/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./src/dialog/vendor/jquery/jquery.keyboard.js
var jquery_keyboard = __webpack_require__(4);

// EXTERNAL MODULE: ./src/dialog/vendor/jquery/colResizable-1.6.js
var colResizable_1_6 = __webpack_require__(6);

// EXTERNAL MODULE: ./src/dialog/css/dialog.css
var dialog = __webpack_require__(7);

// EXTERNAL MODULE: ./src/dialog/css/keyboard-basic.css
var keyboard_basic = __webpack_require__(22);

// CONCATENATED MODULE: ./src/dialog/js/event.js
var boxes = __webpack_require__(24);
var _p12Buffer, _certBuffer, _keyBuffer;

var event_KICA_DIALOG = {
    createDialog: function() {
        if (document.getElementById('secukit-wrapper'))
            return;

        var _boxes = boxes.boxes();
        var SECUKIT_DIALOG = document.createElement("div");
        SECUKIT_DIALOG.id = "secukit-wrapper";
        SECUKIT_DIALOG.className = "kica-d-none";
        SECUKIT_DIALOG.lang = webnpki_config.language.toLocaleLowerCase();
        SECUKIT_DIALOG.innerHTML = _boxes.main + _boxes.pdfViewer + _boxes.importPFX + _boxes.findPFX

        KICA_LOGGER.info(SECUKIT_DIALOG);

        document.body.appendChild(SECUKIT_DIALOG);
    },

    enableKeyboardSecurity: function() {
        // 키보드 보안 적용
        if (webnpki_config.keyboardSecurity === 'default') {
            var _votmdnjem = $('#qlalfqjsgh, #input-pfx-qlalfqjsgh');
            _votmdnjem.off('keypress keydown');

            _votmdnjem.on('keypress', function(event) {
                event.preventDefault();
                var cursor = this.selectionStart;
                var temp = this.value;

                if (this.selectionStart !== this.selectionEnd) {
                    temp = temp.substring(0, this.selectionStart) + temp.substring(this.selectionEnd);
                    webnpki.modifyVotmdnjem(this.id, this.selectionStart, this.selectionEnd, 8, false);
                }

                this.value = temp + String.fromCharCode(Math.floor(Math.random(1, 10) * 110) % 83 + 33);

                if (this.setSelectionRange) {
                    this.setSelectionRange(cursor + 1, cursor + 1);
                } else {
                    var range = this.createTextRange();
                    range.collapse(true);
                    range.moveEnd('character', cursor + 1);
                    range.moveStart('character', cursor + 1);
                    range.select();
                }

                // 비밀번호 암호화 진행                       
                webnpki.setVotmdnjem(this.id, this.selectionStart, event.which || event.keyCode);
            })

            _votmdnjem.on('keydown', function(event) {
                if (event.altKey || event.shiftKey || event.metaKey) {
                    return;
                }

                var keycode = event.which || event.keyCode;
                if ((keycode === 46 || keycode === 8) && !$("#" + this.id).getkeyboard()) {
                    webnpki.modifyVotmdnjem(this.id, this.selectionStart, this.selectionEnd, keycode, event.ctrlKey);
                }
            });

        } else if (webnpki_config.keyboardSecurity === 'kings') {
            kings.init();
        }
    },

    openSelectCertificateDialog: function() {
        _initDialog();
        _showCertList();
        $('#secukit-wrapper').removeClass('kica-d-none');
    },

    closeSelectCertificateDialog: function() {
        _destroy_vk();
        $('#select-certificate-confirm').off('click');
        $('#secukit-wrapper').addClass('kica-d-none');

        if (webnpki_config.keyboardSecurity === 'kings') {
            vKeypadGlobal.unloadAll();
        }
    },

    openGuide: function() {
        if ($('#browser-guide-wrapper').hasClass('kica-d-none')) {
            $('#browser-guide-wrapper').removeClass('kica-d-none');
            $('#secukit-dialog').addClass('open-guide');
        } else {
            event_KICA_DIALOG.closeGuide();
        }
    },

    closeGuide: function() {
        $('#browser-guide-wrapper').addClass('kica-d-none');
        $('#secukit-dialog').removeClass('open-guide');
    },

    openDetailGuide: function() {
        if (!PDFObject.supportsPDFs) {
            _download(webnpki_config.path + 'assets/guide/browser_certificate_guide.pdf', 'Browser Certificate Detail guide.pdf');
            return;
        }
        var modal = $('#detail-guide');
        modal.removeClass('kica-d-none');
    },

    closeDetailGuide: function() {
        var modal = $('#detail-guide');
        modal.addClass('kica-d-none');
    },

    selectCert: function(index) {
        $('#cert-list tr').removeClass('active');
        $('#cert-list tr[id=' + index + ']').addClass('active');
    },

    onDragOverCert: function(event) {
        event.preventDefault();
        if (typeof event.target.classList !== 'undefined') {
            event.target.classList.add("dragover");
        }
    },

    onDragLeaveCert: function(event) {
        event.preventDefault();
        if (typeof event.target.classList !== 'undefined') {
            event.target.classList.remove("dragover");
        }
    },

    onDropCert: function(event) {
        event.preventDefault();

        event.target.classList.remove("dragover");
        if (!event.dataTransfer || event.dataTransfer.files.length == 0) {
            return;
        }

        event_KICA_DIALOG.onSelectCert(event.dataTransfer);
    },

    onSelectCert: function(target) {
        var files = target.files;
        if (files.length === 0) { return; }

        function onloadReader(file, callback) {
            return function(event) {
                var cName = file.name.toLowerCase();
                if (cName === "signcert.der") {
                    _certBuffer = event.target.result;
                    callback(false);
                } else if (cName === "signpri.key") {
                    _keyBuffer = event.target.result;
                    callback(false);
                } else if (/\.pfx$|\.p12$/.test(cName)) {
                    _p12Buffer = event.target.result;
                    callback(true);
                }
            };
        }

        function fileLoadCallback(p12) {
            if (p12) {
                _showAskPwdDialog(p12);
            } else {
                var crt, key;
                crt = typeof _certBuffer === "undefined" ? false : true;
                key = typeof _keyBuffer === "undefined" ? false : true;
                if (crt && key) {
                    webnpki_config.askPwd ? _showAskPwdDialog(p12) : _importCertAndKey();
                }
            }
        }

        var i, reader;
        for (i = 0; i < files.length; i += 1) {
            reader = new FileReader();
            reader.readAsArrayBuffer(files[i]);
            reader.onload = onloadReader(files[i], fileLoadCallback);
        }

        if (target.value) {
            target.value = "";
        }
    },

    openFindCert: function() {
        $('#find-pfx-wrapper').removeClass('kica-d-none');
    },

    closeFindCert: function() {
        _closeFindCert();
    },

    downloadConvertCert: function() {
        if (_getOS() === 'Windows') {
            _download(webnpki_config.path + 'assets/plugin/SecuKitCertExport.exe', 'SecuKitCertExport.exe');
        } else {
            KICA_ALERT.error("IS_NOT_WINDOWS", KICA_ERROR_MSG.get("IS_NOT_WINDOWS"));
        }
    },

    searchCert: function() {
        $('#inputCerts').click();
    },

    toggleVirtualKeyboard: function() {
        if (webnpki_config.keyboardSecurity === "default") {
            var vk = $('#qlalfqjsgh').getkeyboard();
            $('#qlalfqjsgh').val('');
            webnpki.setVotmdnjem('qlalfqjsgh');
            if (typeof vk === 'undefined') {
                $('#vkeyboard-toggle').addClass('active');
                _init_vk('#qlalfqjsgh');
            } else {
                $('#vkeyboard-toggle').removeClass('active');
                vk.destroy();
            }
        } else if (webnpki_config.keyboardSecurity === "kings") {
            if ($('#vkeyboard-toggle').hasClass('active')) {
                $('#vkeyboard-toggle').removeClass('active');
                vKeypadGlobal.unloadAll();

            } else {
                $('#vkeyboard-toggle').addClass('active');
                vKeypadGlobal.loadAll();
            }
        } else {
            var vk = $('#qlalfqjsgh').getkeyboard();
            if (typeof vk === 'undefined') {
                $('#vkeyboard-toggle').addClass('active');
                _init_vk('#qlalfqjsgh');
            } else {
                $('#vkeyboard-toggle').removeClass('active');
                vk.destroy();
            }
        }
    },

    togglePFXVirtualKeyboard: function() {
        var vk = $('#input-pfx-qlalfqjsgh').getkeyboard();
        $('#input-pfx-qlalfqjsgh').val("");
        if (typeof vk === 'undefined') {
            $('#pfx-vkeyboard-toggle').addClass('active');
            _init_vk('#input-pfx-qlalfqjsgh');
        } else {
            $('#pfx-vkeyboard-toggle').removeClass('active');
            vk.destroy();
        }
    },
    importBase64Cert: function(base64Cert) {
        event_KICA_DIALOG.openSelectCertificateDialog();
        $('#secukit-dialog').addClass('kica-d-none');
        _showAskPwdDialog(true, base64Cert);
    }
}

function _closeFindCert() {
    $('#find-pfx-wrapper').addClass('kica-d-none');
}

function _showAskPwdDialog(p12, base64Cert) {
    $('#webnpki-wrapper').removeClass('kica-d-none');
    $('#input-pfx-qlalfqjsgh').focus();

    $('#pfx-qlalfqjsgh-confirm').unbind('click');
    $('#pfx-qlalfqjsgh-confirm').click(function() { _askPwdOk(p12, base64Cert); });

    $('#pfx-qlalfqjsgh-cancel').unbind('click');
    $('#pfx-qlalfqjsgh-cancel').click(function() { _askPwdCancel(base64Cert); });
}

function _askPwdOk(p12, base64Cert) {
    var pwd = $('#input-pfx-qlalfqjsgh').val();
    if (pwd.length == 0) {
        KICA_ALERT.error("EMPTY_PASSWORD", KICA_ERROR_MSG.get("EMPTY_PASSWORD"), {
            onAfterClose: function() {
                $('#input-pfx-qlalfqjsgh').focus();
            }
        });

        return false;
    }

    function importError(e) {
        KICA_ALERT.error(e.code, e.message);

        if (webnpki_config.keyboardSecurity === 'default') {
            webnpki.setVotmdnjem('input-pfx-qlalfqjsgh');
        }
        $('#input-pfx-qlalfqjsgh').val('');
        $('#input-pfx-qlalfqjsgh').focus();
    }

    if (p12) {
        if (base64Cert) {
            _p12Buffer = webnpki.bin.decodeBase64(base64Cert);
        }

        webnpki.importPKCS12(_p12Buffer, pwd).then(function() {
            _showCertList();
            $('#webnpki-wrapper').addClass('kica-d-none');
            _closeFindCert();
            _clearCertBuffer();
            _close_vk();

            $('#input-pfx-qlalfqjsgh').val('');
            if (webnpki_config.keyboardSecurity === 'default') {
                webnpki.setVotmdnjem('input-pfx-qlalfqjsgh');
            }

            if (base64Cert) {
                KICA_ALERT.success("BASE64_IMPORT_CERT_SUCCESS", KICA_CORPUS.BASE64_IMPORT_CERT_SUCCESS);
                event_KICA_DIALOG.closeSelectCertificateDialog();
                $('#secukit-dialog').removeClass('kica-d-none');
            }

        }).catch(function(e) {
            importError(e);
            return false;
        });
    } else {
        webnpki.importCertAndKey(_certBuffer, _keyBuffer, pwd).then(function() {
            _showCertList();
            $('#webnpki-wrapper').addClass('kica-d-none');
            $('#input-pfx-qlalfqjsgh').val('');
            if (webnpki_config.keyboardSecurity === 'default') {
                webnpki.setVotmdnjem('input-pfx-qlalfqjsgh');
            }
            _closeFindCert();
            _clearCertBuffer();
            _close_vk();

        }).catch(function(e) {
            console.log(e);
            importError(e);
            return false;
        });
    }

    return false;
};


function _askPwdCancel(base64Cert) {
    $('#webnpki-wrapper').addClass('kica-d-none');
    _clearCertBuffer();
    _close_vk();
    $('#input-pfx-qlalfqjsgh').val('');
    if (webnpki_config.keyboardSecurity === 'default') {
        webnpki.setVotmdnjem('input-pfx-qlalfqjsgh');
    }

    if (base64Cert) {
        _closeFindCert();
        $('#secukit-dialog').removeClass('kica-d-none');
        event_KICA_DIALOG.closeSelectCertificateDialog();
    }

    return false;
};

function _importCertAndKey() {
    webnpki.importCertAndKey(_certBuffer, _keyBuffer).then(function() {
        _showCertList();
        _clearCertBuffer();
    }).catch(function(error) {
        KICA_ALERT.error(error.code, error.message);
        _clearCertBuffer();
    });
}

function _initDialog() {
    var qlalfqjsgh = $('#qlalfqjsgh');
    qlalfqjsgh.val("");
    qlalfqjsgh.data("kings", "");
    qlalfqjsgh.prop('disabled', false);
    qlalfqjsgh.prop('placeholder', KICA_CORPUS.CERT_PWD_PLACEHOLDER);

    webnpki.setVotmdnjem('qlalfqjsgh');
}

function _setCertInfoJson(certList) {
    function getDateFormat(d) {
        var yy = d.getFullYear();
        var mm = d.getMonth() + 1;
        var dd = d.getDate();
        return [yy, (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-');
    }

    function getIssuerName(id) {
        id = id.toLowerCase();
        var rslt = webnpki_config.issuers[id];

        return typeof rslt === "undefined" ? "unknown" : rslt;
    }

    var cnt = certList.length;

    var certInfoObj = {};
    certInfoObj.size = cnt;

    for (var i = 0; i < cnt; ++i) {
        var obj = {};
        var idx = (i + 1).toString();

        obj.cn = certList[i].getSubjectRDNs().CN;
        obj.username = certList[i].getSubjectRDNs().CN; // for cert Detail
        obj.index = idx;

        var tmp = certList[i].getIssuerRDNs().O;
        var issuerName = getIssuerName(tmp);

        obj.issuerToName = issuerName;
        obj.issuerToString = issuerName; // for cert Detail
        obj.oid = certList[i].getPolicyID();
        obj.policy = certList[i].getPolicyID(); // for cert Detail
        obj.todate = getDateFormat(certList[i].getNotAfter());
        obj.validateTo = getDateFormat(certList[i].getNotAfter()); // for cert Detail
        obj.validateFrom = getDateFormat(certList[i].getNotBefore()); // for cert Detail
        obj.usageToName = certList[i].getPolicyString();
        obj.policyToName = certList[i].getPolicyString(); // for cert Detail
        obj.userDN = certList[i].getSubjectDN();
        obj.issueDN = certList[i].getIssuerDN(); // for cert Detail
        obj.version = "Version " + certList[i]._fo.version; // for cert Detail
        obj.signatureAlgorithmID = certList[i].getSignAlgorithm(); // for cert Detail
        obj.keySize = certList[i].getKeySize(); // for cert Detail
        obj.certPem = certList[i].toPem();
        obj.certHex = certList[i].toHex();
        obj.certBase64 = certList[i].toBase64();
        obj.serial = certList[i]._fo.serialNumber;

        certInfoObj[idx] = obj;
    }

    return certInfoObj;
}

function _clearCertBuffer() {
    _certBuffer = undefined;
    _keyBuffer = undefined;
    _p12Buffer = undefined;
}

function _showCertList() {
    webnpki.getCertificateList(function(certificateList, error) {
        if (error) {
            KICA_ALERT.error(error.cdoe, error.message);
            return;
        }

        if (certificateList.length === 0) {
            $('tbody').children().remove();
            $('#dropzone-wrapper').removeClass('kica-d-none');
            return;
        } else
            $('#dropzone-wrapper').addClass('kica-d-none');

        var certificateListJSON = _setCertInfoJson(certificateList);

        var certificateListRoot = $('#cert-list');
        certificateListRoot.html("");

        for (var i = 0; i < certificateListJSON.size; i++) {
            var certificate = certificateListJSON[i + 1];

            var rowClass = "";
            if (i == 0) {
                rowClass = 'class="active"';
            }

            var index = i + 1;
            var row = $('<tr ' + rowClass + ' id=' + index + ' onclick="KICA_DIALOG.selectCert(' + index + ')">')

            var html = '<td scope="col"><span><i class="icon-cert"></i>' + certificate.usageToName + '</span></td>' +
                '<td scope="col"><span>' + certificate.cn + '</span></td>' +
                '<td scope="col"><span style="text-align: center;">' + certificate.todate + '</span></td>' +
                '<td scope="col"><span>' + certificate.issuerToName + '</span></td>';

            row.html(html);
            row.data('certificate', certificateList[i]);
            row.data('certificateJSON', certificate);



            certificateListRoot.append(row);
        }

        $("#cert-list-table").colResizable({ liveDrag: true });
    });
}

// Virtaul Keyborad
function _init_vk(id) {
    var normal = [
        '` 1 2 3 4 5 6 7 8 9 0 - = {bksp}',
        'q w e r t y u i o p [ ] \\',
        'a s d f g h j k l ; \' {a}',
        '{shift} z x c v b n m , . / {shift}',
    ];
    var shift = [
        '~ ! @ # $ % ^ & * ( ) _ + {bksp}',
        'Q W E R T Y U I O P { } |',
        'A S D F G H J K L : " {a}',
        '{shift}  Z X C V B N M < > ? {shift} '
    ];

    var options = {
        layout: 'custom',
        customLayout: {
            'normal': normal,
            'shift': shift
        },
        display: {
            'a': '&nbsp;Enter&nbsp; ',
            'b': '\u232b:Backspace',
            'bksp': 'Bksp:Backspace',
            'c': '\u2716:Cancel (Esc)',
            'cancel': 'Cancel:Cancel (Esc)',
            'shift': '&nbsp;Shift&nbsp;'
        },
        css: {
            buttonDefault: "vk-button",
            buttonAction: "vk-button-enter",
            buttonActive: "vk-button-shift-down",
            container: "vk-container"
        },
        usePreview: false,
        reposition: true,
        restrictInput: false,
        autoAccept: true,
        userClosed: true,
        lockInput: true
    };

    if (webnpki_config.keyboardSecurity === "default") {
        options.beforeInsert = function(e, keyboard, el, txt) {
            if (txt.charCodeAt(0) === 8) {
                webnpki.modifyVotmdnjem(id.substring(1), el.selectionStart, el.selectionEnd, 8, false);

                return txt;
            }
            webnpki.setVotmdnjem(id.substring(1), el.selectionStart + 1, txt.charCodeAt(0));

            return String.fromCharCode(Math.floor(Math.random(1, 10) * 110) % 83 + 33);;
        };
        webnpki.setVotmdnjem(id.substring(1));
    }

    $(id).keyboard(options);
    $(id).val('');
    $(id).focus();
}


function _close_vk() {
    ['#qlalfqjsgh', '#input-pfx-qlalfqjsgh'].forEach(function(id) {
        var vk = $(id).getkeyboard();
        if (typeof vk !== 'undefined' && vk.isOpen) { vk.close(); }
    });
}

function _destroy_vk() {
    ['#qlalfqjsgh', '#input-pfx-qlalfqjsgh'].forEach(function(id) {
        var vk = $(id).getkeyboard();
        if (typeof vk !== 'undefined') {
            vk.destroy();
        }
    });
    $('#vkeyboard-toggle').removeClass('active');
}


function _download(href, fileName) {
    const a = document.createElement("a");
    a.style.display = "none";
    document.body.appendChild(a);

    // Set the HREF to a Blob representation of the data to be downloaded
    a.href = href;

    // Use download attribute to set set desired file name
    a.setAttribute("download", fileName);

    // Trigger the download by simulating click
    a.click();

    // Cleanup
    window.URL.revokeObjectURL(a.href);
    document.body.removeChild(a);
}

function _getOS() {
    var userAgent = window.navigator.userAgent,
        platform = window.navigator.platform,
        macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
        windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
        iosPlatforms = ['iPhone', 'iPad', 'iPod'],
        os = null;

    if (macosPlatforms.indexOf(platform) !== -1) {
        os = 'Mac OS';
    } else if (iosPlatforms.indexOf(platform) !== -1) {
        os = 'iOS';
    } else if (windowsPlatforms.indexOf(platform) !== -1) {
        os = 'Windows';
    } else if (/Android/.test(userAgent)) {
        os = 'Android';
    } else if (!os && /Linux/.test(platform)) {
        os = 'Linux';
    }

    return os;
}




/* harmony default export */ var js_event = (event_KICA_DIALOG);
// CONCATENATED MODULE: ./src/dialog/js/alert.js
var Swal = __webpack_require__(25)

function alert_KICA_ALERT () {
    var object = {};

    object.alert = function(title, text, options){
        var alertOptions = {
            icon: 'info',
            title: title,
            text: text, 
        }        

        if(options !== undefined){
            var keys = Object.keys(options);            

            for(var i = 0; i < keys.length; i++){
                var key = keys[i];
                alertOptions[key] = options[key];
            }            
        }
        
        Swal.fire(alertOptions);        
    }

    object.error = function (title, text, options) {
        if(webnpki_config.alert < 1){
            return;
        }

        var alertOptions = {
            icon: 'error',
            title: title,
            text: text, 
        }        

        if(options !== undefined){
            var keys = Object.keys(options);            

            for(var i = 0; i < keys.length; i++){
                var key = keys[i];
                alertOptions[key] = options[key];
            }            
        }
        
        Swal.fire(alertOptions);
    }

    object.info = function (title, text, options) {
        if(webnpki_config.alert < 2){
            return;
        }

        var alertOptions = {
            icon: 'info',
            title: title,
            text: text, 
        }        

        if(options !== undefined){
            var keys = Object.keys(options);            

            for(var i = 0; i < keys.length; i++){
                var key = keys[i];
                alertOptions[key] = options[key];
            }            
        }
        
        Swal.fire(alertOptions);        
    }

    object.success = function (title, text, options) {
        if(webnpki_config.alert < 2){
            return;
        }

        var alertOptions = {
            icon: 'success',
            title: title,
            text: text, 
        }        

        if(options !== undefined){
            var keys = Object.keys(options);            

            for(var i = 0; i < keys.length; i++){
                var key = keys[i];
                alertOptions[key] = options[key];
            }            
        }
        
        Swal.fire(alertOptions);        
    }

    object.warn = function (title, text, options) {
        if(webnpki_config.alert < 3){
            return;
        }

        var alertOptions = {
            
            title: title,
            text: text, 
        }        

        if(options !== undefined){
            var keys = Object.keys(options);            

            for(var i = 0; i < keys.length; i++){
                var key = keys[i];
                alertOptions[key] = options[key];
            }            
        }
        
        Swal.fire(alertOptions);        
    }
    object.delcerAlert = function(retselect){

        // var op = Promise.resolve();
   
         var alertOptions =  {
              title: KICA_CORPUS.DELETE_CERTIFICATE_QUESTION_TITLE, 
              text: KICA_CORPUS.DELETE_CERTIFICATE_QUESTION_TEXT,
              icon: "warning",
               
             
               buttons : {
                    confirm : {
                        value : true
                    },
                    cancel : {
                        value : false
                    }
               },
               showCloseButton: true,
               showCancelButton: true,
               cancelButtonColor: "#d33",
               confirmButtonColor: "#3085d6",
               confirmButtonText: KICA_CORPUS.DELETE_CERTIFICATE_BUTTON_CONFIRM,
               cancelButtonText: KICA_CORPUS.DELETE_CERTIFICATE_BUTTON_CANCLE
              
           }

            return Swal.fire(alertOptions);

       }
    return object;
}

/* harmony default export */ var js_alert = (alert_KICA_ALERT());
// CONCATENATED MODULE: ./src/dialog/js/logger.js
function logger_KICA_LOGGER () {
    var object = {};

    object.debug = function(){
        if(webnpki_config.log < 3){
            return;
        }
        
        console.debug(arguments);
    }

    object.error = function(){
        if(webnpki_config.logger < 1){
            return;
        }
        
        console.error(arguments);
    }

    object.info = function(){
        if(webnpki_config.logger < 2){
            return;
        }
        
        console.info(arguments);
    }

    object.log = function(){
        if(webnpki_config.logger < 3){
            return;
        }
        
        console.log(arguments);
    }

    object.warn = function(){
        if(webnpki_config.logger < 3){
            return;
        }
        
        console.warn(arguments);
    }

    object.dir = function(object){
        if(webnpki_config.logger < 2){
            return;
        }
        
        console.dir(object);
    }

    object.group = function(message){
        if(webnpki_config.logger < 3){
            return;
        }
        
        console.group(message);
    }

    object.groupEnd = function(){
        if(webnpki_config.logger < 3){
            return;
        }
        
        console.groupEnd();
    }


    return object;
}

/* harmony default export */ var logger = (logger_KICA_LOGGER());
// EXTERNAL MODULE: ./src/dialog/vendor/pdfObject/pdfobject.min.js
var pdfobject_min = __webpack_require__(3);
var pdfobject_min_default = /*#__PURE__*/__webpack_require__.n(pdfobject_min);

// CONCATENATED MODULE: ./src/dialog/dialog.js



// CSS








var _i18n = __webpack_require__(30);

(function() {
    window.KICA_DIALOG = js_event;
    window.KICA_ALERT = js_alert;
    window.KICA_LOGGER = logger;
    window.PDFObject = pdfobject_min_default.a;

    _i18n.setLanguage(webnpki_config.language, function(error) {
        if (error) {
            KICA_LOGGER.error(error);
            KICA_ALERT.error("LANGUAGE_NOT_SUPPORTED", error, { 'footer': 'Supported language codes are [ <b> KO, EN, and FR</b>].' });

            return;
        }
        KICA_LOGGER.info(KICA_CORPUS);
        
        KICA_DIALOG.createDialog();
        KICA_DIALOG.enableKeyboardSecurity();        
    });
    KICA_LOGGER.groupEnd();
})(); 

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL3ZlbmRvci9wZGZPYmplY3QvcGRmb2JqZWN0Lm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL3ZlbmRvci9qcXVlcnkvanF1ZXJ5LmtleWJvYXJkLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIiwid2VicGFjazovLy8uL3NyYy9kaWFsb2cvdmVuZG9yL2pxdWVyeS9jb2xSZXNpemFibGUtMS42LmpzIiwid2VicGFjazovLy8uL3NyYy9kaWFsb2cvY3NzL2RpYWxvZy5jc3M/ZjRmYiIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL2Nzcy9kaWFsb2cuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9mb250cy9Sb2JvdG8tUmVndWxhci50dGYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9pbWFnZXMvaWNvbi9pY29uX3ZrZXlib2FyZC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9pbWFnZXMvaWNvbi9pY29uLWRvd24ucG5nIiwid2VicGFjazovLy8uL3NyYy9kaWFsb2cvaW1hZ2VzL2ljb24vaWNvbl92a2V5Ym9hcmRfYWN0aXZlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL2ltYWdlcy9pY29uL2ljb24tY2VydC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9pbWFnZXMvaWNvbi9pY29uLXF1ZXN0aW9uLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL2ltYWdlcy9pY29uL2ljb24tZmFxLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL2ltYWdlcy9pY29uL2ljb24tZmluZC1jZXJ0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL2ltYWdlcy9pY29uL2ljb24tZGVsZXRlLWNlcnQucG5nIiwid2VicGFjazovLy8uL3NyYy9kaWFsb2cvaW1hZ2VzL2ljb24vaWNvbi1jbG9zZS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9pbWFnZXMvaWNvbi9pY29uLWJyb3dzZXIucG5nIiwid2VicGFjazovLy8uL3NyYy9kaWFsb2cvaW1hZ2VzL2ljb24vaWNvbi1kcm9wem9uZS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9jc3Mva2V5Ym9hcmQtYmFzaWMuY3NzPzI5MzQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9jc3Mva2V5Ym9hcmQtYmFzaWMuY3NzIiwid2VicGFjazovLy8uL3NyYy9kaWFsb2cvanMvYm94ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N3ZWV0YWxlcnQyL2Rpc3Qvc3dlZXRhbGVydDIuYWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS1wcm9taXNlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vL3ZlcnR4IChpZ25vcmVkKSIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL2xhbmcvaTE4bi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveGhyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9nbG9iYWwvd2luZG93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pcy1mdW5jdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFyc2UtaGVhZGVycy9wYXJzZS1oZWFkZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy94dGVuZC9pbW11dGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9sYW5nL2pzb24gc3luYyBeXFwuXFwvbWVzc2FnZVxcLi4qXFwuanNvbiQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpYWxvZy9qcy9ldmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGlhbG9nL2pzL2FsZXJ0LmpzIiwid2VicGFjazovLy8uL3NyYy9kaWFsb2cvanMvbG9nZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9kaWFsb2cvZGlhbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsR0FBRztR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RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwwQ0FBMEM7QUFDMUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsYUFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLEVBQUU7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QixRQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEMsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7O0FBRUE7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGFBQWE7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUM7Ozs7Ozs7QUNsL0dELHdCOzs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsYTs7QUFFQTtBQUNBLHFCQUFxQiwwQ0FBMEMsYUFBYSxlQUFlLEtBQUssaUJBQWlCLFdB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLDRHQUE0RztBQUM1RztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0EsK0dBQStHO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwRkFBMEY7QUFDMUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyxjQUFjLDRDQUE0QztBQUNoSztBQUNBLHNGQUFzRjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SEFBOEg7QUFDOUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2Q0FBNkM7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGO0FBQy9GLGlHQUFpRztBQUNqRztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQzs7Ozs7O0FDaE5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEtBQTREO0FBQzdELENBQUMsU0FDZ0M7QUFDakMsQ0FBQyxxQkFBcUI7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJFQUEyRTtBQUMzRTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDRCQUE0QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLEdBQUc7QUFDSCxvQ0FBb0M7QUFDcEMsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLFdBQVc7QUFDOUI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFF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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUsseUJBQXlCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDs7QUFFakQsdUNBQXVDO0FBQ3ZDOztBQUVBO0FBQ0EsaUNBQWlDOztBQUVqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSwyREFBMkQsS0FBSztBQUNoRSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHNEQUFzRCxNQUFNLFFBQVEsS0FBSztBQUN6RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7O0FBR0E7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLHNDQUFzQzs7QUFFdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEseUNBQXlDOztBQUV6Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLGNBQWM7O0FBRWQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNB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QTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsd0JBQXdCO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHVDQUF1QztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFVBQVUsTUFBTTtBQUNoQixVQUFVLE9BQU87QUFDakI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxNQUFNO0FBQ2hCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EscUJBQXFCLFlBQVk7QUFDakM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxVQUFVLElBQUk7QUFDZDtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxVQUFVLFNBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCLFlBQVksU0FBUztBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUM7QUFDRCxvQzs7Ozs7OztBQ2pvQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVTs7Ozs7OztBQ3ZMdEMsZTs7Ozs7O0FDQUEsVUFBVSxtQkFBTyxDQUFDLEVBQUs7O0FBRXZCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsd0JBQVEsWUFBc0IsZUFBZSxPQUFPLENBQUMsQztBQUNwRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUJBQW1CLHNCQUFzQjtBQUN6QyxxQ0FBcUM7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDOzs7Ozs7O0FDckRhO0FBQ2IsYUFBYSxtQkFBTyxDQUFDLEVBQWU7QUFDcEMsaUJBQWlCLG1CQUFPLENBQUMsRUFBYTtBQUN0QyxtQkFBbUIsbUJBQU8sQ0FBQyxFQUFlO0FBQzFDLFlBQVksbUJBQU8sQ0FBQyxFQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxLQUFLO0FBQ0wsaUNBQWlDLFNBQVM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7Ozs7OztBQ3RQ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QTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsWUFBWTtBQUNqRSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOzs7OztBQUtlLDhEQUFXLEU7O0FDM21CMUIsV0FBVyxtQkFBTyxDQUFDLEVBQWE7O0FBRWhDLFNBQVMsZ0JBQVU7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFM7O0FBRUE7QUFDQSw0Qzs7QUFFQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQSxhO0FBQ0E7O0FBRUEsZ0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFM7O0FBRUE7QUFDQSw0Qzs7QUFFQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQSxhO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFM7O0FBRUE7QUFDQSw0Qzs7QUFFQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQSxhO0FBQ0E7O0FBRUEsZ0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFM7O0FBRUE7QUFDQSw0Qzs7QUFFQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQSxhO0FBQ0E7O0FBRUEsZ0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUzs7QUFFQTtBQUNBLDRDOztBQUVBLDBCQUEwQixpQkFBaUI7QUFDM0M7QUFDQTtBQUNBLGE7QUFDQTs7QUFFQSxnQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSw2REFBVSxFQUFFLEU7O0FDcEozQixTQUFTLGtCQUFXO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFZSw2REFBVyxFQUFFLEU7Ozs7OztBQ3ZFWTtBQUNDOztBQUV6QztBQUN5QjtBQUNROztBQUVJO0FBQ0Q7QUFDRTtBQUNrQjs7QUFFeEQsWUFBWSxtQkFBTyxDQUFDLEVBQWE7O0FBRWpDO0FBQ0EseUJBQXlCLFFBQVk7QUFDckMsd0JBQXdCLFFBQVc7QUFDbkMseUJBQXlCLE1BQVk7QUFDckMsdUJBQXVCLHVCQUFTOztBQUVoQztBQUNBO0FBQ0E7QUFDQSwrREFBK0Qsc0VBQXNFOztBQUVySTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QztBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsSSIsImZpbGUiOiJkaWFsb2cuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImxvY2FsaG9zdDo5MDAwL3NlY3VraXQtaHRtbDUvZGlhbG9nL1wiO1xuIFx0Ly8gV2VicGFja1JlcXVpcmVGcm9tXG4gXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX3JlcXVpcmVfXywgXCJwXCIsIHtcbiBcdCAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gXHR0cnkge1xuIFx0ICBpZiAodHlwZW9mIHdlYm5wa2lfY29uZmlnLnVpICE9PSBcInN0cmluZ1wiKSB7XG4gXHQgICAgdGhyb3cgbmV3IEVycm9yKFwiV2VicGFja1JlcXVpcmVGcm9tOiAnd2VibnBraV9jb25maWcudWknIGlzIG5vdCBhIHN0cmluZyBvciBub3QgYXZhaWxhYmxlIGF0IHJ1bnRpbWUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYWdvbGRpcy93ZWJwYWNrLXJlcXVpcmUtZnJvbSN0cm91Ymxlc2hvb3RpbmdcIik7XG4gXHQgIH1cbiBcdCAgcmV0dXJuIHdlYm5wa2lfY29uZmlnLnVpO1xuIFx0fSBjYXRjaCAoZSkge1xuIFx0ICBpZiAoIWZhbHNlKSB7XG4gXHQgICAgY29uc29sZS5lcnJvcihlKTtcbiBcdCAgfVxuIFx0ICByZXR1cm4gXCJsb2NhbGhvc3Q6OTAwMC9zZWN1a2l0LWh0bWw1L2RpYWxvZy9cIjtcbiBcdH1cbiBcdCB9XG4gXHR9KVxuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCJ7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IG1vZHVsZXNbX2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIihcIi5jb25jYXQoaXRlbVsyXSwgXCIpIGFuZCAoXCIpLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIilcIik7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCkuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucykge1xuICB2YXIgc3R5bGVzID0gW107XG4gIHZhciBuZXdTdHlsZXMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNzcyA9IGl0ZW1bMV07XG4gICAgdmFyIG1lZGlhID0gaXRlbVsyXTtcbiAgICB2YXIgc291cmNlTWFwID0gaXRlbVszXTtcbiAgICB2YXIgcGFydCA9IHtcbiAgICAgIGNzczogY3NzLFxuICAgICAgbWVkaWE6IG1lZGlhLFxuICAgICAgc291cmNlTWFwOiBzb3VyY2VNYXBcbiAgICB9O1xuXG4gICAgaWYgKCFuZXdTdHlsZXNbaWRdKSB7XG4gICAgICBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHBhcnRzOiBbcGFydF1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XG4gICAgdmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG4gICAgdmFyIGogPSAwO1xuXG4gICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICBkb21TdHlsZS5yZWZzKys7XG5cbiAgICAgIGZvciAoOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBhcnRzID0gW107XG5cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcbiAgICAgIH1cblxuICAgICAgc3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICByZWZzOiAxLFxuICAgICAgICBwYXJ0czogcGFydHNcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgb3B0aW9ucy5hdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMob3B0aW9ucy5hdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBvcHRpb25zLmF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5hdHRyaWJ1dGVzID0gdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcyA9PT0gJ29iamVjdCcgPyBvcHRpb25zLmF0dHJpYnV0ZXMgOiB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICB2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuICBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICB2YXIgbWF5UmVtb3ZlID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XG4gICAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuICAgICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICAgIGRvbVN0eWxlLnJlZnMtLTtcbiAgICAgICAgbWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdMaXN0KSB7XG4gICAgICB2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgICAgYWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWF5UmVtb3ZlLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9kb21TdHlsZSA9IG1heVJlbW92ZVtfaV07XG5cbiAgICAgIGlmIChfZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IF9kb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIF9kb21TdHlsZS5wYXJ0c1tqXSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHN0eWxlc0luRG9tW19kb21TdHlsZS5pZF07XG4gICAgICB9XG4gICAgfVxuICB9O1xufTsiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKlxyXG4gICAgUERGT2JqZWN0IHYyLjEuMVxyXG4gICAgaHR0cHM6Ly9naXRodWIuY29tL3BpcHdlcmtzL1BERk9iamVjdFxyXG4gICAgQ29weXJpZ2h0IChjKSAyMDA4LTIwMTggUGhpbGlwIEh1dGNoaXNvblxyXG4gICAgTUlULXN0eWxlIGxpY2Vuc2U6IGh0dHA6Ly9waXB3ZXJrcy5taXQtbGljZW5zZS5vcmcvXHJcbiAgICBVTUQgbW9kdWxlIHBhdHRlcm4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzXHJcbiovXHJcblxyXG4oZnVuY3Rpb24ocm9vdCxmYWN0b3J5KXtpZih0eXBlb2YgZGVmaW5lPT09J2Z1bmN0aW9uJyYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGZhY3RvcnkpO31lbHNlIGlmKHR5cGVvZiBtb2R1bGU9PT0nb2JqZWN0JyYmbW9kdWxlLmV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTt9ZWxzZXtyb290LlBERk9iamVjdD1mYWN0b3J5KCk7fX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2lmKHR5cGVvZiB3aW5kb3c9PT1cInVuZGVmaW5lZFwifHx0eXBlb2YgbmF2aWdhdG9yPT09XCJ1bmRlZmluZWRcIil7cmV0dXJuIGZhbHNlO31cclxudmFyIHBkZm9iamVjdHZlcnNpb249XCIyLjEuMVwiLHVhPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LHN1cHBvcnRzUERGcyxpc0lFLHN1cHBvcnRzUGRmTWltZVR5cGU9KHR5cGVvZiBuYXZpZ2F0b3IubWltZVR5cGVzWydhcHBsaWNhdGlvbi9wZGYnXSE9PVwidW5kZWZpbmVkXCIpLHN1cHBvcnRzUGRmQWN0aXZlWCxpc01vZGVybkJyb3dzZXI9KGZ1bmN0aW9uKCl7cmV0dXJuKHR5cGVvZiB3aW5kb3cuUHJvbWlzZSE9PVwidW5kZWZpbmVkXCIpO30pKCksaXNGaXJlZm94PShmdW5jdGlvbigpe3JldHVybih1YS5pbmRleE9mKFwiaXJlZm94XCIpIT09LTEpO30pKCksaXNGaXJlZm94V2l0aFBERkpTPShmdW5jdGlvbigpe2lmKCFpc0ZpcmVmb3gpe3JldHVybiBmYWxzZTt9XHJcbnJldHVybihwYXJzZUludCh1YS5zcGxpdChcInJ2OlwiKVsxXS5zcGxpdChcIi5cIilbMF0sMTApPjE4KTt9KSgpLGlzSU9TPShmdW5jdGlvbigpe3JldHVybigvaXBob25lfGlwYWR8aXBvZC9pLnRlc3QodWEudG9Mb3dlckNhc2UoKSkpO30pKCksY3JlYXRlQVhPLGJ1aWxkRnJhZ21lbnRTdHJpbmcsbG9nLGVtYmVkRXJyb3IsZW1iZWQsZ2V0VGFyZ2V0RWxlbWVudCxnZW5lcmF0ZVBERkpTaWZyYW1lLGdlbmVyYXRlRW1iZWRFbGVtZW50O2NyZWF0ZUFYTz1mdW5jdGlvbih0eXBlKXt2YXIgYXg7dHJ5e2F4PW5ldyBBY3RpdmVYT2JqZWN0KHR5cGUpO31jYXRjaChlKXtheD1udWxsO31cclxucmV0dXJuIGF4O307aXNJRT1mdW5jdGlvbigpe3JldHVybiEhKHdpbmRvdy5BY3RpdmVYT2JqZWN0fHxcIkFjdGl2ZVhPYmplY3RcImluIHdpbmRvdyk7fTtzdXBwb3J0c1BkZkFjdGl2ZVg9ZnVuY3Rpb24oKXtyZXR1cm4hIShjcmVhdGVBWE8oXCJBY3JvUERGLlBERlwiKXx8Y3JlYXRlQVhPKFwiUERGLlBkZkN0cmxcIikpO307c3VwcG9ydHNQREZzPSghaXNJT1MmJihpc0ZpcmVmb3hXaXRoUERGSlN8fHN1cHBvcnRzUGRmTWltZVR5cGV8fChpc0lFKCkmJnN1cHBvcnRzUGRmQWN0aXZlWCgpKSkpO2J1aWxkRnJhZ21lbnRTdHJpbmc9ZnVuY3Rpb24ocGRmUGFyYW1zKXt2YXIgc3RyaW5nPVwiXCIscHJvcDtpZihwZGZQYXJhbXMpe2Zvcihwcm9wIGluIHBkZlBhcmFtcyl7aWYocGRmUGFyYW1zLmhhc093blByb3BlcnR5KHByb3ApKXtzdHJpbmcrPWVuY29kZVVSSUNvbXBvbmVudChwcm9wKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQocGRmUGFyYW1zW3Byb3BdKStcIiZcIjt9fVxyXG5pZihzdHJpbmcpe3N0cmluZz1cIiNcIitzdHJpbmc7c3RyaW5nPXN0cmluZy5zbGljZSgwLHN0cmluZy5sZW5ndGgtMSk7fX1cclxucmV0dXJuIHN0cmluZzt9O2xvZz1mdW5jdGlvbihtc2cpe2lmKHR5cGVvZiBjb25zb2xlIT09XCJ1bmRlZmluZWRcIiYmY29uc29sZS5sb2cpe2NvbnNvbGUubG9nKFwiW1BERk9iamVjdF0gXCIrbXNnKTt9fTtlbWJlZEVycm9yPWZ1bmN0aW9uKG1zZyl7bG9nKG1zZyk7cmV0dXJuIGZhbHNlO307Z2V0VGFyZ2V0RWxlbWVudD1mdW5jdGlvbih0YXJnZXRTZWxlY3Rvcil7dmFyIHRhcmdldE5vZGU9ZG9jdW1lbnQuYm9keTtpZih0eXBlb2YgdGFyZ2V0U2VsZWN0b3I9PT1cInN0cmluZ1wiKXt0YXJnZXROb2RlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpO31lbHNlIGlmKHR5cGVvZiBqUXVlcnkhPT1cInVuZGVmaW5lZFwiJiZ0YXJnZXRTZWxlY3RvciBpbnN0YW5jZW9mIGpRdWVyeSYmdGFyZ2V0U2VsZWN0b3IubGVuZ3RoKXt0YXJnZXROb2RlPXRhcmdldFNlbGVjdG9yLmdldCgwKTt9ZWxzZSBpZih0eXBlb2YgdGFyZ2V0U2VsZWN0b3Iubm9kZVR5cGUhPT1cInVuZGVmaW5lZFwiJiZ0YXJnZXRTZWxlY3Rvci5ub2RlVHlwZT09PTEpe3RhcmdldE5vZGU9dGFyZ2V0U2VsZWN0b3I7fVxyXG5yZXR1cm4gdGFyZ2V0Tm9kZTt9O2dlbmVyYXRlUERGSlNpZnJhbWU9ZnVuY3Rpb24odGFyZ2V0Tm9kZSx1cmwscGRmT3BlbkZyYWdtZW50LFBERkpTX1VSTCxpZCl7dmFyIGZ1bGxVUkw9UERGSlNfVVJMK1wiP2ZpbGU9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHVybCkrcGRmT3BlbkZyYWdtZW50O3ZhciBzY3JvbGxmaXg9KGlzSU9TKT9cIi13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsgb3ZlcmZsb3cteTogc2Nyb2xsOyBcIjpcIm92ZXJmbG93OiBoaWRkZW47IFwiO3ZhciBpZnJhbWU9XCI8ZGl2IHN0eWxlPSdcIitzY3JvbGxmaXgrXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDsgbGVmdDogMDsnPjxpZnJhbWUgIFwiK2lkK1wiIHNyYz0nXCIrZnVsbFVSTCtcIicgc3R5bGU9J2JvcmRlcjogbm9uZTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsnIGZyYW1lYm9yZGVyPScwJz48L2lmcmFtZT48L2Rpdj5cIjt0YXJnZXROb2RlLmNsYXNzTmFtZSs9XCIgcGRmb2JqZWN0LWNvbnRhaW5lclwiO3RhcmdldE5vZGUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiO3RhcmdldE5vZGUuc3R5bGUub3ZlcmZsb3c9XCJhdXRvXCI7dGFyZ2V0Tm9kZS5pbm5lckhUTUw9aWZyYW1lO3JldHVybiB0YXJnZXROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaWZyYW1lXCIpWzBdO307Z2VuZXJhdGVFbWJlZEVsZW1lbnQ9ZnVuY3Rpb24odGFyZ2V0Tm9kZSx0YXJnZXRTZWxlY3Rvcix1cmwscGRmT3BlbkZyYWdtZW50LHdpZHRoLGhlaWdodCxpZCl7dmFyIHN0eWxlPVwiXCI7aWYodGFyZ2V0U2VsZWN0b3ImJnRhcmdldFNlbGVjdG9yIT09ZG9jdW1lbnQuYm9keSl7c3R5bGU9XCJ3aWR0aDogXCIrd2lkdGgrXCI7IGhlaWdodDogXCIraGVpZ2h0K1wiO1wiO31lbHNle3N0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7XCI7fVxyXG50YXJnZXROb2RlLmNsYXNzTmFtZSs9XCIgcGRmb2JqZWN0LWNvbnRhaW5lclwiO3RhcmdldE5vZGUuaW5uZXJIVE1MPVwiPGVtYmVkIFwiK2lkK1wiIGNsYXNzPSdwZGZvYmplY3QnIHNyYz0nXCIrdXJsK3BkZk9wZW5GcmFnbWVudCtcIicgdHlwZT0nYXBwbGljYXRpb24vcGRmJyBzdHlsZT0nb3ZlcmZsb3c6IGF1dG87IFwiK3N0eWxlK1wiJy8+XCI7cmV0dXJuIHRhcmdldE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJlbWJlZFwiKVswXTt9O2VtYmVkPWZ1bmN0aW9uKHVybCx0YXJnZXRTZWxlY3RvcixvcHRpb25zKXtpZih0eXBlb2YgdXJsIT09XCJzdHJpbmdcIil7cmV0dXJuIGVtYmVkRXJyb3IoXCJVUkwgaXMgbm90IHZhbGlkXCIpO31cclxudGFyZ2V0U2VsZWN0b3I9KHR5cGVvZiB0YXJnZXRTZWxlY3RvciE9PVwidW5kZWZpbmVkXCIpP3RhcmdldFNlbGVjdG9yOmZhbHNlO29wdGlvbnM9KHR5cGVvZiBvcHRpb25zIT09XCJ1bmRlZmluZWRcIik/b3B0aW9uczp7fTt2YXIgaWQ9KG9wdGlvbnMuaWQmJnR5cGVvZiBvcHRpb25zLmlkPT09XCJzdHJpbmdcIik/XCJpZD0nXCIrb3B0aW9ucy5pZCtcIidcIjpcIlwiLHBhZ2U9KG9wdGlvbnMucGFnZSk/b3B0aW9ucy5wYWdlOmZhbHNlLHBkZk9wZW5QYXJhbXM9KG9wdGlvbnMucGRmT3BlblBhcmFtcyk/b3B0aW9ucy5wZGZPcGVuUGFyYW1zOnt9LGZhbGxiYWNrTGluaz0odHlwZW9mIG9wdGlvbnMuZmFsbGJhY2tMaW5rIT09XCJ1bmRlZmluZWRcIik/b3B0aW9ucy5mYWxsYmFja0xpbms6dHJ1ZSx3aWR0aD0ob3B0aW9ucy53aWR0aCk/b3B0aW9ucy53aWR0aDpcIjEwMCVcIixoZWlnaHQ9KG9wdGlvbnMuaGVpZ2h0KT9vcHRpb25zLmhlaWdodDpcIjEwMCVcIixhc3N1bXB0aW9uTW9kZT0odHlwZW9mIG9wdGlvbnMuYXNzdW1wdGlvbk1vZGU9PT1cImJvb2xlYW5cIik/b3B0aW9ucy5hc3N1bXB0aW9uTW9kZTp0cnVlLGZvcmNlUERGSlM9KHR5cGVvZiBvcHRpb25zLmZvcmNlUERGSlM9PT1cImJvb2xlYW5cIik/b3B0aW9ucy5mb3JjZVBERkpTOmZhbHNlLFBERkpTX1VSTD0ob3B0aW9ucy5QREZKU19VUkwpP29wdGlvbnMuUERGSlNfVVJMOmZhbHNlLHRhcmdldE5vZGU9Z2V0VGFyZ2V0RWxlbWVudCh0YXJnZXRTZWxlY3RvciksZmFsbGJhY2tIVE1MPVwiXCIscGRmT3BlbkZyYWdtZW50PVwiXCIsZmFsbGJhY2tIVE1MX2RlZmF1bHQ9XCI8cD5UaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBpbmxpbmUgUERGcy4gUGxlYXNlIGRvd25sb2FkIHRoZSBQREYgdG8gdmlldyBpdDogPGEgaHJlZj0nW3VybF0nPkRvd25sb2FkIFBERjwvYT48L3A+XCI7aWYoIXRhcmdldE5vZGUpe3JldHVybiBlbWJlZEVycm9yKFwiVGFyZ2V0IGVsZW1lbnQgY2Fubm90IGJlIGRldGVybWluZWRcIik7fVxyXG5pZihwYWdlKXtwZGZPcGVuUGFyYW1zLnBhZ2U9cGFnZTt9XHJcbnBkZk9wZW5GcmFnbWVudD1idWlsZEZyYWdtZW50U3RyaW5nKHBkZk9wZW5QYXJhbXMpO2lmKGZvcmNlUERGSlMmJlBERkpTX1VSTCl7cmV0dXJuIGdlbmVyYXRlUERGSlNpZnJhbWUodGFyZ2V0Tm9kZSx1cmwscGRmT3BlbkZyYWdtZW50LFBERkpTX1VSTCxpZCk7fWVsc2UgaWYoc3VwcG9ydHNQREZzfHwoYXNzdW1wdGlvbk1vZGUmJmlzTW9kZXJuQnJvd3NlciYmIWlzSU9TKSl7cmV0dXJuIGdlbmVyYXRlRW1iZWRFbGVtZW50KHRhcmdldE5vZGUsdGFyZ2V0U2VsZWN0b3IsdXJsLHBkZk9wZW5GcmFnbWVudCx3aWR0aCxoZWlnaHQsaWQpO31lbHNlIGlmKFBERkpTX1VSTCl7cmV0dXJuIGdlbmVyYXRlUERGSlNpZnJhbWUodGFyZ2V0Tm9kZSx1cmwscGRmT3BlbkZyYWdtZW50LFBERkpTX1VSTCxpZCk7fWVsc2V7aWYoZmFsbGJhY2tMaW5rKXtmYWxsYmFja0hUTUw9KHR5cGVvZiBmYWxsYmFja0xpbms9PT1cInN0cmluZ1wiKT9mYWxsYmFja0xpbms6ZmFsbGJhY2tIVE1MX2RlZmF1bHQ7dGFyZ2V0Tm9kZS5pbm5lckhUTUw9ZmFsbGJhY2tIVE1MLnJlcGxhY2UoL1xcW3VybFxcXS9nLHVybCk7fVxyXG5yZXR1cm4gZW1iZWRFcnJvcihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGVtYmVkZGVkIFBERnNcIik7fX07cmV0dXJue2VtYmVkOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZW1iZWQoYSxiLGMpO30scGRmb2JqZWN0dmVyc2lvbjooZnVuY3Rpb24oKXtyZXR1cm4gcGRmb2JqZWN0dmVyc2lvbjt9KSgpLHN1cHBvcnRzUERGczooZnVuY3Rpb24oKXtyZXR1cm4gc3VwcG9ydHNQREZzO30pKCl9O30pKTsiLCIvKiEgalF1ZXJ5IFVJIFZpcnR1YWwgS2V5Ym9hcmQgdjEuMzAuMSAqLy8qXHJcbkF1dGhvcjogSmVyZW15IFNhdHRlcmZpZWxkXHJcbk1haW50YWluZWQ6IFJvYiBHYXJyaXNvbiAoTW90dGllIG9uIGdpdGh1YilcclxuTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXHJcblxyXG5BbiBvbi1zY3JlZW4gdmlydHVhbCBrZXlib2FyZCBlbWJlZGRlZCB3aXRoaW4gdGhlIGJyb3dzZXIgd2luZG93IHdoaWNoXHJcbndpbGwgcG9wdXAgd2hlbiBhIHNwZWNpZmllZCBlbnRyeSBmaWVsZCBpcyBmb2N1c2VkLiBUaGUgdXNlciBjYW4gdGhlblxyXG50eXBlIGFuZCBwcmV2aWV3IHRoZWlyIGlucHV0IGJlZm9yZSBBY2NlcHRpbmcgb3IgQ2FuY2VsaW5nLlxyXG5cclxuVGhpcyBwbHVnaW4gYWRkcyBkZWZhdWx0IGNsYXNzIG5hbWVzIHRvIG1hdGNoIGpRdWVyeSBVSSB0aGVtZSBzdHlsaW5nLlxyXG5Cb290c3RyYXAgJiBjdXN0b20gdGhlbWVzIG1heSBhbHNvIGJlIGFwcGxpZWQgLSBTZWVcclxuaHR0cHM6Ly9naXRodWIuY29tL01vdHRpZS9LZXlib2FyZCN0aGVtZXNcclxuXHJcblJlcXVpcmVzOlxyXG5cdGpRdWVyeSB2MS40LjMrXHJcblx0Q2FyZXQgcGx1Z2luIChpbmNsdWRlZClcclxuT3B0aW9uYWw6XHJcblx0alF1ZXJ5IFVJIChwb3NpdGlvbiB1dGlsaXR5IG9ubHkpICYgQ1NTIHRoZW1lXHJcblx0alF1ZXJ5IG1vdXNld2hlZWxcclxuXHJcblNldHVwL1VzYWdlOlxyXG5cdFBsZWFzZSByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vTW90dGllL0tleWJvYXJkL3dpa2lcclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkNhcmV0IGNvZGUgbW9kaWZpZWQgZnJvbSBqcXVlcnkuY2FyZXQuMS4wMi5qc1xyXG5MaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2U6XHJcbmh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiovXHJcbi8qanNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OnRydWUsIHVudXNlZDpmYWxzZSAqL1xyXG4vKmdsb2JhbCByZXF1aXJlOmZhbHNlLCBkZWZpbmU6ZmFsc2UsIG1vZHVsZTpmYWxzZSAqL1xyXG47KGZ1bmN0aW9uIChmYWN0b3J5KSB7XHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG5cdFx0ZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xyXG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZmFjdG9yeShqUXVlcnkpO1xyXG5cdH1cclxufShmdW5jdGlvbiAoJCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHR2YXIgJGtleWJvYXJkID0gJC5rZXlib2FyZCA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xyXG5cdHZhciBvLCBiYXNlID0gdGhpcztcclxuXHJcblx0YmFzZS52ZXJzaW9uID0gJzEuMzAuMSc7XHJcblxyXG5cdC8vIEFjY2VzcyB0byBqUXVlcnkgYW5kIERPTSB2ZXJzaW9ucyBvZiBlbGVtZW50XHJcblx0YmFzZS4kZWwgPSAkKGVsKTtcclxuXHRiYXNlLmVsID0gZWw7XHJcblxyXG5cdC8vIEFkZCBhIHJldmVyc2UgcmVmZXJlbmNlIHRvIHRoZSBET00gb2JqZWN0XHJcblx0YmFzZS4kZWwuZGF0YSgna2V5Ym9hcmQnLCBiYXNlKTtcclxuXHJcblx0YmFzZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0YmFzZS5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cdFx0dmFyIGssIHBvc2l0aW9uLCB0bXAsXHJcblx0XHRcdGtiY3NzID0gJGtleWJvYXJkLmNzcyxcclxuXHRcdFx0a2JldmVudHMgPSAka2V5Ym9hcmQuZXZlbnRzO1xyXG5cdFx0YmFzZS5zZXR0aW5ncyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBzaGFsbG93IGNvcHkgcG9zaXRpb24gdG8gcHJldmVudCBwZXJmb3JtYW5jZSBpc3N1ZXM7IHNlZSAjMzU3XHJcblx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBvc2l0aW9uKSB7XHJcblx0XHRcdHBvc2l0aW9uID0gJC5leHRlbmQoe30sIG9wdGlvbnMucG9zaXRpb24pO1xyXG5cdFx0XHRvcHRpb25zLnBvc2l0aW9uID0gbnVsbDtcclxuXHRcdH1cclxuXHRcdGJhc2Uub3B0aW9ucyA9IG8gPSAkLmV4dGVuZCh0cnVlLCB7fSwgJGtleWJvYXJkLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuXHRcdGlmIChwb3NpdGlvbikge1xyXG5cdFx0XHRvLnBvc2l0aW9uID0gcG9zaXRpb247XHJcblx0XHRcdG9wdGlvbnMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBrZXlib2FyZCBpcyBhY3RpdmUgKG5vdCBkZXN0cm95ZWQpO1xyXG5cdFx0YmFzZS5lbC5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0Ly8gdW5pcXVlIGtleWJvYXJkIG5hbWVzcGFjZVxyXG5cdFx0YmFzZS5uYW1lc3BhY2UgPSAnLmtleWJvYXJkJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIpO1xyXG5cdFx0Ly8gZXh0ZW5zaW9uIG5hbWVzcGFjZXMgYWRkZWQgaGVyZSAodG8gdW5iaW5kIGxpc3RlbmVycyBvbiBiYXNlLiRlbCB1cG9uIGRlc3Ryb3kpXHJcblx0XHRiYXNlLmV4dGVuc2lvbk5hbWVzcGFjZSA9IFtdO1xyXG5cdFx0Ly8gU2hpZnQgYW5kIEFsdCBrZXkgdG9nZ2xlcywgc2V0cyBpcyB0cnVlIGlmIGEgbGF5b3V0IGhhcyBtb3JlIHRoYW4gb25lIGtleXNldFxyXG5cdFx0Ly8gdXNlZCBmb3IgbW91c2V3aGVlbCBtZXNzYWdlXHJcblx0XHRiYXNlLnNoaWZ0QWN0aXZlID0gYmFzZS5hbHRBY3RpdmUgPSBiYXNlLm1ldGFBY3RpdmUgPSBiYXNlLnNldHMgPSBiYXNlLmNhcHNMb2NrID0gZmFsc2U7XHJcblx0XHQvLyBDbGFzcyBuYW1lcyBvZiB0aGUgYmFzaWMga2V5IHNldCAtIG1ldGEga2V5c2V0cyBhcmUgaGFuZGxlZCBieSB0aGUga2V5bmFtZVxyXG5cdFx0YmFzZS5yb3dzID0gWycnLCAnLXNoaWZ0JywgJy1hbHQnLCAnLWFsdC1zaGlmdCddO1xyXG5cclxuXHRcdGJhc2UuaW5QbGFjZWhvbGRlciA9IGJhc2UuJGVsLmF0dHIoJ3BsYWNlaG9sZGVyJykgfHwgJyc7XHJcblx0XHQvLyBodG1sIDUgcGxhY2Vob2xkZXIvd2F0ZXJtYXJrXHJcblx0XHRiYXNlLndhdGVybWFyayA9ICRrZXlib2FyZC53YXRlcm1hcmsgJiYgYmFzZS5pblBsYWNlaG9sZGVyICE9PSAnJztcclxuXHRcdC8vIGNvbnZlcnQgbW91c2UgcmVwZWF0ZXIgcmF0ZSAoY2hhcmFjdGVycyBwZXIgc2Vjb25kKSBpbnRvIGEgdGltZSBpbiBtaWxsaXNlY29uZHMuXHJcblx0XHRiYXNlLnJlcGVhdFRpbWUgPSAxMDAwIC8gKG8ucmVwZWF0UmF0ZSB8fCAyMCk7XHJcblx0XHQvLyBkZWxheSBpbiBtcyB0byBwcmV2ZW50IG1vdXNlZG93biAmIHRvdWNoc3RhcnQgZnJvbSBib3RoIGZpcmluZyBldmVudHMgYXQgdGhlIHNhbWUgdGltZVxyXG5cdFx0by5wcmV2ZW50RG91YmxlRXZlbnRUaW1lID0gby5wcmV2ZW50RG91YmxlRXZlbnRUaW1lIHx8IDEwMDtcclxuXHRcdC8vIGZsYWcgaW5kaWNhdGlvbiB0aGF0IGEga2V5Ym9hcmQgaXMgb3BlblxyXG5cdFx0YmFzZS5pc09wZW4gPSBmYWxzZTtcclxuXHRcdC8vIGlzIG1vdXNld2hlZWwgcGx1Z2luIGxvYWRlZD9cclxuXHRcdGJhc2Uud2hlZWwgPSB0eXBlb2YgJC5mbi5tb3VzZXdoZWVsID09PSAnZnVuY3Rpb24nO1xyXG5cdFx0Ly8gc3BlY2lhbCBjaGFyYWN0ZXIgaW4gcmVnZXggdGhhdCBuZWVkIHRvIGJlIGVzY2FwZWRcclxuXHRcdGJhc2UuZXNjYXBlUmVnZXggPSAvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nO1xyXG5cdFx0YmFzZS5pc1RleHRBcmVhID0gYmFzZS5lbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGV4dGFyZWEnO1xyXG5cdFx0YmFzZS5pc0lucHV0ID0gYmFzZS5lbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnO1xyXG5cdFx0Ly8gZGV0ZWN0IGNvbnRlbnRlZGl0YWJsZVxyXG5cdFx0YmFzZS5pc0NvbnRlbnRFZGl0YWJsZSA9ICFiYXNlLmlzVGV4dEFyZWEgJiZcclxuXHRcdFx0IWJhc2UuaXNJbnB1dCAmJlxyXG5cdFx0XHRiYXNlLmVsLmlzQ29udGVudEVkaXRhYmxlO1xyXG5cclxuXHRcdC8vIGtleUNvZGUgb2Yga2V5cyBhbHdheXMgYWxsb3dlZCB0byBiZSB0eXBlZFxyXG5cdFx0ayA9ICRrZXlib2FyZC5rZXlDb2RlcztcclxuXHRcdC8vIGJhc2UuYWx3YXlzQWxsb3dlZCA9IFsyMCwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0NSw0Nl07XHJcblx0XHRiYXNlLmFsd2F5c0FsbG93ZWQgPSBbXHJcblx0XHRcdGsuY2Fwc0xvY2ssXHJcblx0XHRcdGsucGFnZVVwLFxyXG5cdFx0XHRrLnBhZ2VEb3duLFxyXG5cdFx0XHRrLmVuZCxcclxuXHRcdFx0ay5ob21lLFxyXG5cdFx0XHRrLmxlZnQsXHJcblx0XHRcdGsudXAsXHJcblx0XHRcdGsucmlnaHQsXHJcblx0XHRcdGsuZG93bixcclxuXHRcdFx0ay5pbnNlcnQsXHJcblx0XHRcdGsuZGVsZXRlXHJcblx0XHRdO1xyXG5cdFx0YmFzZS4ka2V5Ym9hcmQgPSBbXTtcclxuXHRcdC8vIGtleWJvYXJkIGVuYWJsZWQ7IHNldCB0byBmYWxzZSBvbiBkZXN0cm95XHJcblx0XHRiYXNlLmVuYWJsZWQgPSB0cnVlO1xyXG5cclxuXHRcdGJhc2UuY2hlY2tDYXJldCA9IChvLmxvY2tJbnB1dCB8fCAka2V5Ym9hcmQuY2hlY2tDYXJldFN1cHBvcnQoKSk7XHJcblxyXG5cdFx0Ly8gZGlzYWJsZSBwcm9ibGVtYXRpYyB1c2VQcmV2aWV3IGZvciBjb250ZW50ZWRpdGFibGVcclxuXHRcdGlmIChiYXNlLmlzQ29udGVudEVkaXRhYmxlKSB7XHJcblx0XHRcdG8udXNlUHJldmlldyA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGJhc2UubGFzdCA9IHtcclxuXHRcdFx0c3RhcnQ6IDAsXHJcblx0XHRcdGVuZDogMCxcclxuXHRcdFx0a2V5OiAnJyxcclxuXHRcdFx0dmFsOiAnJyxcclxuXHRcdFx0cHJlVmFsOiAnJyxcclxuXHRcdFx0bGF5b3V0OiAnJyxcclxuXHRcdFx0dmlydHVhbDogdHJ1ZSxcclxuXHRcdFx0a2V5c2V0OiBbZmFsc2UsIGZhbHNlLCBmYWxzZV0sIC8vIFtzaGlmdCwgYWx0LCBtZXRhXVxyXG5cdFx0XHR3aGVlbF8kS2V5czogW10sXHJcblx0XHRcdHdoZWVsSW5kZXg6IDAsXHJcblx0XHRcdHdoZWVsTGF5ZXJzOiBbXVxyXG5cdFx0fTtcclxuXHRcdC8vIHVzZWQgd2hlbiBidWlsZGluZyB0aGUga2V5Ym9hcmQgLSBba2V5c2V0IGVsZW1lbnQsIHJvdywgaW5kZXhdXHJcblx0XHRiYXNlLnRlbXAgPSBbJycsIDAsIDBdO1xyXG5cclxuXHRcdC8vIENhbGxiYWNrc1xyXG5cdFx0JC5lYWNoKFtcclxuXHRcdFx0a2JldmVudHMua2JJbml0LFxyXG5cdFx0XHRrYmV2ZW50cy5rYkJlZm9yZVZpc2libGUsXHJcblx0XHRcdGtiZXZlbnRzLmtiVmlzaWJsZSxcclxuXHRcdFx0a2JldmVudHMua2JIaWRkZW4sXHJcblx0XHRcdGtiZXZlbnRzLmlucHV0Q2FuY2VsZWQsXHJcblx0XHRcdGtiZXZlbnRzLmlucHV0QWNjZXB0ZWQsXHJcblx0XHRcdGtiZXZlbnRzLmtiQmVmb3JlQ2xvc2UsXHJcblx0XHRcdGtiZXZlbnRzLmlucHV0UmVzdHJpY3RlZFxyXG5cdFx0XSwgZnVuY3Rpb24gKGksIGNhbGxiYWNrKSB7XHJcblx0XHRcdGlmICh0eXBlb2Ygb1tjYWxsYmFja10gPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHQvLyBiaW5kIGNhbGxiYWNrIGZ1bmN0aW9ucyB3aXRoaW4gb3B0aW9ucyB0byB0cmlnZ2VyZWQgZXZlbnRzXHJcblx0XHRcdFx0YmFzZS4kZWwuYmluZChjYWxsYmFjayArIGJhc2UubmFtZXNwYWNlICsgJ2NhbGxiYWNrcycsIG9bY2FsbGJhY2tdKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ2xvc2Ugd2l0aCBlc2Mga2V5ICYgY2xpY2tpbmcgb3V0c2lkZVxyXG5cdFx0aWYgKG8uYWx3YXlzT3Blbikge1xyXG5cdFx0XHRvLnN0YXlPcGVuID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHR0bXAgPSAkKGRvY3VtZW50KTtcclxuXHRcdGlmIChiYXNlLmVsLm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50KSB7XHJcblx0XHRcdHRtcCA9IHRtcC5hZGQoYmFzZS5lbC5vd25lckRvY3VtZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgYmluZGluZ3MgPSAna2V5dXAgY2hlY2trZXlib2FyZCBtb3VzZWRvd24gdG91Y2hzdGFydCAnO1xyXG5cdFx0aWYgKG8uY2xvc2VCeUNsaWNrRXZlbnQpIHtcclxuXHRcdFx0YmluZGluZ3MgKz0gJ2NsaWNrICc7XHJcblx0XHR9XHJcblx0XHQvLyBkZWJvdW5jZSBiaW5kaW5ncy4uLiBzZWUgIzU0MlxyXG5cdFx0dG1wLmJpbmQoYmluZGluZ3Muc3BsaXQoJyAnKS5qb2luKGJhc2UubmFtZXNwYWNlICsgJyAnKSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQoYmFzZS50aW1lcjMpO1xyXG5cdFx0XHRiYXNlLnRpbWVyMyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0YmFzZS5jaGVja0Nsb3NlKGUpO1xyXG5cdFx0XHR9LCAxKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIERpc3BsYXkga2V5Ym9hcmQgb24gZm9jdXNcclxuXHRcdGJhc2UuJGVsXHJcblx0XHRcdC5hZGRDbGFzcyhrYmNzcy5pbnB1dCArICcgJyArIG8uY3NzLmlucHV0KVxyXG5cdFx0XHQuYXR0cih7XHJcblx0XHRcdFx0J2FyaWEtaGFzcG9wdXAnOiAndHJ1ZScsXHJcblx0XHRcdFx0J3JvbGUnOiAndGV4dGJveCdcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gc2V0IGxvY2tJbnB1dCBpZiB0aGUgZWxlbWVudCBpcyByZWFkb25seTsgb3IgbWFrZSB0aGUgZWxlbWVudCByZWFkb25seSBpZiBsb2NrSW5wdXQgaXMgc2V0XHJcblx0XHRpZiAoby5sb2NrSW5wdXQgfHwgYmFzZS5lbC5yZWFkT25seSkge1xyXG5cdFx0XHRvLmxvY2tJbnB1dCA9IHRydWU7XHJcblx0XHRcdGJhc2UuJGVsXHJcblx0XHRcdFx0LmFkZENsYXNzKGtiY3NzLmxvY2tlZClcclxuXHRcdFx0XHQuYXR0cih7XHJcblx0XHRcdFx0XHQncmVhZG9ubHknOiAncmVhZG9ubHknXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHQvLyBhZGQgZGlzYWJsZWQvcmVhZG9ubHkgY2xhc3MgLSBkeW5hbWljYWxseSB1cGRhdGVkIG9uIHJldmVhbFxyXG5cdFx0aWYgKGJhc2UuaXNVbmF2YWlsYWJsZSgpKSB7XHJcblx0XHRcdGJhc2UuJGVsLmFkZENsYXNzKGtiY3NzLm5vS2V5Ym9hcmQpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKG8ub3Blbk9uKSB7XHJcblx0XHRcdGJhc2UuYmluZEZvY3VzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWRkIHBsYWNlaG9sZGVyIGlmIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXJcclxuXHRcdGlmIChcclxuXHRcdFx0IWJhc2Uud2F0ZXJtYXJrICYmXHJcblx0XHRcdGJhc2UuZ2V0VmFsdWUoYmFzZS4kZWwpID09PSAnJyAmJlxyXG5cdFx0XHRiYXNlLmluUGxhY2Vob2xkZXIgIT09ICcnICYmXHJcblx0XHRcdGJhc2UuJGVsLmF0dHIoJ3BsYWNlaG9sZGVyJykgIT09ICcnXHJcblx0XHQpIHtcclxuXHRcdFx0Ly8gY3NzIHdhdGVybWFyayBzdHlsZSAoZGFya2VyIHRleHQpXHJcblx0XHRcdGJhc2UuJGVsLmFkZENsYXNzKGtiY3NzLnBsYWNlaG9sZGVyKTtcclxuXHRcdFx0YmFzZS5zZXRWYWx1ZShiYXNlLmluUGxhY2Vob2xkZXIsIGJhc2UuJGVsKTtcclxuXHRcdH1cclxuXHJcblx0XHRiYXNlLiRlbC50cmlnZ2VyKGtiZXZlbnRzLmtiSW5pdCwgW2Jhc2UsIGJhc2UuZWxdKTtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplZCB3aXRoIGtleWJvYXJkIG9wZW5cclxuXHRcdGlmIChvLmFsd2F5c09wZW4pIHtcclxuXHRcdFx0YmFzZS5yZXZlYWwoKTtcclxuXHRcdH1cclxuXHRcdGJhc2UuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdH07XHJcblxyXG5cdGJhc2UudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCFiYXNlLmhhc0tleWJvYXJkKCkpIHsgcmV0dXJuOyB9XHJcblx0XHR2YXIgJHRvZ2dsZSA9IGJhc2UuJGtleWJvYXJkLmZpbmQoJy4nICsgJGtleWJvYXJkLmNzcy5rZXlUb2dnbGUpLFxyXG5cdFx0XHRsb2NrZWQgPSAhYmFzZS5lbmFibGVkO1xyXG5cdFx0Ly8gcHJldmVudCBwaHlzaWNhbCBrZXlib2FyZCBmcm9tIHdvcmtpbmdcclxuXHRcdGJhc2UucHJldmlldy5yZWFkb25seSA9IGxvY2tlZCB8fCBiYXNlLm9wdGlvbnMubG9ja0lucHV0O1xyXG5cdFx0Ly8gZGlzYWJsZSBhbGwgYnV0dG9uc1xyXG5cdFx0YmFzZS4ka2V5Ym9hcmRcclxuXHRcdFx0LnRvZ2dsZUNsYXNzKCRrZXlib2FyZC5jc3Mua2V5RGlzYWJsZWQsIGxvY2tlZClcclxuXHRcdFx0LmZpbmQoJy4nICsgJGtleWJvYXJkLmNzcy5rZXlCdXR0b24pXHJcblx0XHRcdC5ub3QoJHRvZ2dsZSlcclxuXHRcdFx0LmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCBsb2NrZWQpXHJcblx0XHRcdC5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHRoaXMuZGlzYWJsZWQgPSBsb2NrZWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0JHRvZ2dsZS50b2dnbGVDbGFzcygka2V5Ym9hcmQuY3NzLmtleURpc2FibGVkLCBsb2NrZWQpO1xyXG5cdFx0Ly8gc3RvcCBhdXRvIHR5cGluZ1xyXG5cdFx0aWYgKGxvY2tlZCAmJiBiYXNlLnR5cGluZ19vcHRpb25zKSB7XHJcblx0XHRcdGJhc2UudHlwaW5nX29wdGlvbnMudGV4dCA9ICcnO1xyXG5cdFx0fVxyXG5cdFx0Ly8gYWxsb3cgY2hhaW5pbmdcclxuXHRcdHJldHVybiBiYXNlO1xyXG5cdH07XHJcblxyXG5cdGJhc2Uuc2V0Q3VycmVudCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBrYmNzcyA9ICRrZXlib2FyZC5jc3MsXHJcblx0XHRcdC8vIGNsb3NlIGFueSBcImlzQ3VycmVudFwiIGtleWJvYXJkIChqdXN0IGluIGNhc2UgdGhleSBhcmUgYWx3YXlzIG9wZW4pXHJcblx0XHRcdCRjdXJyZW50ID0gJCgnLicgKyBrYmNzcy5pc0N1cnJlbnQpLFxyXG5cdFx0XHRrYiA9ICRjdXJyZW50LmRhdGEoJ2tleWJvYXJkJyk7XHJcblx0XHQvLyBjbG9zZSBrZXlib2FyZCwgaWYgbm90IHNlbGZcclxuXHRcdGlmICghJC5pc0VtcHR5T2JqZWN0KGtiKSAmJiBrYi5lbCAhPT0gYmFzZS5lbCkge1xyXG5cdFx0XHRrYi5jbG9zZShrYi5vcHRpb25zLmF1dG9BY2NlcHQgPyAndHJ1ZScgOiBmYWxzZSk7XHJcblx0XHR9XHJcblx0XHQkY3VycmVudC5yZW1vdmVDbGFzcyhrYmNzcy5pc0N1cnJlbnQpO1xyXG5cdFx0Ly8gdWkta2V5Ym9hcmQtaGFzLWZvY3VzIGlzIGFwcGxpZWQgaW4gY2FzZSBtdWx0aXBsZSBrZXlib2FyZHMgaGF2ZVxyXG5cdFx0Ly8gYWx3YXlzT3BlbiA9IHRydWUgYW5kIGFyZSBzdGFja2VkXHJcblx0XHQkKCcuJyArIGtiY3NzLmhhc0ZvY3VzKS5yZW1vdmVDbGFzcyhrYmNzcy5oYXNGb2N1cyk7XHJcblxyXG5cdFx0YmFzZS4kZWwuYWRkQ2xhc3Moa2Jjc3MuaXNDdXJyZW50KTtcclxuXHRcdGJhc2UuJHByZXZpZXcuZm9jdXMoKTtcclxuXHRcdGJhc2UuJGtleWJvYXJkLmFkZENsYXNzKGtiY3NzLmhhc0ZvY3VzKTtcclxuXHRcdGJhc2UuaXNDdXJyZW50KHRydWUpO1xyXG5cdFx0YmFzZS5pc09wZW4gPSB0cnVlO1xyXG5cdH07XHJcblxyXG5cdGJhc2UuaXNVbmF2YWlsYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0YmFzZS4kZWwuaXMoJzpkaXNhYmxlZCcpIHx8IChcclxuXHRcdFx0XHQhYmFzZS5vcHRpb25zLmFjdGl2ZU9uUmVhZG9ubHkgJiZcclxuXHRcdFx0XHRiYXNlLiRlbC5hdHRyKCdyZWFkb25seScpICYmXHJcblx0XHRcdFx0IWJhc2UuJGVsLmhhc0NsYXNzKCRrZXlib2FyZC5jc3MubG9ja2VkKVxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdH07XHJcblxyXG5cdGJhc2UuaXNDdXJyZW50ID0gZnVuY3Rpb24gKHNldCkge1xyXG5cdFx0dmFyIGN1ciA9ICRrZXlib2FyZC5jdXJyZW50S2V5Ym9hcmQgfHwgZmFsc2U7XHJcblx0XHRpZiAoc2V0KSB7XHJcblx0XHRcdGN1ciA9ICRrZXlib2FyZC5jdXJyZW50S2V5Ym9hcmQgPSBiYXNlLmVsO1xyXG5cdFx0fSBlbHNlIGlmIChzZXQgPT09IGZhbHNlICYmIGN1ciA9PT0gYmFzZS5lbCkge1xyXG5cdFx0XHRjdXIgPSAka2V5Ym9hcmQuY3VycmVudEtleWJvYXJkID0gJyc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gY3VyID09PSBiYXNlLmVsO1xyXG5cdH07XHJcblxyXG5cdGJhc2UuaGFzS2V5Ym9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gYmFzZS4ka2V5Ym9hcmQgJiYgYmFzZS4ka2V5Ym9hcmQubGVuZ3RoID4gMDtcclxuXHR9O1xyXG5cclxuXHRiYXNlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBiYXNlLmhhc0tleWJvYXJkKCkgPyBiYXNlLiRrZXlib2FyZC5pcygnOnZpc2libGUnKSA6IGZhbHNlO1xyXG5cdH07XHJcblxyXG5cdGJhc2Uuc2V0Rm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgJGVsID0gYmFzZS4kcHJldmlldyB8fCBiYXNlLiRlbDtcclxuXHRcdGlmICghby5ub0ZvY3VzKSB7XHJcblx0XHRcdCRlbC5mb2N1cygpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJhc2UuaXNDb250ZW50RWRpdGFibGUpIHtcclxuXHRcdFx0JGtleWJvYXJkLnNldEVkaXRhYmxlQ2FyZXQoJGVsLCBiYXNlLmxhc3Quc3RhcnQsIGJhc2UubGFzdC5lbmQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JGtleWJvYXJkLmNhcmV0KCRlbCwgYmFzZS5sYXN0KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRiYXNlLmZvY3VzT24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIWJhc2UgJiYgYmFzZS5lbC5hY3RpdmUpIHtcclxuXHRcdFx0Ly8ga2V5Ym9hcmQgd2FzIGRlc3Ryb3llZFxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRpZiAoIWJhc2UuaXNWaXNpYmxlKCkpIHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KGJhc2UudGltZXIpO1xyXG5cdFx0XHRiYXNlLnJldmVhbCgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8ga2V5Ym9hcmQgYWxyZWFkeSBvcGVuLCBtYWtlIGl0IHRoZSBjdXJyZW50IGtleWJvYXJkXHJcblx0XHRcdGJhc2Uuc2V0Q3VycmVudCgpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIGFkZCByZWRyYXcgbWV0aG9kIHRvIG1ha2UgQVBJIG1vcmUgY2xlYXJcclxuXHRiYXNlLnJlZHJhdyA9IGZ1bmN0aW9uIChsYXlvdXQpIHtcclxuXHRcdGlmIChsYXlvdXQpIHtcclxuXHRcdFx0Ly8gYWxsb3cgdXBkYXRpbmcgdGhlIGxheW91dCBieSBjYWxsaW5nIHJlZHJhd1xyXG5cdFx0XHRiYXNlLm9wdGlvbnMubGF5b3V0ID0gbGF5b3V0O1xyXG5cdFx0fVxyXG5cdFx0Ly8gdXBkYXRlIGtleWJvYXJkIGFmdGVyIGEgbGF5b3V0IGNoYW5nZVxyXG5cdFx0aWYgKGJhc2UuJGtleWJvYXJkLmxlbmd0aCkge1xyXG5cclxuXHRcdFx0YmFzZS5sYXN0LnByZVZhbCA9ICcnICsgYmFzZS5sYXN0LnZhbDtcclxuXHRcdFx0YmFzZS5zYXZlTGFzdENoYW5nZSgpO1xyXG5cdFx0XHRiYXNlLnNldFZhbHVlKGJhc2UubGFzdC52YWwsIGJhc2UuJGVsKTtcclxuXHJcblx0XHRcdGJhc2UucmVtb3ZlS2V5Ym9hcmQoKTtcclxuXHRcdFx0YmFzZS5zaGlmdEFjdGl2ZSA9IGJhc2UuYWx0QWN0aXZlID0gYmFzZS5tZXRhQWN0aXZlID0gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRiYXNlLmlzT3BlbiA9IG8uYWx3YXlzT3BlbjtcclxuXHRcdGJhc2UucmV2ZWFsKHRydWUpO1xyXG5cdFx0cmV0dXJuIGJhc2U7XHJcblx0fTtcclxuXHJcblx0YmFzZS5yZXZlYWwgPSBmdW5jdGlvbiAocmVkcmF3KSB7XHJcblx0XHR2YXIgdGVtcCxcclxuXHRcdFx0YWxyZWFkeU9wZW4gPSBiYXNlLmlzT3BlbixcclxuXHRcdFx0a2Jjc3MgPSAka2V5Ym9hcmQuY3NzO1xyXG5cdFx0YmFzZS5vcGVuaW5nID0gIWFscmVhZHlPcGVuO1xyXG5cdFx0Ly8gcmVtb3ZlIGFsbCAnZXh0cmEnIGtleWJvYXJkcyBieSBjYWxsaW5nIGNsb3NlIGZ1bmN0aW9uXHJcblx0XHQkKCcuJyArIGtiY3NzLmtleWJvYXJkKS5ub3QoJy4nICsga2Jjc3MuYWx3YXlzT3BlbikuZWFjaChmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIga2IgPSAkKHRoaXMpLmRhdGEoJ2tleWJvYXJkJyk7XHJcblx0XHRcdGlmICghJC5pc0VtcHR5T2JqZWN0KGtiKSkge1xyXG5cdFx0XHRcdC8vIHRoaXMgY2xvc2VzIHByZXZpb3VzIGtleWJvYXJkIHdoZW4gY2xpY2tpbmcgYW5vdGhlciBpbnB1dCAtIHNlZSAjNTE1XHJcblx0XHRcdFx0a2IuY2xvc2Uoa2Iub3B0aW9ucy5hdXRvQWNjZXB0ID8gJ3RydWUnIDogZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBEb24ndCBvcGVuIGlmIGRpc2FibGVkXHJcblx0XHRpZiAoYmFzZS5pc1VuYXZhaWxhYmxlKCkpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0YmFzZS4kZWwucmVtb3ZlQ2xhc3Moa2Jjc3Mubm9LZXlib2FyZCk7XHJcblxyXG5cdFx0Ly8gVW5iaW5kIGZvY3VzIHRvIHByZXZlbnQgcmVjdXJzaW9uIC0gb3Blbk9uIG1heSBiZSBlbXB0eSBpZiBrZXlib2FyZCBpcyBvcGVuZWQgZXh0ZXJuYWxseVxyXG5cdFx0aWYgKG8ub3Blbk9uKSB7XHJcblx0XHRcdGJhc2UuJGVsLnVuYmluZCgkLnRyaW0oKG8ub3Blbk9uICsgJyAnKS5zcGxpdCgvXFxzKy8pLmpvaW4oYmFzZS5uYW1lc3BhY2UgKyAnICcpKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYnVpbGQga2V5Ym9hcmQgaWYgaXQgZG9lc24ndCBleGlzdDsgb3IgYXR0YWNoIGtleWJvYXJkIGlmIGl0IHdhcyByZW1vdmVkLCBidXQgbm90IGNsZWFyZWRcclxuXHRcdGlmICghYmFzZS4ka2V5Ym9hcmQgfHwgYmFzZS4ka2V5Ym9hcmQgJiZcclxuXHRcdFx0KCFiYXNlLiRrZXlib2FyZC5sZW5ndGggfHwgJC5jb250YWlucyhiYXNlLmVsLm93bmVyRG9jdW1lbnQuYm9keSwgYmFzZS4ka2V5Ym9hcmRbMF0pKSkge1xyXG5cdFx0XHRiYXNlLnN0YXJ0dXAoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjbGVhciB3YXRlcm1hcmtcclxuXHRcdGlmICghYmFzZS53YXRlcm1hcmsgJiYgYmFzZS5nZXRWYWx1ZSgpID09PSBiYXNlLmluUGxhY2Vob2xkZXIpIHtcclxuXHRcdFx0YmFzZS4kZWwucmVtb3ZlQ2xhc3Moa2Jjc3MucGxhY2Vob2xkZXIpO1xyXG5cdFx0XHRiYXNlLnNldFZhbHVlKCcnLCBiYXNlLiRlbCk7XHJcblx0XHR9XHJcblx0XHQvLyBzYXZlIHN0YXJ0aW5nIGNvbnRlbnQsIGluIGNhc2Ugd2UgY2FuY2VsXHJcblx0XHRiYXNlLm9yaWdpbmFsQ29udGVudCA9IGJhc2UuaXNDb250ZW50RWRpdGFibGUgP1xyXG5cdFx0XHRiYXNlLiRlbC5odG1sKCkgOlxyXG5cdFx0XHRiYXNlLmdldFZhbHVlKGJhc2UuJGVsKTtcclxuXHRcdGlmIChiYXNlLmVsICE9PSBiYXNlLnByZXZpZXcgJiYgIWJhc2UuaXNDb250ZW50RWRpdGFibGUpIHtcclxuXHRcdFx0YmFzZS5zZXRWYWx1ZShiYXNlLm9yaWdpbmFsQ29udGVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZGlzYWJsZS9lbmFibGUgYWNjZXB0IGJ1dHRvblxyXG5cdFx0aWYgKG8uYWNjZXB0VmFsaWQgJiYgby5jaGVja1ZhbGlkT25Jbml0KSB7XHJcblx0XHRcdGJhc2UuY2hlY2tWYWxpZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChvLnJlc2V0RGVmYXVsdCkge1xyXG5cdFx0XHRiYXNlLnNoaWZ0QWN0aXZlID0gYmFzZS5hbHRBY3RpdmUgPSBiYXNlLm1ldGFBY3RpdmUgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGJhc2Uuc2hvd1NldCgpO1xyXG5cclxuXHRcdC8vIGJlZm9yZVZpc2libGUgZXZlbnRcclxuXHRcdGlmICghYmFzZS5pc1Zpc2libGUoKSkge1xyXG5cdFx0XHRiYXNlLiRlbC50cmlnZ2VyKCRrZXlib2FyZC5ldmVudHMua2JCZWZvcmVWaXNpYmxlLCBbYmFzZSwgYmFzZS5lbF0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKFxyXG5cdFx0XHRiYXNlLmluaXRpYWxpemVkIHx8XHJcblx0XHRcdG8uaW5pdGlhbEZvY3VzIHx8XHJcblx0XHRcdCggIW8uaW5pdGlhbEZvY3VzICYmIGJhc2UuJGVsLmhhc0NsYXNzKCRrZXlib2FyZC5jc3MuaW5pdGlhbEZvY3VzKSApXHJcblx0XHQpIHtcclxuXHRcdFx0YmFzZS5zZXRDdXJyZW50KCk7XHJcblx0XHR9XHJcblx0XHQvLyB1cGRhdGUga2V5Ym9hcmQgLSBlbmFibGVkIG9yIGRpc2FibGVkP1xyXG5cdFx0YmFzZS50b2dnbGUoKTtcclxuXHJcblx0XHQvLyBzaG93IGtleWJvYXJkXHJcblx0XHRiYXNlLiRrZXlib2FyZC5zaG93KCk7XHJcblxyXG5cdFx0Ly8gYWRqdXN0IGtleWJvYXJkIHByZXZpZXcgd2luZG93IHdpZHRoIC0gc2F2ZSB3aWR0aCBzbyBJRSB3b24ndCBrZWVwIGV4cGFuZGluZyAoZml4IGlzc3VlICM2KVxyXG5cdFx0aWYgKG8udXNlUHJldmlldyAmJiAka2V5Ym9hcmQubXNpZSkge1xyXG5cdFx0XHRpZiAodHlwZW9mIGJhc2Uud2lkdGggPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0YmFzZS4kcHJldmlldy5oaWRlKCk7IC8vIHByZXZpZXcgaXMgMTAwJSBicm93c2VyIHdpZHRoIGluIElFNywgc28gaGlkZSB0aGUgZGFtbiB0aGluZ1xyXG5cdFx0XHRcdGJhc2Uud2lkdGggPSBNYXRoLmNlaWwoYmFzZS4ka2V5Ym9hcmQud2lkdGgoKSk7IC8vIHNldCBpbnB1dCB3aWR0aCB0byBtYXRjaCB0aGUgd2lkZXN0IGtleWJvYXJkIHJvd1xyXG5cdFx0XHRcdGJhc2UuJHByZXZpZXcuc2hvdygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJhc2UuJHByZXZpZXcud2lkdGgoYmFzZS53aWR0aCk7XHJcblx0XHR9XHJcblxyXG5cdFx0YmFzZS5yZXBvc2l0aW9uKCk7XHJcblxyXG5cdFx0YmFzZS5jaGVja0RlY2ltYWwoKTtcclxuXHJcblx0XHQvLyBnZXQgcHJldmlldyBhcmVhIGxpbmUgaGVpZ2h0XHJcblx0XHQvLyBhZGQgcm91Z2hseSA0cHggdG8gZ2V0IGxpbmUgaGVpZ2h0IGZyb20gZm9udCBoZWlnaHQsIHdvcmtzIHdlbGwgZm9yIGZvbnQtc2l6ZXMgZnJvbSAxNC0zNnB4XHJcblx0XHQvLyBuZWVkZWQgZm9yIHRleHRhcmVhc1xyXG5cdFx0YmFzZS5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoYmFzZS4kcHJldmlldy5jc3MoJ2xpbmVIZWlnaHQnKSwgMTApIHx8XHJcblx0XHRcdHBhcnNlSW50KGJhc2UuJHByZXZpZXcuY3NzKCdmb250LXNpemUnKSwgMTApICsgNDtcclxuXHJcblx0XHRpZiAoby5jYXJldFRvRW5kKSB7XHJcblx0XHRcdHRlbXAgPSBiYXNlLmlzQ29udGVudEVkaXRhYmxlID8gJGtleWJvYXJkLmdldEVkaXRhYmxlTGVuZ3RoKGJhc2UuZWwpIDogYmFzZS5vcmlnaW5hbENvbnRlbnQubGVuZ3RoO1xyXG5cdFx0XHRiYXNlLnNhdmVDYXJldCh0ZW1wLCB0ZW1wKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJRSBjYXJldCBoYXh4MHJzXHJcblx0XHRpZiAoJGtleWJvYXJkLmFsbGllKSB7XHJcblx0XHRcdC8vIHNvbWV0aW1lcyBlbmQgPSAwIHdoaWxlIHN0YXJ0IGlzID4gMFxyXG5cdFx0XHRpZiAoYmFzZS5sYXN0LmVuZCA9PT0gMCAmJiBiYXNlLmxhc3Quc3RhcnQgPiAwKSB7XHJcblx0XHRcdFx0YmFzZS5sYXN0LmVuZCA9IGJhc2UubGFzdC5zdGFydDtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBJRSB3aWxsIGhhdmUgc3RhcnQgLTEsIGVuZCBvZiAwIHdoZW4gbm90IGZvY3VzZWQgKHNlZSBkZW1vOiBodHRwczovL2pzZmlkZGxlLm5ldC9Nb3R0aWUvZmdyeVEvMy8pXHJcblx0XHRcdGlmIChiYXNlLmxhc3Quc3RhcnQgPCAwKSB7XHJcblx0XHRcdFx0Ly8gZW5zdXJlIGNhcmV0IGlzIGF0IHRoZSBlbmQgb2YgdGhlIHRleHQgKG5lZWRlZCBmb3IgSUUpXHJcblx0XHRcdFx0YmFzZS5sYXN0LnN0YXJ0ID0gYmFzZS5sYXN0LmVuZCA9IGJhc2Uub3JpZ2luYWxDb250ZW50Lmxlbmd0aDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChhbHJlYWR5T3BlbiB8fCByZWRyYXcpIHtcclxuXHRcdFx0Ly8gcmVzdG9yZSBjYXJldCBwb3NpdGlvbiAodXNlckNsb3NlZClcclxuXHRcdFx0JGtleWJvYXJkLmNhcmV0KGJhc2UuJHByZXZpZXcsIGJhc2UubGFzdCk7XHJcblx0XHRcdGJhc2Uub3BlbmluZyA9IGZhbHNlO1xyXG5cdFx0XHRyZXR1cm4gYmFzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBvcGVuaW5nIGtleWJvYXJkIGZsYWc7IGRlbGF5IGFsbG93cyBzd2l0Y2hpbmcgYmV0d2VlbiBrZXlib2FyZHMgd2l0aG91dCBpbW1lZGlhdGVseSBjbG9zaW5nXHJcblx0XHQvLyB0aGUga2V5Ym9hcmRcclxuXHRcdGJhc2UudGltZXIyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciB1bmRlZjtcclxuXHRcdFx0YmFzZS5vcGVuaW5nID0gZmFsc2U7XHJcblx0XHRcdC8vIE51bWJlciBpbnB1dHMgZG9uJ3Qgc3VwcG9ydCBzZWxlY3Rpb25TdGFydCBhbmQgc2VsZWN0aW9uRW5kXHJcblx0XHRcdC8vIE51bWJlci9lbWFpbCBpbnB1dHMgZG9uJ3Qgc3VwcG9ydCBzZWxlY3Rpb25TdGFydCBhbmQgc2VsZWN0aW9uRW5kXHJcblx0XHRcdGlmICghLyhudW1iZXJ8ZW1haWwpL2kudGVzdChiYXNlLmVsLnR5cGUpICYmICFvLmNhcmV0VG9FbmQpIHtcclxuXHRcdFx0XHQvLyBjYXJldCBwb3NpdGlvbiBpcyBhbHdheXMgMCwwIGluIHdlYmtpdDsgYW5kIG5vdGhpbmcgaXMgZm9jdXNlZCBhdCB0aGlzIHBvaW50Li4uIG9kZFxyXG5cdFx0XHRcdC8vIHNhdmUgY2FyZXQgcG9zaXRpb24gaW4gdGhlIGlucHV0IHRvIHRyYW5zZmVyIGl0IHRvIHRoZSBwcmV2aWV3XHJcblx0XHRcdFx0Ly8gaW5zaWRlIGRlbGF5IHRvIGdldCBjb3JyZWN0IGNhcmV0IHBvc2l0aW9uXHJcblx0XHRcdFx0YmFzZS5zYXZlQ2FyZXQodW5kZWYsIHVuZGVmLCBiYXNlLiRlbCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG8uaW5pdGlhbEZvY3VzIHx8IGJhc2UuJGVsLmhhc0NsYXNzKCRrZXlib2FyZC5jc3MuaW5pdGlhbEZvY3VzKSkge1xyXG5cdFx0XHRcdCRrZXlib2FyZC5jYXJldChiYXNlLiRwcmV2aWV3LCBiYXNlLmxhc3QpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHNhdmUgZXZlbnQgdGltZSBmb3Iga2V5Ym9hcmRzIHdpdGggc3RheU9wZW46IHRydWVcclxuXHRcdFx0YmFzZS5sYXN0LmV2ZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cdFx0XHRiYXNlLiRlbC50cmlnZ2VyKCRrZXlib2FyZC5ldmVudHMua2JWaXNpYmxlLCBbYmFzZSwgYmFzZS5lbF0pO1xyXG5cdFx0XHRiYXNlLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0Ly8gZ2V0IHVwZGF0ZWQgY2FyZXQgaW5mb3JtYXRpb24gYWZ0ZXIgdmlzaWJsZSBldmVudCAtIGZpeGVzICMzMzFcclxuXHRcdFx0XHRpZiAoYmFzZSkgeyAvLyBDaGVjayBpZiBiYXNlIGV4aXN0cywgdGhpcyBpcyBhIGNhc2Ugd2hlbiBkZXN0cm95IGlzIGNhbGxlZCwgYmVmb3JlIHRpbWVycyBmaXJlXHJcblx0XHRcdFx0XHRiYXNlLnNhdmVDYXJldCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgMjAwKTtcclxuXHRcdH0sIDEwKTtcclxuXHRcdC8vIHJldHVybiBiYXNlIHRvIGFsbG93IGNoYWluaW5nIGluIHR5cGluZyBleHRlbnNpb25cclxuXHRcdHJldHVybiBiYXNlO1xyXG5cdH07XHJcblxyXG5cdGJhc2UudXBkYXRlTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBjaGFuZ2UgbGFuZ3VhZ2UgaWYgbGF5b3V0IGlzIG5hbWVkIHNvbWV0aGluZyBsaWtlICdmcmVuY2gtYXplcnR5LTEnXHJcblx0XHR2YXIgbGF5b3V0cyA9ICRrZXlib2FyZC5sYXlvdXRzLFxyXG5cdFx0XHRsYW5nID0gby5sYW5ndWFnZSB8fCBsYXlvdXRzW28ubGF5b3V0XSAmJiBsYXlvdXRzW28ubGF5b3V0XS5sYW5nICYmXHJcblx0XHRcdFx0bGF5b3V0c1tvLmxheW91dF0ubGFuZyB8fCBbby5sYW5ndWFnZSB8fCAnZW4nXSxcclxuXHRcdFx0a2JsYW5nID0gJGtleWJvYXJkLmxhbmd1YWdlO1xyXG5cclxuXHRcdC8vIHNvbWUgbGFuZ3VhZ2VzIGluY2x1ZGUgYSBkYXNoLCBlLmcuICdlbi1nYicgb3IgJ2ZyLWNhJ1xyXG5cdFx0Ly8gYWxsb3cgby5sYW5ndWFnZSB0byBiZSBhIHN0cmluZyBvciBhcnJheS4uLlxyXG5cdFx0Ly8gYXJyYXkgaXMgZm9yIGZ1dHVyZSBleHBhbnNpb24gd2hlcmUgYSBsYXlvdXQgY2FuIGJlIHNldCBmb3IgbXVsdGlwbGUgbGFuZ3VhZ2VzXHJcblx0XHRsYW5nID0gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsYW5nKSA9PT0gJ1tvYmplY3QgQXJyYXldJyA/IGxhbmdbMF0gOiBsYW5nKTtcclxuXHRcdGJhc2UubGFuZ3VhZ2UgPSBsYW5nO1xyXG5cdFx0bGFuZyA9IGxhbmcuc3BsaXQoJy0nKVswXTtcclxuXHJcblx0XHQvLyBzZXQga2V5Ym9hcmQgbGFuZ3VhZ2VcclxuXHRcdG8uZGlzcGxheSA9ICQuZXh0ZW5kKHRydWUsIHt9LFxyXG5cdFx0XHRrYmxhbmcuZW4uZGlzcGxheSxcclxuXHRcdFx0a2JsYW5nW2xhbmddICYmIGtibGFuZ1tsYW5nXS5kaXNwbGF5IHx8IHt9LFxyXG5cdFx0XHRiYXNlLnNldHRpbmdzLmRpc3BsYXlcclxuXHRcdCk7XHJcblx0XHRvLmNvbWJvcyA9ICQuZXh0ZW5kKHRydWUsIHt9LFxyXG5cdFx0XHRrYmxhbmcuZW4uY29tYm9zLFxyXG5cdFx0XHRrYmxhbmdbbGFuZ10gJiYga2JsYW5nW2xhbmddLmNvbWJvcyB8fCB7fSxcclxuXHRcdFx0YmFzZS5zZXR0aW5ncy5jb21ib3NcclxuXHRcdCk7XHJcblx0XHRvLndoZWVsTWVzc2FnZSA9IGtibGFuZ1tsYW5nXSAmJiBrYmxhbmdbbGFuZ10ud2hlZWxNZXNzYWdlIHx8IGtibGFuZy5lbi53aGVlbE1lc3NhZ2U7XHJcblx0XHQvLyBydGwgY2FuIGJlIGluIHRoZSBsYXlvdXQgb3IgaW4gdGhlIGxhbmd1YWdlIGRlZmluaXRpb247IGRlZmF1bHRzIHRvIGZhbHNlXHJcblx0XHRvLnJ0bCA9IGxheW91dHNbby5sYXlvdXRdICYmIGxheW91dHNbby5sYXlvdXRdLnJ0bCB8fCBrYmxhbmdbbGFuZ10gJiYga2JsYW5nW2xhbmddLnJ0bCB8fCBmYWxzZTtcclxuXHJcblx0XHQvLyBzYXZlIGRlZmF1bHQgcmVnZXggKGluIGNhc2UgbG9hZGluZyBhbm90aGVyIGxheW91dCBjaGFuZ2VzIGl0KVxyXG5cdFx0aWYgKGtibGFuZ1tsYW5nXSAmJiBrYmxhbmdbbGFuZ10uY29tYm9SZWdleCkge1xyXG5cdFx0XHRiYXNlLnJlZ2V4ID0ga2JsYW5nW2xhbmddLmNvbWJvUmVnZXg7XHJcblx0XHR9XHJcblx0XHQvLyBkZXRlcm1pbmUgaWYgVVMgJy4nIG9yIEV1cm9wZWFuICcsJyBzeXN0ZW0gYmVpbmcgdXNlZFxyXG5cdFx0YmFzZS5kZWNpbWFsID0gL15cXC4vLnRlc3Qoby5kaXNwbGF5LmRlYyk7XHJcblx0XHRiYXNlLiRlbFxyXG5cdFx0XHQudG9nZ2xlQ2xhc3MoJ3J0bCcsIG8ucnRsKVxyXG5cdFx0XHQuY3NzKCdkaXJlY3Rpb24nLCBvLnJ0bCA/ICdydGwnIDogJycpO1xyXG5cdH07XHJcblxyXG5cdGJhc2Uuc3RhcnR1cCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBrYmNzcyA9ICRrZXlib2FyZC5jc3M7XHJcblx0XHQvLyBlbnN1cmUgYmFzZS4kcHJldmlldyBpcyBkZWZpbmVkOyBidXQgZG9uJ3Qgb3ZlcndyaXRlIGl0IGlmIGtleWJvYXJkIGlzIGFsd2F5cyB2aXNpYmxlXHJcblx0XHRpZiAoISgoby5hbHdheXNPcGVuIHx8IG8udXNlckNsb3NlZCkgJiYgYmFzZS4kcHJldmlldykpIHtcclxuXHRcdFx0YmFzZS5tYWtlUHJldmlldygpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFiYXNlLmhhc0tleWJvYXJkKCkpIHtcclxuXHRcdFx0Ly8gY3VzdG9tIGxheW91dCAtIGNyZWF0ZSBhIHVuaXF1ZSBsYXlvdXQgbmFtZSBiYXNlZCBvbiB0aGUgaGFzaFxyXG5cdFx0XHRpZiAoby5sYXlvdXQgPT09ICdjdXN0b20nKSB7XHJcblx0XHRcdFx0by5sYXlvdXRIYXNoID0gJ2N1c3RvbScgKyBiYXNlLmN1c3RvbUhhc2goKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRiYXNlLmxheW91dCA9IG8ubGF5b3V0ID09PSAnY3VzdG9tJyA/IG8ubGF5b3V0SGFzaCA6IG8ubGF5b3V0O1xyXG5cdFx0XHRiYXNlLmxhc3QubGF5b3V0ID0gYmFzZS5sYXlvdXQ7XHJcblxyXG5cdFx0XHRiYXNlLnVwZGF0ZUxhbmd1YWdlKCk7XHJcblx0XHRcdGlmICh0eXBlb2YgJGtleWJvYXJkLmJ1aWx0TGF5b3V0c1tiYXNlLmxheW91dF0gPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBvLmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0Ly8gY3JlYXRlIG11c3QgY2FsbCBidWlsZEtleWJvYXJkKCkgZnVuY3Rpb247IG9yIGNyZWF0ZSBpdCdzIG93biBrZXlib2FyZFxyXG5cdFx0XHRcdFx0YmFzZS4ka2V5Ym9hcmQgPSBvLmNyZWF0ZShiYXNlKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCFiYXNlLiRrZXlib2FyZC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGJhc2UuYnVpbGRLZXlib2FyZChiYXNlLmxheW91dCwgdHJ1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGJhc2UuJGtleWJvYXJkID0gJGtleWJvYXJkLmJ1aWx0TGF5b3V0c1tiYXNlLmxheW91dF0uJGtleWJvYXJkLmNsb25lKCk7XHJcblx0XHRcdGJhc2UuJGtleWJvYXJkLmRhdGEoJ2tleWJvYXJkJywgYmFzZSk7XHJcblx0XHRcdGlmICgoYmFzZS5lbC5pZCB8fCAnJykgIT09ICcnKSB7XHJcblx0XHRcdFx0Ly8gYWRkIElEIHRvIGtleWJvYXJkIGZvciBzdHlsaW5nIHB1cnBvc2VzXHJcblx0XHRcdFx0YmFzZS4ka2V5Ym9hcmQuYXR0cignaWQnLCBiYXNlLmVsLmlkICsgJGtleWJvYXJkLmNzcy5pZFN1ZmZpeCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGJhc2UubWFrZVByZXZpZXcoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBZGQgbGF5b3V0IGFuZCBsYWd1YWdlIGRhdGEtYXR0aWJ1dGVzXHJcblx0XHRiYXNlLiRrZXlib2FyZFxyXG5cdFx0XHQuYXR0cignZGF0YS0nICsga2Jjc3Mua2V5Ym9hcmQgKyAnLWxheW91dCcsIG8ubGF5b3V0KVxyXG5cdFx0XHQuYXR0cignZGF0YS0nICsga2Jjc3Mua2V5Ym9hcmQgKyAnLWxhbmd1YWdlJywgYmFzZS5sYW5ndWFnZSk7XHJcblxyXG5cdFx0YmFzZS4kZGVjQnRuID0gYmFzZS4ka2V5Ym9hcmQuZmluZCgnLicgKyBrYmNzcy5rZXlQcmVmaXggKyAnZGVjJyk7XHJcblx0XHQvLyBhZGQgZW50ZXIgdG8gYWxsb3dlZCBrZXlzOyBmaXhlcyAjMTkwXHJcblx0XHRpZiAoby5lbnRlck5hdmlnYXRpb24gfHwgYmFzZS5pc1RleHRBcmVhKSB7XHJcblx0XHRcdGJhc2UuYWx3YXlzQWxsb3dlZC5wdXNoKCRrZXlib2FyZC5rZXlDb2Rlcy5lbnRlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0YmFzZS5iaW5kS2V5Ym9hcmQoKTtcclxuXHJcblx0XHRiYXNlLiRrZXlib2FyZC5hcHBlbmRUbyhvLmFwcGVuZExvY2FsbHkgPyBiYXNlLiRlbC5wYXJlbnQoKSA6IG8uYXBwZW5kVG8gfHwgJ2JvZHknKTtcclxuXHJcblx0XHRiYXNlLmJpbmRLZXlzKCk7XHJcblxyXG5cdFx0Ly8gcmVwb3NpdGlvbiBrZXlib2FyZCBvbiB3aW5kb3cgcmVzaXplXHJcblx0XHRpZiAoby5yZXBvc2l0aW9uICYmICQudWkgJiYgJC51aS5wb3NpdGlvbiAmJiBvLmFwcGVuZFRvID09PSAnYm9keScpIHtcclxuXHRcdFx0JCh3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScgKyBiYXNlLm5hbWVzcGFjZSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGJhc2UucmVwb3NpdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0YmFzZS5yZXBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0YmFzZS5wb3NpdGlvbiA9ICQuaXNFbXB0eU9iamVjdChvLnBvc2l0aW9uKSA/IGZhbHNlIDogby5wb3NpdGlvbjtcclxuXHRcdC8vIHBvc2l0aW9uIGFmdGVyIGtleWJvYXJkIGlzIHZpc2libGUgKHJlcXVpcmVkIGZvciBVSSBwb3NpdGlvbiB1dGlsaXR5KVxyXG5cdFx0Ly8gYW5kIGFwcHJvcHJpYXRlbHkgc2l6ZWRcclxuXHRcdGlmICgkLnVpICYmICQudWkucG9zaXRpb24gJiYgYmFzZS5wb3NpdGlvbikge1xyXG5cdFx0XHRiYXNlLnBvc2l0aW9uLm9mID1cclxuXHRcdFx0XHQvLyBnZXQgc2luZ2xlIHRhcmdldCBwb3NpdGlvblxyXG5cdFx0XHRcdGJhc2UucG9zaXRpb24ub2YgfHxcclxuXHRcdFx0XHQvLyBPUiB0YXJnZXQgc3RvcmVkIGluIGVsZW1lbnQgZGF0YSAobXVsdGlwbGUgdGFyZ2V0cylcclxuXHRcdFx0XHRiYXNlLiRlbC5kYXRhKCdrZXlib2FyZFBvc2l0aW9uJykgfHxcclxuXHRcdFx0XHQvLyBPUiBkZWZhdWx0IEAgZWxlbWVudFxyXG5cdFx0XHRcdGJhc2UuJGVsO1xyXG5cdFx0XHRiYXNlLnBvc2l0aW9uLmNvbGxpc2lvbiA9IGJhc2UucG9zaXRpb24uY29sbGlzaW9uIHx8ICdmbGlwZml0IGZsaXBmaXQnO1xyXG5cdFx0XHRiYXNlLnBvc2l0aW9uLmF0ID0gby51c2VQcmV2aWV3ID8gby5wb3NpdGlvbi5hdCA6IG8ucG9zaXRpb24uYXQyO1xyXG5cdFx0XHRpZiAoYmFzZS5pc1Zpc2libGUoKSkge1xyXG5cdFx0XHRcdGJhc2UuJGtleWJvYXJkLnBvc2l0aW9uKGJhc2UucG9zaXRpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBtYWtlIGNoYWluYWJsZVxyXG5cdFx0cmV0dXJuIGJhc2U7XHJcblx0fTtcclxuXHJcblx0YmFzZS5tYWtlUHJldmlldyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmIChvLnVzZVByZXZpZXcpIHtcclxuXHRcdFx0dmFyIGluZHgsIGF0dHJzLCBhdHRyLCByZW1vdmVkQXR0cixcclxuXHRcdFx0XHRrYmNzcyA9ICRrZXlib2FyZC5jc3M7XHJcblx0XHRcdGJhc2UuJHByZXZpZXcgPSBiYXNlLiRlbC5jbG9uZShmYWxzZSlcclxuXHRcdFx0XHQuZGF0YSgna2V5Ym9hcmQnLCBiYXNlKVxyXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyhrYmNzcy5wbGFjZWhvbGRlciArICcgJyArIGtiY3NzLmlucHV0KVxyXG5cdFx0XHRcdC5hZGRDbGFzcyhrYmNzcy5wcmV2aWV3ICsgJyAnICsgby5jc3MuaW5wdXQpXHJcblx0XHRcdFx0LmF0dHIoJ3RhYmluZGV4JywgJy0xJylcclxuXHRcdFx0XHQuc2hvdygpOyAvLyBmb3IgaGlkZGVuIGlucHV0c1xyXG5cdFx0XHRiYXNlLnByZXZpZXcgPSBiYXNlLiRwcmV2aWV3WzBdO1xyXG5cclxuXHRcdFx0Ly8gU3dpdGNoIHRoZSBudW1iZXIgaW5wdXQgZmllbGQgdG8gdGV4dCBzbyB0aGUgY2FyZXQgcG9zaXRpb25pbmcgd2lsbCB3b3JrIGFnYWluXHJcblx0XHRcdGlmIChiYXNlLnByZXZpZXcudHlwZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0XHRiYXNlLnByZXZpZXcudHlwZSA9ICd0ZXh0JztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcmVtb3ZlIGV4dHJhbmVvdXMgYXR0cmlidXRlcy5cclxuXHRcdFx0cmVtb3ZlZEF0dHIgPSAvXihkYXRhLXxpZHxhcmlhLWhhc3BvcHVwKS9pO1xyXG5cdFx0XHRhdHRycyA9IGJhc2UuJHByZXZpZXcuZ2V0KDApLmF0dHJpYnV0ZXM7XHJcblx0XHRcdGZvciAoaW5keCA9IGF0dHJzLmxlbmd0aCAtIDE7IGluZHggPj0gMDsgaW5keC0tKSB7XHJcblx0XHRcdFx0YXR0ciA9IGF0dHJzW2luZHhdICYmIGF0dHJzW2luZHhdLm5hbWU7XHJcblx0XHRcdFx0aWYgKHJlbW92ZWRBdHRyLnRlc3QoYXR0cikpIHtcclxuXHRcdFx0XHRcdC8vIHJlbW92ZSBkYXRhLWF0dHJpYnV0ZXMgLSBzZWUgIzM1MVxyXG5cdFx0XHRcdFx0YmFzZS5wcmV2aWV3LnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gYnVpbGQgcHJldmlldyBjb250YWluZXIgYW5kIGFwcGVuZCBwcmV2aWV3IGRpc3BsYXlcclxuXHRcdFx0JCgnPGRpdiAvPicpXHJcblx0XHRcdFx0LmFkZENsYXNzKGtiY3NzLndyYXBwZXIpXHJcblx0XHRcdFx0LmFwcGVuZChiYXNlLiRwcmV2aWV3KVxyXG5cdFx0XHRcdC5wcmVwZW5kVG8oYmFzZS4ka2V5Ym9hcmQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0YmFzZS4kcHJldmlldyA9IGJhc2UuJGVsO1xyXG5cdFx0XHRiYXNlLnByZXZpZXcgPSBiYXNlLmVsO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIEFkZGVkIGluIHYxLjI2LjggdG8gYWxsb3cgY2hhaW5pbmcgb2YgdGhlIGNhcmV0IGZ1bmN0aW9uLCBlLmcuXHJcblx0Ly8ga2V5Ym9hcmQucmV2ZWFsKCkuY2FyZXQoNCw1KS5pbnNlcnRUZXh0KCd0ZXN0JykuY2FyZXQoJ2VuZCcpO1xyXG5cdGJhc2UuY2FyZXQgPSBmdW5jdGlvbihwYXJhbTEsIHBhcmFtMikge1xyXG5cdFx0dmFyIHJlc3VsdCA9ICRrZXlib2FyZC5jYXJldChiYXNlLiRwcmV2aWV3LCBwYXJhbTEsIHBhcmFtMiksXHJcblx0XHRcdHdhc1NldENhcmV0ID0gcmVzdWx0IGluc3RhbmNlb2YgJDtcclxuXHRcdC8vIENhcmV0IHdhcyBzZXQsIHNhdmUgbGFzdCBwb3NpdGlvbiAmIG1ha2UgY2hhaW5hYmxlXHJcblx0XHRpZiAod2FzU2V0Q2FyZXQpIHtcclxuXHRcdFx0YmFzZS5zYXZlQ2FyZXQocmVzdWx0LnN0YXJ0LCByZXN1bHQuZW5kKTtcclxuXHRcdFx0cmV0dXJuIGJhc2U7XHJcblx0XHR9XHJcblx0XHQvLyByZXR1cm4gY2FyZXQgcG9zaXRpb24gaWYgdXNpbmcgLmNhcmV0KClcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fTtcclxuXHJcblx0YmFzZS5zYXZlQ2FyZXQgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgJGVsKSB7XHJcblx0XHRpZiAoYmFzZS5pc0N1cnJlbnQoKSkge1xyXG5cdFx0XHR2YXIgcDtcclxuXHRcdFx0aWYgKHR5cGVvZiBzdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvLyBncmFiICYgc2F2ZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uXHJcblx0XHRcdFx0cCA9ICRrZXlib2FyZC5jYXJldCgkZWwgfHwgYmFzZS4kcHJldmlldyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cCA9ICRrZXlib2FyZC5jYXJldCgkZWwgfHwgYmFzZS4kcHJldmlldywgc3RhcnQsIGVuZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0YmFzZS5sYXN0LnN0YXJ0ID0gdHlwZW9mIHN0YXJ0ID09PSAndW5kZWZpbmVkJyA/IHAuc3RhcnQgOiBzdGFydDtcclxuXHRcdFx0YmFzZS5sYXN0LmVuZCA9IHR5cGVvZiBlbmQgPT09ICd1bmRlZmluZWQnID8gcC5lbmQgOiBlbmQ7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0YmFzZS5zYXZlTGFzdENoYW5nZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuXHRcdGJhc2UubGFzdC52YWwgPSB2YWwgfHwgYmFzZS5nZXRWYWx1ZShiYXNlLiRwcmV2aWV3IHx8IGJhc2UuJGVsKTtcclxuXHRcdGlmIChiYXNlLmlzQ29udGVudEVkaXRhYmxlKSB7XHJcblx0XHRcdGJhc2UubGFzdC5lbG1zID0gYmFzZS5lbC5jbG9uZU5vZGUodHJ1ZSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0YmFzZS5zZXRTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBTZXQgc2Nyb2xsIHNvIGNhcmV0ICYgY3VycmVudCB0ZXh0IGlzIGluIHZpZXdcclxuXHRcdC8vIG5lZWRlZCBmb3IgdmlydHVhbCBrZXlib2FyZCB0eXBpbmcsIE5PVCBtYW51YWwgdHlwaW5nIC0gZml4ZXMgIzIzXHJcblx0XHRpZiAoIWJhc2UuaXNDb250ZW50RWRpdGFibGUgJiYgYmFzZS5sYXN0LnZpcnR1YWwpIHtcclxuXHJcblx0XHRcdHZhciBzY3JvbGxXaWR0aCwgY2xpZW50V2lkdGgsIGFkanVzdG1lbnQsIGRpcmVjdGlvbixcclxuXHRcdFx0XHR2YWx1ZSA9IGJhc2UubGFzdC52YWwuc3Vic3RyaW5nKDAsIE1hdGgubWF4KGJhc2UubGFzdC5zdGFydCwgYmFzZS5sYXN0LmVuZCkpO1xyXG5cclxuXHRcdFx0aWYgKCFiYXNlLiRwcmV2aWV3Q29weSkge1xyXG5cdFx0XHRcdC8vIGNsb25lIHByZXZpZXdcclxuXHRcdFx0XHRiYXNlLiRwcmV2aWV3Q29weSA9IGJhc2UuJHByZXZpZXcuY2xvbmUoKVxyXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoJ2lkJykgLy8gZml4ZXMgIzMzNFxyXG5cdFx0XHRcdFx0LmNzcyh7XHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG5cdFx0XHRcdFx0XHRsZWZ0OiAwLFxyXG5cdFx0XHRcdFx0XHR6SW5kZXg6IC0xMCxcclxuXHRcdFx0XHRcdFx0dmlzaWJpbGl0eTogJ2hpZGRlbidcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoJGtleWJvYXJkLmNzcy5pbnB1dENsb25lKTtcclxuXHRcdFx0XHQvLyBwcmV2ZW50IHN1Ym1pdHRpbmcgY29udGVudCBvbiBmb3JtIHN1Ym1pc3Npb25cclxuXHRcdFx0XHRiYXNlLiRwcmV2aWV3Q29weVswXS5kaXNhYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKCFiYXNlLmlzVGV4dEFyZWEpIHtcclxuXHRcdFx0XHRcdC8vIG1ha2UgaW5wdXQgemVyby13aWR0aCBiZWNhdXNlIHdlIG5lZWQgYW4gYWNjdXJhdGUgc2Nyb2xsV2lkdGhcclxuXHRcdFx0XHRcdGJhc2UuJHByZXZpZXdDb3B5LmNzcyh7XHJcblx0XHRcdFx0XHRcdCd3aGl0ZS1zcGFjZSc6ICdwcmUnLFxyXG5cdFx0XHRcdFx0XHQnd2lkdGgnOiAwXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG8udXNlUHJldmlldykge1xyXG5cdFx0XHRcdFx0Ly8gYWRkIGNsb25lIGluc2lkZSBvZiBwcmV2aWV3IHdyYXBwZXJcclxuXHRcdFx0XHRcdGJhc2UuJHByZXZpZXcuYWZ0ZXIoYmFzZS4kcHJldmlld0NvcHkpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBqdXN0IHNsYXAgdGhhdCB0aGluZyBpbiB0aGVyZSBzb21ld2hlcmVcclxuXHRcdFx0XHRcdGJhc2UuJGtleWJvYXJkLnByZXBlbmQoYmFzZS4kcHJldmlld0NvcHkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGJhc2UuaXNUZXh0QXJlYSkge1xyXG5cdFx0XHRcdC8vIG5lZWQgdGhlIHRleHRhcmVhIHNjcm9sbEhlaWdodCwgc28gc2V0IHRoZSBjbG9uZSB0ZXh0YXJlYSBoZWlnaHQgdG8gYmUgdGhlIGxpbmUgaGVpZ2h0XHJcblx0XHRcdFx0YmFzZS4kcHJldmlld0NvcHlcclxuXHRcdFx0XHRcdC5oZWlnaHQoYmFzZS5saW5lSGVpZ2h0KVxyXG5cdFx0XHRcdFx0LnZhbCh2YWx1ZSk7XHJcblx0XHRcdFx0Ly8gc2V0IHNjcm9sbFRvcCBmb3IgVGV4dGFyZWFcclxuXHRcdFx0XHRiYXNlLnByZXZpZXcuc2Nyb2xsVG9wID0gYmFzZS5saW5lSGVpZ2h0ICpcclxuXHRcdFx0XHRcdChNYXRoLmZsb29yKGJhc2UuJHByZXZpZXdDb3B5WzBdLnNjcm9sbEhlaWdodCAvIGJhc2UubGluZUhlaWdodCkgLSAxKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBhZGQgbm9uLWJyZWFraW5nIHNwYWNlc1xyXG5cdFx0XHRcdGJhc2UuJHByZXZpZXdDb3B5LnZhbCh2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJ1xceGEwJykpO1xyXG5cclxuXHRcdFx0XHQvLyBpZiBzY3JvbGxBZGp1c3RtZW50IG9wdGlvbiBpcyBzZXQgdG8gXCJjXCIgb3IgXCJjZW50ZXJcIiB0aGVuIGNlbnRlciB0aGUgY2FyZXRcclxuXHRcdFx0XHRhZGp1c3RtZW50ID0gL2MvaS50ZXN0KG8uc2Nyb2xsQWRqdXN0bWVudCkgPyBiYXNlLnByZXZpZXcuY2xpZW50V2lkdGggLyAyIDogby5zY3JvbGxBZGp1c3RtZW50O1xyXG5cdFx0XHRcdHNjcm9sbFdpZHRoID0gYmFzZS4kcHJldmlld0NvcHlbMF0uc2Nyb2xsV2lkdGggLSAxO1xyXG5cclxuXHRcdFx0XHQvLyBzZXQgaW5pdGlhbCBzdGF0ZSBhcyBtb3ZpbmcgcmlnaHRcclxuXHRcdFx0XHRpZiAodHlwZW9mIGJhc2UubGFzdC5zY3JvbGxXaWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdGJhc2UubGFzdC5zY3JvbGxXaWR0aCA9IHNjcm9sbFdpZHRoO1xyXG5cdFx0XHRcdFx0YmFzZS5sYXN0LmRpcmVjdGlvbiA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIGlmIGRpcmVjdGlvbiA9IHRydWU7IHdlJ3JlIHNjcm9sbGluZyB0byB0aGUgcmlnaHRcclxuXHRcdFx0XHRkaXJlY3Rpb24gPSBiYXNlLmxhc3Quc2Nyb2xsV2lkdGggPT09IHNjcm9sbFdpZHRoID9cclxuXHRcdFx0XHRcdGJhc2UubGFzdC5kaXJlY3Rpb24gOlxyXG5cdFx0XHRcdFx0YmFzZS5sYXN0LnNjcm9sbFdpZHRoIDwgc2Nyb2xsV2lkdGg7XHJcblx0XHRcdFx0Y2xpZW50V2lkdGggPSBiYXNlLnByZXZpZXcuY2xpZW50V2lkdGggLSBhZGp1c3RtZW50O1xyXG5cclxuXHRcdFx0XHQvLyBzZXQgc2Nyb2xsTGVmdCBmb3IgaW5wdXRzOyB0cnkgdG8gbWltaWMgdGhlIGluaGVyaXQgY2FyZXQgcG9zaXRpb25pbmcgKyBzY3JvbGxpbmc6XHJcblx0XHRcdFx0Ly8gaHVnIHJpZ2h0IHdoaWxlIHNjcm9sbGluZyByaWdodC4uLlxyXG5cdFx0XHRcdGlmIChkaXJlY3Rpb24pIHtcclxuXHRcdFx0XHRcdGlmIChzY3JvbGxXaWR0aCA8IGNsaWVudFdpZHRoKSB7XHJcblx0XHRcdFx0XHRcdGJhc2UucHJldmlldy5zY3JvbGxMZWZ0ID0gMDtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGJhc2UucHJldmlldy5zY3JvbGxMZWZ0ID0gc2Nyb2xsV2lkdGggLSBjbGllbnRXaWR0aDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gaHVnIGxlZnQgd2hpbGUgc2Nyb2xsaW5nIGxlZnQuLi5cclxuXHRcdFx0XHRcdGlmIChzY3JvbGxXaWR0aCA+PSBiYXNlLnByZXZpZXcuc2Nyb2xsV2lkdGggLSBjbGllbnRXaWR0aCkge1xyXG5cdFx0XHRcdFx0XHRiYXNlLnByZXZpZXcuc2Nyb2xsTGVmdCA9IGJhc2UucHJldmlldy5zY3JvbGxXaWR0aCAtIGFkanVzdG1lbnQ7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHNjcm9sbFdpZHRoIC0gYWRqdXN0bWVudCA+IDApIHtcclxuXHRcdFx0XHRcdFx0YmFzZS5wcmV2aWV3LnNjcm9sbExlZnQgPSBzY3JvbGxXaWR0aCAtIGFkanVzdG1lbnQ7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRiYXNlLnByZXZpZXcuc2Nyb2xsTGVmdCA9IDA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRiYXNlLmxhc3Quc2Nyb2xsV2lkdGggPSBzY3JvbGxXaWR0aDtcclxuXHRcdFx0XHRiYXNlLmxhc3QuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0YmFzZS5iaW5kRm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoby5vcGVuT24pIHtcclxuXHRcdFx0Ly8gbWFrZSBzdXJlIGtleWJvYXJkIGlzbid0IGRlc3Ryb3llZFxyXG5cdFx0XHQvLyBDaGVjayBpZiBiYXNlIGV4aXN0cywgdGhpcyBpcyBhIGNhc2Ugd2hlbiBkZXN0cm95IGlzIGNhbGxlZCwgYmVmb3JlIHRpbWVycyBoYXZlIGZpcmVkXHJcblx0XHRcdGlmIChiYXNlICYmIGJhc2UuZWwuYWN0aXZlKSB7XHJcblx0XHRcdFx0YmFzZS4kZWwuYmluZChvLm9wZW5PbiArIGJhc2UubmFtZXNwYWNlLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRiYXNlLmZvY3VzT24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyByZW1vdmUgZm9jdXMgZnJvbSBlbGVtZW50IChuZWVkZWQgZm9yIElFIHNpbmNlIGJsdXIgZG9lc24ndCBzZWVtIHRvIHdvcmspXHJcblx0XHRcdFx0aWYgKCQoJzpmb2N1cycpWzBdID09PSBiYXNlLmVsKSB7XHJcblx0XHRcdFx0XHRiYXNlLiRlbC5ibHVyKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0YmFzZS5iaW5kS2V5Ym9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZXZ0LFxyXG5cdFx0XHRrZXlDb2RlcyA9ICRrZXlib2FyZC5rZXlDb2RlcyxcclxuXHRcdFx0bGF5b3V0ID0gJGtleWJvYXJkLmJ1aWx0TGF5b3V0c1tiYXNlLmxheW91dF0sXHJcblx0XHRcdG5hbWVzcGFjZSA9IGJhc2UubmFtZXNwYWNlICsgJ2tleWJpbmRpbmdzJztcclxuXHRcdGJhc2UuJHByZXZpZXdcclxuXHRcdFx0LnVuYmluZChiYXNlLm5hbWVzcGFjZSlcclxuXHRcdFx0LmJpbmQoJ2NsaWNrJyArIG5hbWVzcGFjZSArICcgdG91Y2hzdGFydCcgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAoby5hbHdheXNPcGVuICYmICFiYXNlLmlzQ3VycmVudCgpKSB7XHJcblx0XHRcdFx0XHRiYXNlLnJldmVhbCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyB1cGRhdGUgbGFzdCBjYXJldCBwb3NpdGlvbiBhZnRlciB1c2VyIGNsaWNrLCB1c2UgYXQgbGVhc3QgMTUwbXMgb3IgaXQgZG9lc24ndCB3b3JrIGluIElFXHJcblx0XHRcdFx0YmFzZS50aW1lcjIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGlmIChiYXNlKXtcclxuXHRcdFx0XHRcdFx0YmFzZS5zYXZlQ2FyZXQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCAxNTApO1xyXG5cclxuXHRcdFx0fSlcclxuXHRcdFx0LmJpbmQoJ2tleXByZXNzJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRpZiAoby5sb2NrSW5wdXQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFiYXNlLmlzQ3VycmVudCgpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgayA9IGUuY2hhckNvZGUgfHwgZS53aGljaCxcclxuXHRcdFx0XHRcdC8vIGNhcHNMb2NrIGNhbiBvbmx5IGJlIGNoZWNrZWQgd2hpbGUgdHlwaW5nIGEtelxyXG5cdFx0XHRcdFx0azEgPSBrID49IGtleUNvZGVzLkEgJiYgayA8PSBrZXlDb2Rlcy5aLFxyXG5cdFx0XHRcdFx0azIgPSBrID49IGtleUNvZGVzLmEgJiYgayA8PSBrZXlDb2Rlcy56LFxyXG5cdFx0XHRcdFx0c3RyID0gYmFzZS5sYXN0LmtleSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoayk7XHJcblx0XHRcdFx0Ly8gY2hlY2ssIHRoYXQga2V5cHJlc3Mgd2Fzbid0IHJpc2UgYnkgZnVuY3Rpb25hbCBrZXlcclxuXHRcdFx0XHQvLyBzcGFjZSBpcyBmaXJzdCB0eXBpbmcgc3ltYm9sIGluIFVURjggdGFibGVcclxuXHRcdFx0XHRpZiAoayA8IGtleUNvZGVzLnNwYWNlKSB7IC8vc2VlICM1NDlcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YmFzZS5sYXN0LnZpcnR1YWwgPSBmYWxzZTtcclxuXHRcdFx0XHRiYXNlLmxhc3QuZXZlbnQgPSBlO1xyXG5cdFx0XHRcdGJhc2UubGFzdC4ka2V5ID0gW107IC8vIG5vdCBhIHZpcnR1YWwga2V5Ym9hcmQga2V5XHJcblx0XHRcdFx0aWYgKGJhc2UuY2hlY2tDYXJldCkge1xyXG5cdFx0XHRcdFx0YmFzZS5zYXZlQ2FyZXQoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIHVwZGF0ZSBjYXBzTG9ja1xyXG5cdFx0XHRcdGlmIChrICE9PSBrZXlDb2Rlcy5jYXBzTG9jayAmJiAoazEgfHwgazIpKSB7XHJcblx0XHRcdFx0XHRiYXNlLmNhcHNMb2NrID0gKGsxICYmICFlLnNoaWZ0S2V5KSB8fCAoazIgJiYgZS5zaGlmdEtleSk7XHJcblx0XHRcdFx0XHQvLyBpZiBzaGlmdGVkIGtleXNldCBub3QgdmlzaWJsZSwgdGhlbiBzaG93IGl0XHJcblx0XHRcdFx0XHRpZiAoYmFzZS5jYXBzTG9jayAmJiAhYmFzZS5zaGlmdEFjdGl2ZSkge1xyXG5cdFx0XHRcdFx0XHRiYXNlLnNoaWZ0QWN0aXZlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0YmFzZS5zaG93U2V0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyByZXN0cmljdCBpbnB1dCAtIGtleUNvZGUgaW4ga2V5cHJlc3Mgc3BlY2lhbCBrZXlzOlxyXG5cdFx0XHRcdC8vIHNlZSBodHRwOi8vd3d3LmFzcXVhcmUubmV0L2phdmFzY3JpcHQvdGVzdHMvS2V5Q29kZS5odG1sXHJcblx0XHRcdFx0aWYgKG8ucmVzdHJpY3RJbnB1dCkge1xyXG5cdFx0XHRcdFx0Ly8gYWxsb3cgbmF2aWdhdGlvbiBrZXlzIHRvIHdvcmsgLSBDaHJvbWUgZG9lc24ndCBmaXJlIGEga2V5cHJlc3MgZXZlbnQgKDggPSBia3NwKVxyXG5cdFx0XHRcdFx0aWYgKChlLndoaWNoID09PSBrZXlDb2Rlcy5iYWNrU3BhY2UgfHwgZS53aGljaCA9PT0gMCkgJiZcclxuXHRcdFx0XHRcdFx0JC5pbkFycmF5KGUua2V5Q29kZSwgYmFzZS5hbHdheXNBbGxvd2VkKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBxdWljayBrZXkgY2hlY2tcclxuXHRcdFx0XHRcdGlmICgkLmluQXJyYXkoc3RyLCBsYXlvdXQuYWNjZXB0ZWRLZXlzKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHQvLyBjb3B5IGV2ZW50IG9iamVjdCBpbiBjYXNlIGUucHJldmVudERlZmF1bHQoKSBicmVha3Mgd2hlbiBjaGFuZ2luZyB0aGUgdHlwZVxyXG5cdFx0XHRcdFx0XHRldnQgPSAkLmV4dGVuZCh7fSwgZSk7XHJcblx0XHRcdFx0XHRcdGV2dC50eXBlID0gJGtleWJvYXJkLmV2ZW50cy5pbnB1dFJlc3RyaWN0ZWQ7XHJcblx0XHRcdFx0XHRcdGJhc2UuJGVsLnRyaWdnZXIoZXZ0LCBbYmFzZSwgYmFzZS5lbF0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmXHJcblx0XHRcdFx0XHQoZS53aGljaCA9PT0ga2V5Q29kZXMuQSB8fCBlLndoaWNoID09PSBrZXlDb2Rlcy5DIHx8IGUud2hpY2ggPT09IGtleUNvZGVzLlYgfHxcclxuXHRcdFx0XHRcdFx0KGUud2hpY2ggPj0ga2V5Q29kZXMuWCAmJiBlLndoaWNoIDw9IGtleUNvZGVzLlopKSkge1xyXG5cdFx0XHRcdFx0Ly8gQWxsb3cgc2VsZWN0IGFsbCAoY3RybC1hKSwgY29weSAoY3RybC1jKSwgcGFzdGUgKGN0cmwtdikgJiBjdXQgKGN0cmwteCkgJlxyXG5cdFx0XHRcdFx0Ly8gcmVkbyAoY3RybC15KSYgdW5kbyAoY3RybC16KTsgbWV0YSBrZXkgZm9yIG1hY1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBNYXBwZWQgS2V5cyAtIGFsbG93cyB0eXBpbmcgb24gYSByZWd1bGFyIGtleWJvYXJkIGFuZCB0aGUgbWFwcGVkIGtleSBpcyBlbnRlcmVkXHJcblx0XHRcdFx0Ly8gU2V0IHVwIGEga2V5IGluIHRoZSBsYXlvdXQgYXMgZm9sbG93czogJ20oYSk6bGFiZWwnOyBtID0ga2V5IHRvIG1hcCwgKGEpID0gYWN0dWFsIGtleWJvYXJkIGtleVxyXG5cdFx0XHRcdC8vIHRvIG1hcCB0byAob3B0aW9uYWwpLCAnOmxhYmVsJyA9IHRpdGxlL3Rvb2x0aXAgKG9wdGlvbmFsKVxyXG5cdFx0XHRcdC8vIGV4YW1wbGU6IFxcdTAzOTEgb3IgXFx1MDM5MShBKSBvciBcXHUwMzkxOmFscGhhIG9yIFxcdTAzOTEoQSk6YWxwaGFcclxuXHRcdFx0XHRpZiAobGF5b3V0Lmhhc01hcHBlZEtleXMgJiYgbGF5b3V0Lm1hcHBlZEtleXMuaGFzT3duUHJvcGVydHkoc3RyKSkge1xyXG5cdFx0XHRcdFx0YmFzZS5sYXN0LmtleSA9IGxheW91dC5tYXBwZWRLZXlzW3N0cl07XHJcblx0XHRcdFx0XHRiYXNlLmluc2VydFRleHQoYmFzZS5sYXN0LmtleSk7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0eXBlb2Ygby5iZWZvcmVJbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdGJhc2UuaW5zZXJ0VGV4dChiYXNlLmxhc3Qua2V5KTtcclxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YmFzZS5jaGVja01heExlbmd0aCgpO1xyXG5cclxuXHRcdFx0fSlcclxuXHRcdFx0LmJpbmQoJ2tleXVwJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRpZiAoIWJhc2UuaXNDdXJyZW50KCkpIHsgcmV0dXJuOyB9XHJcblx0XHRcdFx0YmFzZS5sYXN0LnZpcnR1YWwgPSBmYWxzZTtcclxuXHRcdFx0XHRzd2l0Y2ggKGUud2hpY2gpIHtcclxuXHRcdFx0XHRcdC8vIEluc2VydCB0YWIga2V5XHJcblx0XHRcdFx0Y2FzZSBrZXlDb2Rlcy50YWI6XHJcblx0XHRcdFx0XHQvLyBBZGRlZCBhIGZsYWcgdG8gcHJldmVudCBmcm9tIHRhYmJpbmcgaW50byBhbiBpbnB1dCwga2V5Ym9hcmQgb3BlbmluZywgdGhlbiBhZGRpbmcgdGhlIHRhYlxyXG5cdFx0XHRcdFx0Ly8gdG8gdGhlIGtleWJvYXJkIHByZXZpZXcgYXJlYSBvbiBrZXl1cC4gU2FkbHkgaXQgc3RpbGwgaGFwcGVucyBpZiB5b3UgZG9uJ3QgcmVsZWFzZSB0aGUgdGFiXHJcblx0XHRcdFx0XHQvLyBrZXkgaW1tZWRpYXRlbHkgYmVjYXVzZSBrZXlkb3duIGV2ZW50IGF1dG8tcmVwZWF0c1xyXG5cdFx0XHRcdFx0aWYgKGJhc2UudGFiICYmICFvLmxvY2tJbnB1dCkge1xyXG5cdFx0XHRcdFx0XHRiYXNlLnNoaWZ0QWN0aXZlID0gZS5zaGlmdEtleTtcclxuXHRcdFx0XHRcdFx0Ly8gd2hlbiBzd2l0Y2hpbmcgaW5wdXRzLCB0aGUgdGFiIGtleWFjdGlvbiByZXR1cm5zIGZhbHNlXHJcblx0XHRcdFx0XHRcdHZhciBub3RTd2l0Y2hpbmcgPSAka2V5Ym9hcmQua2V5YWN0aW9uLnRhYihiYXNlKTtcclxuXHRcdFx0XHRcdFx0YmFzZS50YWIgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0aWYgKCFub3RTd2l0Y2hpbmcpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdC8vIEVzY2FwZSB3aWxsIGhpZGUgdGhlIGtleWJvYXJkXHJcblx0XHRcdFx0Y2FzZSBrZXlDb2Rlcy5lc2NhcGU6XHJcblx0XHRcdFx0XHRpZiAoIW8uaWdub3JlRXNjKSB7XHJcblx0XHRcdFx0XHRcdGJhc2UuY2xvc2Uoby5hdXRvQWNjZXB0ICYmIG8uYXV0b0FjY2VwdE9uRXNjID8gJ3RydWUnIDogZmFsc2UpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gdGhyb3R0bGUgdGhlIGNoZWNrIGNvbWJvIGZ1bmN0aW9uIGJlY2F1c2UgZmFzdCB0eXBlcnMgd2lsbCBoYXZlIGFuIGluY29ycmVjdGx5IHBvc2l0aW9uZWQgY2FyZXRcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQoYmFzZS50aHJvdHRsZWQpO1xyXG5cdFx0XHRcdGJhc2UudGhyb3R0bGVkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQvLyBmaXggZXJyb3IgaW4gT1NYPyBzZWUgaXNzdWUgIzEwMlxyXG5cdFx0XHRcdFx0aWYgKGJhc2UgJiYgYmFzZS5pc1Zpc2libGUoKSkge1xyXG5cdFx0XHRcdFx0XHRiYXNlLmNoZWNrQ29tYm9zKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgMTAwKTtcclxuXHJcblx0XHRcdFx0YmFzZS5jaGVja01heExlbmd0aCgpO1xyXG5cclxuXHRcdFx0XHRiYXNlLmxhc3QucHJlVmFsID0gJycgKyBiYXNlLmxhc3QudmFsO1xyXG5cdFx0XHRcdGJhc2Uuc2F2ZUxhc3RDaGFuZ2UoKTtcclxuXHJcblx0XHRcdFx0Ly8gZG9uJ3QgYWx0ZXIgXCJlXCIgb3IgdGhlIFwia2V5dXBcIiBldmVudCBuZXZlciBmaW5pc2hlcyBwcm9jZXNzaW5nOyBmaXhlcyAjNTUyXHJcblx0XHRcdFx0dmFyIGV2ZW50ID0gJC5FdmVudCggJGtleWJvYXJkLmV2ZW50cy5rYkNoYW5nZSApO1xyXG5cdFx0XHRcdC8vIGJhc2UubGFzdC5rZXkgbWF5IGJlIGVtcHR5IHN0cmluZyAoc2hpZnQsIGVudGVyLCB0YWIsIGV0Yykgd2hlbiBrZXlib2FyZCBpcyBmaXJzdCB2aXNpYmxlXHJcblx0XHRcdFx0Ly8gdXNlIGUua2V5IGluc3RlYWQsIGlmIGJyb3dzZXIgc3VwcG9ydHMgaXRcclxuXHRcdFx0XHRldmVudC5hY3Rpb24gPSBiYXNlLmxhc3Qua2V5O1xyXG5cdFx0XHRcdGJhc2UuJGVsLnRyaWdnZXIoZXZlbnQsIFtiYXNlLCBiYXNlLmVsXSk7XHJcblxyXG5cdFx0XHRcdC8vIGNoYW5nZSBjYWxsYmFjayBpcyBubyBsb25nZXIgYm91bmQgdG8gdGhlIGlucHV0IGVsZW1lbnQgYXMgdGhlIGNhbGxiYWNrIGNvdWxkIGJlXHJcblx0XHRcdFx0Ly8gY2FsbGVkIGR1cmluZyBhbiBleHRlcm5hbCBjaGFuZ2UgZXZlbnQgd2l0aCBhbGwgdGhlIG5lY2Vzc2FyeSBwYXJhbWV0ZXJzIChpc3N1ZSAjMTU3KVxyXG5cdFx0XHRcdGlmICh0eXBlb2Ygby5jaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdGV2ZW50LnR5cGUgPSAka2V5Ym9hcmQuZXZlbnRzLmlucHV0Q2hhbmdlO1xyXG5cdFx0XHRcdFx0by5jaGFuZ2UoZXZlbnQsIGJhc2UsIGJhc2UuZWwpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoby5hY2NlcHRWYWxpZCAmJiBvLmF1dG9BY2NlcHRPblZhbGlkKSB7XHJcblx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdHR5cGVvZiBvLnZhbGlkYXRlID09PSAnZnVuY3Rpb24nICYmXHJcblx0XHRcdFx0XHRcdG8udmFsaWRhdGUoYmFzZSwgYmFzZS5nZXRWYWx1ZShiYXNlLiRwcmV2aWV3KSlcclxuXHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRiYXNlLiRwcmV2aWV3LmJsdXIoKTtcclxuXHRcdFx0XHRcdFx0YmFzZS5hY2NlcHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5iaW5kKCdrZXlkb3duJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRiYXNlLmxhc3Qua2V5UHJlc3MgPSBlLndoaWNoO1xyXG5cdFx0XHRcdC8vIGVuc3VyZSBhbHdheXNPcGVuIGtleWJvYXJkcyBhcmUgbWFkZSBhY3RpdmVcclxuXHRcdFx0XHRpZiAoby5hbHdheXNPcGVuICYmICFiYXNlLmlzQ3VycmVudCgpKSB7XHJcblx0XHRcdFx0XHRiYXNlLnJldmVhbCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBwcmV2ZW50IHRhYiBrZXkgZnJvbSBsZWF2aW5nIHRoZSBwcmV2aWV3IHdpbmRvd1xyXG5cdFx0XHRcdGlmIChlLndoaWNoID09PSBrZXlDb2Rlcy50YWIpIHtcclxuXHRcdFx0XHRcdC8vIGFsbG93IHRhYiB0byBwYXNzIHRocm91Z2ggLSB0YWIgdG8gbmV4dCBpbnB1dC9zaGlmdC10YWIgZm9yIHByZXZcclxuXHRcdFx0XHRcdGJhc2UudGFiID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG8ubG9ja0lucHV0IHx8IGUudGltZVN0YW1wID09PSBiYXNlLmxhc3QudGltZVN0YW1wKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gIW8ubG9ja0lucHV0O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YmFzZS5sYXN0LnRpbWVTdGFtcCA9IGUudGltZVN0YW1wOyAvLyBmaXhlcyAjNjU5XHJcblx0XHRcdFx0YmFzZS5sYXN0LnZpcnR1YWwgPSBmYWxzZTtcclxuXHRcdFx0XHRzd2l0Y2ggKGUud2hpY2gpIHtcclxuXHJcblx0XHRcdFx0Y2FzZSBrZXlDb2Rlcy5iYWNrU3BhY2U6XHJcblx0XHRcdFx0XHQka2V5Ym9hcmQua2V5YWN0aW9uLmJrc3AoYmFzZSwgbnVsbCwgZSk7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBrZXlDb2Rlcy5lbnRlcjpcclxuXHRcdFx0XHRcdCRrZXlib2FyZC5rZXlhY3Rpb24uZW50ZXIoYmFzZSwgbnVsbCwgZSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHQvLyBTaG93IGNhcHNMb2NrXHJcblx0XHRcdFx0Y2FzZSBrZXlDb2Rlcy5jYXBzTG9jazpcclxuXHRcdFx0XHRcdGJhc2Uuc2hpZnRBY3RpdmUgPSBiYXNlLmNhcHNMb2NrID0gIWJhc2UuY2Fwc0xvY2s7XHJcblx0XHRcdFx0XHRiYXNlLnNob3dTZXQoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIGtleUNvZGVzLlY6XHJcblx0XHRcdFx0XHQvLyBwcmV2ZW50IGN0cmwtdi9jbWQtdlxyXG5cdFx0XHRcdFx0aWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG8ucHJldmVudFBhc3RlKSB7XHJcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRiYXNlLmNoZWNrQ29tYm9zKCk7IC8vIGNoZWNrIHBhc3RlZCBjb250ZW50XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5iaW5kKCdtb3VzZXVwIHRvdWNoZW5kICcuc3BsaXQoJyAnKS5qb2luKG5hbWVzcGFjZSArICcgJyksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRiYXNlLmxhc3QudmlydHVhbCA9IHRydWU7XHJcblx0XHRcdFx0YmFzZS5zYXZlQ2FyZXQoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gcHJldmVudCBrZXlib2FyZCBldmVudCBidWJibGluZ1xyXG5cdFx0YmFzZS4ka2V5Ym9hcmQuYmluZCgnbW91c2Vkb3duIGNsaWNrIHRvdWNoc3RhcnQgJy5zcGxpdCgnICcpLmpvaW4oYmFzZS5uYW1lc3BhY2UgKyAnICcpLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRpZiAoIWJhc2UuaXNDdXJyZW50KCkpIHtcclxuXHRcdFx0XHRiYXNlLnJldmVhbCgpO1xyXG5cdFx0XHRcdCQoYmFzZS5lbC5vd25lckRvY3VtZW50KS50cmlnZ2VyKCdjaGVja2tleWJvYXJkJyArIGJhc2UubmFtZXNwYWNlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRiYXNlLnNldEZvY3VzKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBJZiBwcmV2ZW50aW5nIHBhc3RlLCBibG9jayBjb250ZXh0IG1lbnUgKHJpZ2h0IGNsaWNrKVxyXG5cdFx0aWYgKG8ucHJldmVudFBhc3RlKSB7XHJcblx0XHRcdGJhc2UuJHByZXZpZXcuYmluZCgnY29udGV4dG1lbnUnICsgYmFzZS5uYW1lc3BhY2UsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0YmFzZS4kZWwuYmluZCgnY29udGV4dG1lbnUnICsgYmFzZS5uYW1lc3BhY2UsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0YmFzZS5iaW5kQnV0dG9uID0gZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XHJcblx0XHR2YXIgYnV0dG9uID0gJy4nICsgJGtleWJvYXJkLmNzcy5rZXlCdXR0b24sXHJcblx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0Ly8gc2F2ZSBjbG9zZXN0IGtleWJvYXJkIHdyYXBwZXIvaW5wdXQgdG8gY2hlY2sgaW4gY2hlY2tDbG9zZSBmdW5jdGlvblxyXG5cdFx0XHRcdGUuJHRhcmdldCA9ICQodGhpcykuY2xvc2VzdCgnLicgKyAka2V5Ym9hcmQuY3NzLmtleWJvYXJkICsgJywgLicgKyAka2V5Ym9hcmQuY3NzLmlucHV0KTtcclxuXHRcdFx0XHRoYW5kbGVyLmNhbGwodGhpcywgZSk7XHJcblx0XHRcdH07XHJcblx0XHRpZiAoJC5mbi5vbikge1xyXG5cdFx0XHQvLyBqUXVlcnkgdjEuNytcclxuXHRcdFx0YmFzZS4ka2V5Ym9hcmQub24oZXZlbnRzLCBidXR0b24sIGNhbGxiYWNrKTtcclxuXHRcdH0gZWxzZSBpZiAoJC5mbi5kZWxlZ2F0ZSkge1xyXG5cdFx0XHQvLyBqUXVlcnkgdjEuNC4yIC0gMy4wLjBcclxuXHRcdFx0YmFzZS4ka2V5Ym9hcmQuZGVsZWdhdGUoYnV0dG9uLCBldmVudHMsIGNhbGxiYWNrKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBiYXNlO1xyXG5cdH07XHJcblxyXG5cdGJhc2UudW5iaW5kQnV0dG9uID0gZnVuY3Rpb24obmFtZXNwYWNlKSB7XHJcblx0XHRpZiAoJC5mbi5vZmYpIHtcclxuXHRcdFx0Ly8galF1ZXJ5IHYxLjcrXHJcblx0XHRcdGJhc2UuJGtleWJvYXJkLm9mZihuYW1lc3BhY2UpO1xyXG5cdFx0fSBlbHNlIGlmICgkLmZuLnVuZGVsZWdhdGUpIHtcclxuXHRcdFx0Ly8galF1ZXJ5IHYxLjQuMiAtIDMuMC4wIChuYW1lc3BhY2Ugb25seSBhZGRlZCBpbiB2MS42KVxyXG5cdFx0XHRiYXNlLiRrZXlib2FyZC51bmRlbGVnYXRlKCcuJyArICRrZXlib2FyZC5jc3Mua2V5QnV0dG9uLCBuYW1lc3BhY2UpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGJhc2U7XHJcblx0fTtcclxuXHJcblx0YmFzZS5iaW5kS2V5cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBrYmNzcyA9ICRrZXlib2FyZC5jc3M7XHJcblx0XHRiYXNlXHJcblx0XHRcdC51bmJpbmRCdXR0b24oYmFzZS5uYW1lc3BhY2UgKyAnICcgKyBiYXNlLm5hbWVzcGFjZSArICdrYicpXHJcblx0XHRcdC8vIENoYW5nZSBob3ZlciBjbGFzcyBhbmQgdG9vbHRpcCAtIG1vdmVkIHRoaXMgdG91Y2hzdGFydCBiZWZvcmUgb3B0aW9uLmtleUJpbmRpbmcgdG91Y2hzdGFydFxyXG5cdFx0XHQvLyB0byBwcmV2ZW50IG1vdXNld2hlZWwgbGFnL2R1cGxpY2F0aW9uIC0gRml4ZXMgIzM3OSAmICM0MTFcclxuXHRcdFx0LmJpbmRCdXR0b24oJ21vdXNlZW50ZXIgbW91c2VsZWF2ZSB0b3VjaHN0YXJ0ICcuc3BsaXQoJyAnKS5qb2luKGJhc2UubmFtZXNwYWNlICsgJyAnKSwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRpZiAoKG8uYWx3YXlzT3BlbiB8fCBvLnVzZXJDbG9zZWQpICYmIGUudHlwZSAhPT0gJ21vdXNlbGVhdmUnICYmICFiYXNlLmlzQ3VycmVudCgpKSB7XHJcblx0XHRcdFx0XHRiYXNlLnJldmVhbCgpO1xyXG5cdFx0XHRcdFx0YmFzZS5zZXRGb2N1cygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIWJhc2UuaXNDdXJyZW50KCkgfHwgdGhpcy5kaXNhYmxlZCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR2YXIgJGtleXMsIHR4dCxcclxuXHRcdFx0XHRcdGxhc3QgPSBiYXNlLmxhc3QsXHJcblx0XHRcdFx0XHQkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdFx0XHR0eXBlID0gZS50eXBlO1xyXG5cclxuXHRcdFx0XHRpZiAoby51c2VXaGVlbCAmJiBiYXNlLndoZWVsKSB7XHJcblx0XHRcdFx0XHQka2V5cyA9IGJhc2UuZ2V0TGF5ZXJzKCR0aGlzKTtcclxuXHRcdFx0XHRcdHR4dCA9ICgka2V5cy5sZW5ndGggPyAka2V5cy5tYXAoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiAkKHRoaXMpLmF0dHIoJ2RhdGEtdmFsdWUnKSB8fCAnJztcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0LmdldCgpIDogJycpIHx8IFskdGhpcy50ZXh0KCldO1xyXG5cdFx0XHRcdFx0bGFzdC53aGVlbF8kS2V5cyA9ICRrZXlzO1xyXG5cdFx0XHRcdFx0bGFzdC53aGVlbExheWVycyA9IHR4dDtcclxuXHRcdFx0XHRcdGxhc3Qud2hlZWxJbmRleCA9ICQuaW5BcnJheSgkdGhpcy5hdHRyKCdkYXRhLXZhbHVlJyksIHR4dCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAndG91Y2hzdGFydCcpICYmIGJhc2UuZWwudHlwZSAhPT0gJ3Bhc3N3b3JkJyAmJlxyXG5cdFx0XHRcdFx0ISR0aGlzLmhhc0NsYXNzKG8uY3NzLmJ1dHRvbkRpc2FibGVkKSkge1xyXG5cdFx0XHRcdFx0JHRoaXMuYWRkQ2xhc3Moby5jc3MuYnV0dG9uSG92ZXIpO1xyXG5cdFx0XHRcdFx0aWYgKG8udXNlV2hlZWwgJiYgYmFzZS53aGVlbCkge1xyXG5cdFx0XHRcdFx0XHQkdGhpcy5hdHRyKCd0aXRsZScsIGZ1bmN0aW9uIChpLCB0KSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gc2hvdyBtb3VzZSB3aGVlbCBtZXNzYWdlXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChiYXNlLndoZWVsICYmIHQgPT09ICcnICYmIGJhc2Uuc2V0cyAmJiB0eHQubGVuZ3RoID4gMSAmJiB0eXBlICE9PSAndG91Y2hzdGFydCcpID9cclxuXHRcdFx0XHRcdFx0XHRcdG8ud2hlZWxNZXNzYWdlIDogdDtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0eXBlID09PSAnbW91c2VsZWF2ZScpIHtcclxuXHRcdFx0XHRcdC8vIG5lZWRlZCBvciBJRSBmbGlja2VycyByZWFsbHkgYmFkXHJcblx0XHRcdFx0XHQkdGhpcy5yZW1vdmVDbGFzcygoYmFzZS5lbC50eXBlID09PSAncGFzc3dvcmQnKSA/ICcnIDogby5jc3MuYnV0dG9uSG92ZXIpO1xyXG5cdFx0XHRcdFx0aWYgKG8udXNlV2hlZWwgJiYgYmFzZS53aGVlbCkge1xyXG5cdFx0XHRcdFx0XHRsYXN0LndoZWVsSW5kZXggPSAwO1xyXG5cdFx0XHRcdFx0XHRsYXN0LndoZWVsTGF5ZXJzID0gW107XHJcblx0XHRcdFx0XHRcdGxhc3Qud2hlZWxfJEtleXMgPSBbXTtcclxuXHRcdFx0XHRcdFx0JHRoaXNcclxuXHRcdFx0XHRcdFx0XHQuYXR0cigndGl0bGUnLCBmdW5jdGlvbiAoaSwgdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICh0ID09PSBvLndoZWVsTWVzc2FnZSkgPyAnJyA6IHQ7XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHQuaHRtbCgkdGhpcy5hdHRyKCdkYXRhLWh0bWwnKSk7IC8vIHJlc3RvcmUgb3JpZ2luYWwgYnV0dG9uIHRleHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC8vIGtleUJpbmRpbmcgPSAnbW91c2Vkb3duIHRvdWNoc3RhcnQnIGJ5IGRlZmF1bHRcclxuXHRcdFx0LmJpbmRCdXR0b24oby5rZXlCaW5kaW5nLnNwbGl0KCcgJykuam9pbihiYXNlLm5hbWVzcGFjZSArICcgJykgKyBiYXNlLm5hbWVzcGFjZSArICcgJyArXHJcblx0XHRcdFx0JGtleWJvYXJkLmV2ZW50cy5rYlJlcGVhdGVyLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHQvLyBwcmV2ZW50IGVycm9ycyB3aGVuIGV4dGVybmFsIHRyaWdnZXJzIGF0dGVtcHQgdG8gJ3R5cGUnIC0gc2VlIGlzc3VlICMxNThcclxuXHRcdFx0XHRpZiAoIWJhc2UuJGtleWJvYXJkLmlzKCc6dmlzaWJsZScpIHx8IHRoaXMuZGlzYWJsZWQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGFjdGlvbixcclxuXHRcdFx0XHRcdGxhc3QgPSBiYXNlLmxhc3QsXHJcblx0XHRcdFx0XHQka2V5ID0gJCh0aGlzKSxcclxuXHRcdFx0XHRcdC8vIHByZXZlbnQgbW91c2Vkb3duICYgdG91Y2hzdGFydCBmcm9tIGJvdGggZmlyaW5nIGV2ZW50cyBhdCB0aGUgc2FtZSB0aW1lIC0gc2VlICMxODRcclxuXHRcdFx0XHRcdHRpbWVyID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG5cdFx0XHRcdGlmIChvLnVzZVdoZWVsICYmIGJhc2Uud2hlZWwpIHtcclxuXHRcdFx0XHRcdC8vIGdldCBrZXlzIGZyb20gb3RoZXIgbGF5ZXJzL2tleXNldHMgKHNoaWZ0LCBhbHQsIG1ldGEsIGV0YykgdGhhdCBsaW5lIHVwIGJ5IGRhdGEtcG9zaXRpb25cclxuXHRcdFx0XHRcdC8vIHRhcmdldCBtb3VzZXdoZWVsIHNlbGVjdGVkIGtleVxyXG5cdFx0XHRcdFx0JGtleSA9IGxhc3Qud2hlZWxfJEtleXMubGVuZ3RoICYmIGxhc3Qud2hlZWxJbmRleCA+IC0xID8gbGFzdC53aGVlbF8kS2V5cy5lcShsYXN0LndoZWVsSW5kZXgpIDogJGtleTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YWN0aW9uID0gJGtleS5hdHRyKCdkYXRhLWFjdGlvbicpO1xyXG5cdFx0XHRcdGlmICh0aW1lciAtIChsYXN0LmV2ZW50VGltZSB8fCAwKSA8IG8ucHJldmVudERvdWJsZUV2ZW50VGltZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsYXN0LmV2ZW50VGltZSA9IHRpbWVyO1xyXG5cdFx0XHRcdGxhc3QuZXZlbnQgPSBlO1xyXG5cdFx0XHRcdGxhc3QudmlydHVhbCA9IHRydWU7XHJcblx0XHRcdFx0bGFzdC4ka2V5ID0gJGtleTtcclxuXHRcdFx0XHRsYXN0LmtleSA9ICRrZXkuYXR0cignZGF0YS12YWx1ZScpO1xyXG5cdFx0XHRcdGxhc3Qua2V5UHJlc3MgPSAnJztcclxuXHRcdFx0XHQvLyBTdGFydCBjYXJldCBpbiBJRSB3aGVuIG5vdCBmb2N1c2VkIChoYXBwZW5zIHdpdGggZWFjaCB2aXJ0dWFsIGtleWJvYXJkIGJ1dHRvbiBjbGlja1xyXG5cdFx0XHRcdGJhc2Uuc2V0Rm9jdXMoKTtcclxuXHRcdFx0XHRpZiAoL15tZXRhLy50ZXN0KGFjdGlvbikpIHtcclxuXHRcdFx0XHRcdGFjdGlvbiA9ICdtZXRhJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8ga2V5YWN0aW9uIGlzIGFkZGVkIGFzIGEgc3RyaW5nLCBvdmVycmlkZSBvcmlnaW5hbCBhY3Rpb24gJiB0ZXh0XHJcblx0XHRcdFx0aWYgKGFjdGlvbiA9PT0gbGFzdC5rZXkgJiYgdHlwZW9mICRrZXlib2FyZC5rZXlhY3Rpb25bYWN0aW9uXSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdGxhc3Qua2V5ID0gYWN0aW9uID0gJGtleWJvYXJkLmtleWFjdGlvblthY3Rpb25dO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uIGluICRrZXlib2FyZC5rZXlhY3Rpb24gJiYgdHlwZW9mICRrZXlib2FyZC5rZXlhY3Rpb25bYWN0aW9uXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0Ly8gc3RvcCBwcm9jZXNzaW5nIGlmIGFjdGlvbiByZXR1cm5zIGZhbHNlIChjbG9zZSAmIGNhbmNlbClcclxuXHRcdFx0XHRcdGlmICgka2V5Ym9hcmQua2V5YWN0aW9uW2FjdGlvbl0oYmFzZSwgdGhpcywgZSkgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGFjdGlvbiA9IG51bGw7IC8vIHByZXZlbnQgaW5zZXJ0aW5nIGFjdGlvbiBuYW1lXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIHN0b3AgcHJvY2Vzc2luZyBpZiBrZXlib2FyZCBjbG9zZWQgYW5kIGtleWFjdGlvbiBkaWQgbm90IHJldHVybiBmYWxzZSAtIHNlZSAjNTM2XHJcblx0XHRcdFx0aWYgKCFiYXNlLmhhc0tleWJvYXJkKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBhY3Rpb24gIT09ICd1bmRlZmluZWQnICYmIGFjdGlvbiAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0bGFzdC5rZXkgPSAkKHRoaXMpLmhhc0NsYXNzKGtiY3NzLmtleUFjdGlvbikgPyBhY3Rpb24gOiBsYXN0LmtleTtcclxuXHRcdFx0XHRcdGJhc2UuaW5zZXJ0VGV4dChsYXN0LmtleSk7XHJcblx0XHRcdFx0XHRpZiAoIWJhc2UuY2Fwc0xvY2sgJiYgIW8uc3RpY2t5U2hpZnQgJiYgIWUuc2hpZnRLZXkpIHtcclxuXHRcdFx0XHRcdFx0YmFzZS5zaGlmdEFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRiYXNlLnNob3dTZXQoJGtleS5hdHRyKCdkYXRhLW5hbWUnKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIHNldCBjYXJldCBpZiBjYXJldCBtb3ZlZCBieSBhY3Rpb24gZnVuY3Rpb247IGFsc28sIGF0dGVtcHQgdG8gZml4IGlzc3VlICMxMzFcclxuXHRcdFx0XHQka2V5Ym9hcmQuY2FyZXQoYmFzZS4kcHJldmlldywgbGFzdCk7XHJcblx0XHRcdFx0YmFzZS5jaGVja0NvbWJvcygpO1xyXG5cdFx0XHRcdGUgPSAkLmV4dGVuZCh7fSwgZSwgJC5FdmVudCgka2V5Ym9hcmQuZXZlbnRzLmtiQ2hhbmdlKSk7XHJcblx0XHRcdFx0ZS50YXJnZXQgPSBiYXNlLmVsO1xyXG5cdFx0XHRcdGUuYWN0aW9uID0gbGFzdC5rZXk7XHJcblx0XHRcdFx0YmFzZS4kZWwudHJpZ2dlcihlLCBbYmFzZSwgYmFzZS5lbF0pO1xyXG5cdFx0XHRcdGxhc3QucHJlVmFsID0gJycgKyBsYXN0LnZhbDtcclxuXHRcdFx0XHRiYXNlLnNhdmVMYXN0Q2hhbmdlKCk7XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2Ygby5jaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdGUudHlwZSA9ICRrZXlib2FyZC5ldmVudHMuaW5wdXRDaGFuZ2U7XHJcblx0XHRcdFx0XHRvLmNoYW5nZShlLCBiYXNlLCBiYXNlLmVsKTtcclxuXHRcdFx0XHRcdC8vIHJldHVybiBmYWxzZSB0byBwcmV2ZW50IHJlb3BlbmluZyBrZXlib2FyZCBpZiBiYXNlLmFjY2VwdCgpIHdhcyBjYWxsZWRcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvLyB1c2luZyAna2InIG5hbWVzcGFjZSBmb3IgbW91c2UgcmVwZWF0IGZ1bmN0aW9uYWxpdHkgdG8ga2VlcCBpdCBzZXBhcmF0ZVxyXG5cdFx0XHQvLyBJIG5lZWQgdG8gdHJpZ2dlciBhICdyZXBlYXRlci5rZXlib2FyZCcgdG8gbWFrZSBpdCB3b3JrXHJcblx0XHRcdC5iaW5kQnV0dG9uKCdtb3VzZXVwJyArIGJhc2UubmFtZXNwYWNlICsgJyAnICsgJ21vdXNlbGVhdmUgdG91Y2hlbmQgdG91Y2htb3ZlIHRvdWNoY2FuY2VsICcuc3BsaXQoJyAnKVxyXG5cdFx0XHRcdC5qb2luKGJhc2UubmFtZXNwYWNlICsgJ2tiICcpLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGJhc2UubGFzdC52aXJ0dWFsID0gdHJ1ZTtcclxuXHRcdFx0XHR2YXIgb2Zmc2V0LFxyXG5cdFx0XHRcdFx0JHRoaXMgPSAkKHRoaXMpO1xyXG5cdFx0XHRcdGlmIChlLnR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XHJcblx0XHRcdFx0XHQvLyBpZiBtb3Zpbmcgd2l0aGluIHRoZSBzYW1lIGtleSwgZG9uJ3Qgc3RvcCByZXBlYXRpbmdcclxuXHRcdFx0XHRcdG9mZnNldCA9ICR0aGlzLm9mZnNldCgpO1xyXG5cdFx0XHRcdFx0b2Zmc2V0LnJpZ2h0ID0gb2Zmc2V0LmxlZnQgKyAkdGhpcy5vdXRlcldpZHRoKCk7XHJcblx0XHRcdFx0XHRvZmZzZXQuYm90dG9tID0gb2Zmc2V0LnRvcCArICR0aGlzLm91dGVySGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRpZiAoZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVggPj0gb2Zmc2V0LmxlZnQgJiZcclxuXHRcdFx0XHRcdFx0ZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVggPCBvZmZzZXQucmlnaHQgJiZcclxuXHRcdFx0XHRcdFx0ZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgPj0gb2Zmc2V0LnRvcCAmJlxyXG5cdFx0XHRcdFx0XHRlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWSA8IG9mZnNldC5ib3R0b20pIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICgvKG1vdXNlbGVhdmV8dG91Y2hlbmR8dG91Y2hjYW5jZWwpL2kudGVzdChlLnR5cGUpKSB7XHJcblx0XHRcdFx0XHQkdGhpcy5yZW1vdmVDbGFzcyhvLmNzcy5idXR0b25Ib3Zlcik7IC8vIG5lZWRlZCBmb3IgdG91Y2ggZGV2aWNlc1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoIW8ubm9Gb2N1cyAmJiBiYXNlLmlzQ3VycmVudCgpICYmIGJhc2UuaXNWaXNpYmxlKCkpIHtcclxuXHRcdFx0XHRcdFx0YmFzZS4kcHJldmlldy5mb2N1cygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKGJhc2UuY2hlY2tDYXJldCkge1xyXG5cdFx0XHRcdFx0XHQka2V5Ym9hcmQuY2FyZXQoYmFzZS4kcHJldmlldywgYmFzZS5sYXN0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YmFzZS5tb3VzZVJlcGVhdCA9IFtmYWxzZSwgJyddO1xyXG5cdFx0XHRcdGNsZWFyVGltZW91dChiYXNlLnJlcGVhdGVyKTsgLy8gbWFrZSBzdXJlIGtleSByZXBlYXQgc3RvcHMhXHJcblx0XHRcdFx0aWYgKG8uYWNjZXB0VmFsaWQgJiYgby5hdXRvQWNjZXB0T25WYWxpZCkge1xyXG5cdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHR0eXBlb2Ygby52YWxpZGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxyXG5cdFx0XHRcdFx0XHRvLnZhbGlkYXRlKGJhc2UsIGJhc2UuZ2V0VmFsdWUoKSlcclxuXHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRiYXNlLiRwcmV2aWV3LmJsdXIoKTtcclxuXHRcdFx0XHRcdFx0YmFzZS5hY2NlcHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQvLyBwcmV2ZW50IGZvcm0gc3VibWl0cyB3aGVuIGtleWJvYXJkIGlzIGJvdW5kIGxvY2FsbHkgLSBpc3N1ZSAjNjRcclxuXHRcdFx0LmJpbmRCdXR0b24oJ2NsaWNrJyArIGJhc2UubmFtZXNwYWNlLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQvLyBBbGxvdyBtb3VzZXdoZWVsIHRvIHNjcm9sbCB0aHJvdWdoIG90aGVyIGtleXNldHMgb2YgdGhlIHNhbWUgKG5vbi1hY3Rpb24pIGtleVxyXG5cdFx0XHQuYmluZEJ1dHRvbignbW91c2V3aGVlbCcgKyBiYXNlLm5hbWVzcGFjZSwgYmFzZS50aHJvdHRsZUV2ZW50KGZ1bmN0aW9uIChlLCBkZWx0YSkge1xyXG5cdFx0XHRcdHZhciAkYnRuID0gJCh0aGlzKTtcclxuXHRcdFx0XHQvLyBubyBtb3VzZSByZXBlYXQgZm9yIGFjdGlvbiBrZXlzIChzaGlmdCwgY3RybCwgYWx0LCBtZXRhLCBldGMpXHJcblx0XHRcdFx0aWYgKCEkYnRuIHx8ICRidG4uaGFzQ2xhc3Moa2Jjc3Mua2V5QWN0aW9uKSB8fCBiYXNlLmxhc3Qud2hlZWxfJEtleXNbMF0gIT09IHRoaXMpIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKG8udXNlV2hlZWwgJiYgYmFzZS53aGVlbCkge1xyXG5cdFx0XHRcdFx0Ly8gZGVsdGFZIHVzZWQgYnkgbmV3ZXIgdmVyc2lvbnMgb2YgbW91c2V3aGVlbCBwbHVnaW5cclxuXHRcdFx0XHRcdGRlbHRhID0gZGVsdGEgfHwgZS5kZWx0YVk7XHJcblx0XHRcdFx0XHR2YXIgbixcclxuXHRcdFx0XHRcdFx0dHh0ID0gYmFzZS5sYXN0LndoZWVsTGF5ZXJzIHx8IFtdO1xyXG5cdFx0XHRcdFx0aWYgKHR4dC5sZW5ndGggPiAxKSB7XHJcblx0XHRcdFx0XHRcdG4gPSBiYXNlLmxhc3Qud2hlZWxJbmRleCArIChkZWx0YSA+IDAgPyAtMSA6IDEpO1xyXG5cdFx0XHRcdFx0XHRpZiAobiA+IHR4dC5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0biA9IDA7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKG4gPCAwKSB7XHJcblx0XHRcdFx0XHRcdFx0biA9IHR4dC5sZW5ndGggLSAxO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRuID0gMDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJhc2UubGFzdC53aGVlbEluZGV4ID0gbjtcclxuXHRcdFx0XHRcdCRidG4uaHRtbCh0eHRbbl0pO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgMzApKVxyXG5cdFx0XHQuYmluZEJ1dHRvbignbW91c2Vkb3duIHRvdWNoc3RhcnQgJy5zcGxpdCgnICcpLmpvaW4oYmFzZS5uYW1lc3BhY2UgKyAna2IgJyksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgJGJ0biA9ICQodGhpcyk7XHJcblx0XHRcdFx0Ly8gbm8gbW91c2UgcmVwZWF0IGZvciBhY3Rpb24ga2V5cyAoc2hpZnQsIGN0cmwsIGFsdCwgbWV0YSwgZXRjKVxyXG5cdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdCEkYnRuIHx8IChcclxuXHRcdFx0XHRcdFx0JGJ0bi5oYXNDbGFzcyhrYmNzcy5rZXlBY3Rpb24pICYmXHJcblx0XHRcdFx0XHRcdC8vIG1vdXNlIHJlcGVhdGVkIGFjdGlvbiBrZXkgZXhjZXB0aW9uc1xyXG5cdFx0XHRcdFx0XHQhJGJ0bi5pcygnLicgKyBrYmNzcy5rZXlQcmVmaXggKyAoJ3RhYiBia3NwIHNwYWNlIGVudGVyJy5zcGxpdCgnICcpLmpvaW4oJywuJyArIGtiY3NzLmtleVByZWZpeCkpKVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoby5yZXBlYXRSYXRlICE9PSAwKSB7XHJcblx0XHRcdFx0XHQvLyBzYXZlIHRoZSBrZXksIG1ha2Ugc3VyZSB3ZSBhcmUgcmVwZWF0aW5nIHRoZSByaWdodCBvbmUgKGZhc3QgdHlwZXJzKVxyXG5cdFx0XHRcdFx0YmFzZS5tb3VzZVJlcGVhdCA9IFt0cnVlLCAkYnRuXTtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQvLyBkb24ndCByZXBlYXQga2V5cyBpZiBpdCBpcyBkaXNhYmxlZCAtIHNlZSAjNDMxXHJcblx0XHRcdFx0XHRcdGlmIChiYXNlICYmIGJhc2UubW91c2VSZXBlYXRbMF0gJiYgYmFzZS5tb3VzZVJlcGVhdFsxXSA9PT0gJGJ0biAmJiAhJGJ0blswXS5kaXNhYmxlZCkge1xyXG5cdFx0XHRcdFx0XHRcdGJhc2UucmVwZWF0S2V5KCRidG4pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCBvLnJlcGVhdERlbGF5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvLyBObyBjYWxsIG9uIHRhaWxpbmcgZXZlbnRcclxuXHRiYXNlLnRocm90dGxlRXZlbnQgPSBmdW5jdGlvbihjYiwgdGltZSkge1xyXG5cdFx0dmFyIGludGVybTtcclxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCFpbnRlcm0pIHtcclxuXHRcdFx0XHRjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdGludGVybSA9IHRydWU7XHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGludGVybSA9IGZhbHNlO1xyXG5cdFx0XHRcdH0sIHRpbWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdGJhc2UuZXhlY0NvbW1hbmQgPSBmdW5jdGlvbihjbWQsIHN0cikge1xyXG5cdFx0YmFzZS5lbC5vd25lckRvY3VtZW50LmV4ZWNDb21tYW5kKGNtZCwgZmFsc2UsIHN0cik7XHJcblx0XHRiYXNlLmVsLm5vcm1hbGl6ZSgpO1xyXG5cdFx0aWYgKG8ucmVwb3NpdGlvbikge1xyXG5cdFx0XHRiYXNlLnJlcG9zaXRpb24oKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRiYXNlLmdldFZhbHVlID0gZnVuY3Rpb24gKCRlbCkge1xyXG5cdFx0JGVsID0gJGVsIHx8IGJhc2UuJHByZXZpZXc7XHJcblx0XHRyZXR1cm4gJGVsW2Jhc2UuaXNDb250ZW50RWRpdGFibGUgPyAndGV4dCcgOiAndmFsJ10oKTtcclxuXHR9O1xyXG5cclxuXHRiYXNlLnNldFZhbHVlID0gZnVuY3Rpb24gKHR4dCwgJGVsKSB7XHJcblx0XHQkZWwgPSAkZWwgfHwgYmFzZS4kcHJldmlldztcclxuXHRcdGlmIChiYXNlLmlzQ29udGVudEVkaXRhYmxlKSB7XHJcblx0XHRcdGlmICh0eHQgIT09ICRlbC50ZXh0KCkpIHtcclxuXHRcdFx0XHQka2V5Ym9hcmQucmVwbGFjZUNvbnRlbnQoJGVsLCB0eHQpO1xyXG5cdFx0XHRcdGJhc2Uuc2F2ZUNhcmV0KCk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCRlbC52YWwodHh0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBiYXNlO1xyXG5cdH07XHJcblxyXG5cdC8vIEluc2VydCB0ZXh0IGF0IGNhcmV0L3NlbGVjdGlvbiAtIHRoYW5rcyB0byBEZXJlayBXaWNrd2lyZSBmb3IgZml4aW5nIHRoaXMgdXAhXHJcblx0YmFzZS5pbnNlcnRUZXh0ID0gZnVuY3Rpb24gKHR4dCkge1xyXG5cdFx0aWYgKCFiYXNlLiRwcmV2aWV3KSB7IHJldHVybiBiYXNlOyB9XHJcblx0XHRpZiAodHlwZW9mIG8uYmVmb3JlSW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdHR4dCA9IG8uYmVmb3JlSW5zZXJ0KGJhc2UubGFzdC5ldmVudCwgYmFzZSwgYmFzZS5lbCwgdHh0KTtcclxuXHRcdH1cclxuXHRcdGlmICh0eXBlb2YgdHh0ID09PSAndW5kZWZpbmVkJyB8fCB0eHQgPT09IGZhbHNlKSB7XHJcblx0XHRcdGJhc2UubGFzdC5rZXkgPSAnJztcclxuXHRcdFx0cmV0dXJuIGJhc2U7XHJcblx0XHR9XHJcblx0XHRpZiAoYmFzZS5pc0NvbnRlbnRFZGl0YWJsZSkge1xyXG5cdFx0XHRyZXR1cm4gYmFzZS5pbnNlcnRDb250ZW50RWRpdGFibGUodHh0KTtcclxuXHRcdH1cclxuXHRcdHZhciB0LFxyXG5cdFx0XHRia3NwID0gZmFsc2UsXHJcblx0XHRcdGlzQmtzcCA9IHR4dCA9PT0gJ1xcYicsXHJcblx0XHRcdC8vIHVzZSBiYXNlLiRwcmV2aWV3LnZhbCgpIGluc3RlYWQgb2YgYmFzZS5wcmV2aWV3LnZhbHVlICh2YWwubGVuZ3RoIGluY2x1ZGVzIGNhcnJpYWdlIHJldHVybnMgaW4gSUUpLlxyXG5cdFx0XHR2YWwgPSBiYXNlLmdldFZhbHVlKCksXHJcblx0XHRcdHBvcyA9ICRrZXlib2FyZC5jYXJldChiYXNlLiRwcmV2aWV3KSxcclxuXHRcdFx0bGVuID0gdmFsLmxlbmd0aDsgLy8gc2F2ZSBvcmlnaW5hbCBjb250ZW50IGxlbmd0aFxyXG5cclxuXHRcdC8vIHNpbGx5IElFIGNhcmV0IGhhY2tzLi4uIGl0IHNob3VsZCB3b3JrIGNvcnJlY3RseSwgYnV0IG5hdmlnYXRpbmcgdXNpbmcgYXJyb3cga2V5cyBpbiBhIHRleHRhcmVhXHJcblx0XHQvLyBpcyBzdGlsbCBkaWZmaWN1bHRcclxuXHRcdC8vIGluIElFLCBwb3MuZW5kIGNhbiBiZSB6ZXJvIGFmdGVyIGlucHV0IGxvc2VzIGZvY3VzXHJcblx0XHRpZiAocG9zLmVuZCA8IHBvcy5zdGFydCkge1xyXG5cdFx0XHRwb3MuZW5kID0gcG9zLnN0YXJ0O1xyXG5cdFx0fVxyXG5cdFx0aWYgKHBvcy5zdGFydCA+IGxlbikge1xyXG5cdFx0XHRwb3MuZW5kID0gcG9zLnN0YXJ0ID0gbGVuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChiYXNlLmlzVGV4dEFyZWEpIHtcclxuXHRcdFx0Ly8gVGhpcyBtYWtlcyBzdXJlIHRoZSBjYXJldCBtb3ZlcyB0byB0aGUgbmV4dCBsaW5lIGFmdGVyIGNsaWNraW5nIG9uIGVudGVyIChtYW51YWwgdHlwaW5nIHdvcmtzIGZpbmUpXHJcblx0XHRcdGlmICgka2V5Ym9hcmQubXNpZSAmJiB2YWwuc3Vic3RyaW5nKHBvcy5zdGFydCwgcG9zLnN0YXJ0ICsgMSkgPT09ICdcXG4nKSB7XHJcblx0XHRcdFx0cG9zLnN0YXJ0ICs9IDE7XHJcblx0XHRcdFx0cG9zLmVuZCArPSAxO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dCA9IHBvcy5zdGFydDtcclxuXHRcdGlmICh0eHQgPT09ICd7ZH0nKSB7XHJcblx0XHRcdHR4dCA9ICcnO1xyXG5cdFx0XHRwb3MuZW5kICs9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzQmtzcCkge1xyXG5cdFx0XHR0eHQgPSAnJztcclxuXHRcdFx0YmtzcCA9IGlzQmtzcCAmJiB0ID09PSBwb3MuZW5kICYmIHQgPiAwO1xyXG5cdFx0fVxyXG5cdFx0dmFsID0gdmFsLnN1YnN0cmluZygwLCB0IC0gKGJrc3AgPyAxIDogMCkpICsgdHh0ICsgdmFsLnN1YnN0cmluZyhwb3MuZW5kKTtcclxuXHRcdHQgKz0gYmtzcCA/IC0xIDogdHh0Lmxlbmd0aDtcclxuXHJcblx0XHRiYXNlLnNldFZhbHVlKHZhbCk7XHJcblx0XHRiYXNlLnNhdmVDYXJldCh0LCB0KTsgLy8gc2F2ZSBjYXJldCBpbiBjYXNlIG9mIGJrc3BcclxuXHRcdGJhc2Uuc2V0U2Nyb2xsKCk7XHJcblx0XHQvLyBzZWUgIzUwNi4uIGFsbG93IGNoYWluaW5nIG9mIGluc2VydFRleHRcclxuXHRcdHJldHVybiBiYXNlO1xyXG5cdH07XHJcblxyXG5cdGJhc2UuaW5zZXJ0Q29udGVudEVkaXRhYmxlID0gZnVuY3Rpb24gKHR4dCkge1xyXG5cdFx0YmFzZS4kcHJldmlldy5mb2N1cygpO1xyXG5cdFx0YmFzZS5leGVjQ29tbWFuZCgnaW5zZXJ0VGV4dCcsIHR4dCk7XHJcblx0XHRiYXNlLnNhdmVDYXJldCgpO1xyXG5cdFx0cmV0dXJuIGJhc2U7XHJcblx0fTtcclxuXHJcblx0Ly8gY2hlY2sgbWF4IGxlbmd0aFxyXG5cdGJhc2UuY2hlY2tNYXhMZW5ndGggPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIWJhc2UuJHByZXZpZXcpIHsgcmV0dXJuOyB9XHJcblx0XHR2YXIgc3RhcnQsIGNhcmV0LFxyXG5cdFx0XHR2YWwgPSBiYXNlLmdldFZhbHVlKCksXHJcblx0XHRcdGxlbiA9IGJhc2UuaXNDb250ZW50RWRpdGFibGUgPyAka2V5Ym9hcmQuZ2V0RWRpdGFibGVMZW5ndGgoYmFzZS5lbCkgOiB2YWwubGVuZ3RoO1xyXG5cdFx0aWYgKG8ubWF4TGVuZ3RoICE9PSBmYWxzZSAmJiBsZW4gPiBvLm1heExlbmd0aCkge1xyXG5cdFx0XHRzdGFydCA9ICRrZXlib2FyZC5jYXJldChiYXNlLiRwcmV2aWV3KS5zdGFydDtcclxuXHRcdFx0Y2FyZXQgPSBNYXRoLm1pbihzdGFydCwgby5tYXhMZW5ndGgpO1xyXG5cclxuXHRcdFx0Ly8gcHJldmVudCBpbnNlcnRpbmcgbmV3IGNoYXJhY3RlcnMgd2hlbiBtYXhlZCAjMjg5XHJcblx0XHRcdGlmICghby5tYXhJbnNlcnQpIHtcclxuXHRcdFx0XHR2YWwgPSBiYXNlLmxhc3QudmFsO1xyXG5cdFx0XHRcdGNhcmV0ID0gc3RhcnQgLSAxOyAvLyBtb3ZlIGNhcmV0IGJhY2sgb25lXHJcblx0XHRcdH1cclxuXHRcdFx0YmFzZS5zZXRWYWx1ZSh2YWwuc3Vic3RyaW5nKDAsIG8ubWF4TGVuZ3RoKSk7XHJcblx0XHRcdC8vIHJlc3RvcmUgY2FyZXQgb24gY2hhbmdlLCBvdGhlcndpc2UgaXQgZW5kcyB1cCBhdCB0aGUgZW5kLlxyXG5cdFx0XHRiYXNlLnNhdmVDYXJldChjYXJldCwgY2FyZXQpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJhc2UuJGRlY0J0bi5sZW5ndGgpIHtcclxuXHRcdFx0YmFzZS5jaGVja0RlY2ltYWwoKTtcclxuXHRcdH1cclxuXHRcdC8vIGFsbG93IGNoYWluaW5nXHJcblx0XHRyZXR1cm4gYmFzZTtcclxuXHR9O1xyXG5cclxuXHQvLyBtb3VzZWRvd24gcmVwZWF0ZXJcclxuXHRiYXNlLnJlcGVhdEtleSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuXHRcdGtleS50cmlnZ2VyKCRrZXlib2FyZC5ldmVudHMua2JSZXBlYXRlcik7XHJcblx0XHRpZiAoYmFzZS5tb3VzZVJlcGVhdFswXSkge1xyXG5cdFx0XHRiYXNlLnJlcGVhdGVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKGJhc2Upe1xyXG5cdFx0XHRcdFx0YmFzZS5yZXBlYXRLZXkoa2V5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIGJhc2UucmVwZWF0VGltZSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0YmFzZS5nZXRLZXlTZXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgc2V0cyA9IFtdO1xyXG5cdFx0aWYgKGJhc2UuYWx0QWN0aXZlKSB7XHJcblx0XHRcdHNldHMucHVzaCgnYWx0Jyk7XHJcblx0XHR9XHJcblx0XHRpZiAoYmFzZS5zaGlmdEFjdGl2ZSkge1xyXG5cdFx0XHRzZXRzLnB1c2goJ3NoaWZ0Jyk7XHJcblx0XHR9XHJcblx0XHRpZiAoYmFzZS5tZXRhQWN0aXZlKSB7XHJcblx0XHRcdC8vIGJhc2UubWV0YUFjdGl2ZSBjb250YWlucyB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlXHJcblx0XHRcdC8vIGN1cnJlbnQgbWV0YSBrZXlzZXRcclxuXHRcdFx0c2V0cy5wdXNoKGJhc2UubWV0YUFjdGl2ZSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc2V0cy5sZW5ndGggPyBzZXRzLmpvaW4oJysnKSA6ICdub3JtYWwnO1xyXG5cdH07XHJcblxyXG5cdC8vIG1ha2UgaXQgZWFzaWVyIHRvIHN3aXRjaCBrZXlzZXRzIHZpYSBBUElcclxuXHQvLyBzaG93S2V5U2V0KCdzaGlmdCthbHQrbWV0YTEnKVxyXG5cdGJhc2Uuc2hvd0tleVNldCA9IGZ1bmN0aW9uIChzdHIpIHtcclxuXHRcdGlmICh0eXBlb2Ygc3RyID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRiYXNlLmxhc3Qua2V5c2V0ID0gW2Jhc2Uuc2hpZnRBY3RpdmUsIGJhc2UuYWx0QWN0aXZlLCBiYXNlLm1ldGFBY3RpdmVdO1xyXG5cdFx0XHRiYXNlLnNoaWZ0QWN0aXZlID0gL3NoaWZ0L2kudGVzdChzdHIpO1xyXG5cdFx0XHRiYXNlLmFsdEFjdGl2ZSA9IC9hbHQvaS50ZXN0KHN0cik7XHJcblx0XHRcdGlmICgvXFxibWV0YS8udGVzdChzdHIpKSB7XHJcblx0XHRcdFx0YmFzZS5tZXRhQWN0aXZlID0gdHJ1ZTtcclxuXHRcdFx0XHRiYXNlLnNob3dTZXQoc3RyLm1hdGNoKC9cXGJtZXRhW1xcdy1dKy9pKVswXSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YmFzZS5tZXRhQWN0aXZlID0gZmFsc2U7XHJcblx0XHRcdFx0YmFzZS5zaG93U2V0KCk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJhc2Uuc2hvd1NldChzdHIpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gYWxsb3cgY2hhaW5pbmdcclxuXHRcdHJldHVybiBiYXNlO1xyXG5cdH07XHJcblxyXG5cdGJhc2Uuc2hvd1NldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcblx0XHRpZiAoIWJhc2UuaGFzS2V5Ym9hcmQoKSkgeyByZXR1cm47IH1cclxuXHRcdG8gPSBiYXNlLm9wdGlvbnM7IC8vIHJlZnJlc2ggb3B0aW9uc1xyXG5cdFx0dmFyIGtiY3NzID0gJGtleWJvYXJkLmNzcyxcclxuXHRcdFx0cHJlZml4ID0gJy4nICsga2Jjc3Mua2V5UHJlZml4LFxyXG5cdFx0XHRhY3RpdmUgPSBvLmNzcy5idXR0b25BY3RpdmUsXHJcblx0XHRcdGtleSA9ICcnLFxyXG5cdFx0XHR0b1Nob3cgPSAoYmFzZS5zaGlmdEFjdGl2ZSA/IDEgOiAwKSArIChiYXNlLmFsdEFjdGl2ZSA/IDIgOiAwKTtcclxuXHRcdGlmICghYmFzZS5zaGlmdEFjdGl2ZSkge1xyXG5cdFx0XHRiYXNlLmNhcHNMb2NrID0gZmFsc2U7XHJcblx0XHR9XHJcblx0XHQvLyBjaGVjayBtZXRhIGtleSBzZXRcclxuXHRcdGlmIChiYXNlLm1ldGFBY3RpdmUpIHtcclxuXHRcdFx0Ly8gcmVtb3ZlIFwiLXNoaWZ0XCIgYW5kIFwiLWFsdFwiIGZyb20gbWV0YSBuYW1lIGlmIGl0IGV4aXN0c1xyXG5cdFx0XHRpZiAoYmFzZS5zaGlmdEFjdGl2ZSkge1xyXG5cdFx0XHRcdG5hbWUgPSAobmFtZSB8fCAnJykucmVwbGFjZSgnLXNoaWZ0JywgJycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChiYXNlLmFsdEFjdGl2ZSkge1xyXG5cdFx0XHRcdG5hbWUgPSAobmFtZSB8fCAnJykucmVwbGFjZSgnLWFsdCcsICcnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyB0aGUgbmFtZSBhdHRyaWJ1dGUgY29udGFpbnMgdGhlIG1ldGEgc2V0IG5hbWUgJ21ldGE5OSdcclxuXHRcdFx0a2V5ID0gKC9ebWV0YS9pLnRlc3QobmFtZSkpID8gbmFtZSA6ICcnO1xyXG5cdFx0XHQvLyBzYXZlIGFjdGl2ZSBtZXRhIGtleXNldCBuYW1lXHJcblx0XHRcdGlmIChrZXkgPT09ICcnKSB7XHJcblx0XHRcdFx0a2V5ID0gKGJhc2UubWV0YUFjdGl2ZSA9PT0gdHJ1ZSkgPyAnJyA6IGJhc2UubWV0YUFjdGl2ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRiYXNlLm1ldGFBY3RpdmUgPSBrZXk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgbWV0YSBrZXlzZXQgZG9lc24ndCBoYXZlIGEgc2hpZnQgb3IgYWx0IGtleXNldCwgdGhlbiBzaG93IGp1c3QgdGhlIG1ldGEga2V5IHNldFxyXG5cdFx0XHRpZiAoKCFvLnN0aWNreVNoaWZ0ICYmIGJhc2UubGFzdC5rZXlzZXRbMl0gIT09IGJhc2UubWV0YUFjdGl2ZSkgfHxcclxuXHRcdFx0XHQoKGJhc2Uuc2hpZnRBY3RpdmUgfHwgYmFzZS5hbHRBY3RpdmUpICYmXHJcblx0XHRcdFx0IWJhc2UuJGtleWJvYXJkLmZpbmQoJy4nICsga2Jjc3Mua2V5U2V0ICsgJy0nICsga2V5ICsgYmFzZS5yb3dzW3RvU2hvd10pLmxlbmd0aCkpIHtcclxuXHRcdFx0XHRiYXNlLnNoaWZ0QWN0aXZlID0gYmFzZS5hbHRBY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmICghby5zdGlja3lTaGlmdCAmJiBiYXNlLmxhc3Qua2V5c2V0WzJdICE9PSBiYXNlLm1ldGFBY3RpdmUgJiYgYmFzZS5zaGlmdEFjdGl2ZSkge1xyXG5cdFx0XHQvLyBzd2l0Y2hpbmcgZnJvbSBtZXRhIGtleSBzZXQgYmFjayB0byBkZWZhdWx0LCByZXNldCBzaGlmdCAmIGFsdCBpZiB1c2luZyBzdGlja3lTaGlmdFxyXG5cdFx0XHRiYXNlLnNoaWZ0QWN0aXZlID0gYmFzZS5hbHRBY3RpdmUgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHRvU2hvdyA9IChiYXNlLnNoaWZ0QWN0aXZlID8gMSA6IDApICsgKGJhc2UuYWx0QWN0aXZlID8gMiA6IDApO1xyXG5cdFx0a2V5ID0gKHRvU2hvdyA9PT0gMCAmJiAhYmFzZS5tZXRhQWN0aXZlKSA/ICctbm9ybWFsJyA6IChrZXkgPT09ICcnKSA/ICcnIDogJy0nICsga2V5O1xyXG5cdFx0aWYgKCFiYXNlLiRrZXlib2FyZC5maW5kKCcuJyArIGtiY3NzLmtleVNldCArIGtleSArIGJhc2Uucm93c1t0b1Nob3ddKS5sZW5ndGgpIHtcclxuXHRcdFx0Ly8ga2V5c2V0IGRvZXNuJ3QgZXhpc3QsIHNvIHJlc3RvcmUgbGFzdCBrZXlzZXQgc2V0dGluZ3NcclxuXHRcdFx0YmFzZS5zaGlmdEFjdGl2ZSA9IGJhc2UubGFzdC5rZXlzZXRbMF07XHJcblx0XHRcdGJhc2UuYWx0QWN0aXZlID0gYmFzZS5sYXN0LmtleXNldFsxXTtcclxuXHRcdFx0YmFzZS5tZXRhQWN0aXZlID0gYmFzZS5sYXN0LmtleXNldFsyXTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0YmFzZS4ka2V5Ym9hcmRcclxuXHRcdFx0LmZpbmQocHJlZml4ICsgJ2FsdCwnICsgcHJlZml4ICsgJ3NoaWZ0LC4nICsga2Jjc3Mua2V5QWN0aW9uICsgJ1tjbGFzcyo9bWV0YV0nKVxyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoYWN0aXZlKVxyXG5cdFx0XHQuZW5kKClcclxuXHRcdFx0LmZpbmQocHJlZml4ICsgJ2FsdCcpXHJcblx0XHRcdC50b2dnbGVDbGFzcyhhY3RpdmUsIGJhc2UuYWx0QWN0aXZlKVxyXG5cdFx0XHQuZW5kKClcclxuXHRcdFx0LmZpbmQocHJlZml4ICsgJ3NoaWZ0JylcclxuXHRcdFx0LnRvZ2dsZUNsYXNzKGFjdGl2ZSwgYmFzZS5zaGlmdEFjdGl2ZSlcclxuXHRcdFx0LmVuZCgpXHJcblx0XHRcdC5maW5kKHByZWZpeCArICdsb2NrJylcclxuXHRcdFx0LnRvZ2dsZUNsYXNzKGFjdGl2ZSwgYmFzZS5jYXBzTG9jaylcclxuXHRcdFx0LmVuZCgpXHJcblx0XHRcdC5maW5kKCcuJyArIGtiY3NzLmtleVNldClcclxuXHRcdFx0LmhpZGUoKVxyXG5cdFx0XHQuZW5kKClcclxuXHRcdFx0LmZpbmQoJy4nICsgKGtiY3NzLmtleUFjdGlvbiArIHByZWZpeCArIGtleSkucmVwbGFjZSgnLS0nLCAnLScpKVxyXG5cdFx0XHQuYWRkQ2xhc3MoYWN0aXZlKTtcclxuXHJcblx0XHQvLyBzaG93IGtleXNldCB1c2luZyBpbmxpbmUtYmxvY2sgKCBleHRlbmRlciBsYXlvdXQgd2lsbCB0aGVuIGxpbmUgdXAgKVxyXG5cdFx0YmFzZS4ka2V5Ym9hcmQuZmluZCgnLicgKyBrYmNzcy5rZXlTZXQgKyBrZXkgKyBiYXNlLnJvd3NbdG9TaG93XSlbMF0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG5cdFx0aWYgKGJhc2UubWV0YUFjdGl2ZSkge1xyXG5cdFx0XHRiYXNlLiRrZXlib2FyZC5maW5kKHByZWZpeCArIGJhc2UubWV0YUFjdGl2ZSlcclxuXHRcdFx0XHQvLyBiYXNlLm1ldGFBY3RpdmUgY29udGFpbnMgdGhlIHN0cmluZyBcIm1ldGEjXCIgb3IgZmFsc2VcclxuXHRcdFx0XHQvLyB3aXRob3V0IHRoZSAhPT0gZmFsc2UsIGpRdWVyeSBVSSB0cmllcyB0byB0cmFuc2l0aW9uIHRoZSBjbGFzc2VzXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKGFjdGl2ZSwgYmFzZS5tZXRhQWN0aXZlICE9PSBmYWxzZSk7XHJcblx0XHR9XHJcblx0XHRiYXNlLmxhc3Qua2V5c2V0ID0gW2Jhc2Uuc2hpZnRBY3RpdmUsIGJhc2UuYWx0QWN0aXZlLCBiYXNlLm1ldGFBY3RpdmVdO1xyXG5cdFx0YmFzZS4kZWwudHJpZ2dlcigka2V5Ym9hcmQuZXZlbnRzLmtiS2V5c2V0Q2hhbmdlLCBbYmFzZSwgYmFzZS5lbF0pO1xyXG5cdFx0aWYgKG8ucmVwb3NpdGlvbikge1xyXG5cdFx0XHRiYXNlLnJlcG9zaXRpb24oKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBjaGVjayBmb3Iga2V5IGNvbWJvcyAoZGVhZCBrZXlzKVxyXG5cdGJhc2UuY2hlY2tDb21ib3MgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyByZXR1cm4gdmFsIGZvciBjbG9zZSBmdW5jdGlvblxyXG5cdFx0aWYgKCAhKFxyXG5cdFx0XHRiYXNlLmlzVmlzaWJsZSgpIHx8IChcclxuXHRcdFx0XHRiYXNlLmhhc0tleWJvYXJkKCkgJiZcclxuXHRcdFx0XHRiYXNlLiRrZXlib2FyZC5oYXNDbGFzcyggJGtleWJvYXJkLmNzcy5oYXNGb2N1cyApXHJcblx0XHRcdClcclxuXHRcdCkgKSB7XHJcblx0XHRcdHJldHVybiBiYXNlLmdldFZhbHVlKGJhc2UuJHByZXZpZXcgfHwgYmFzZS4kZWwpO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHIsIHQsIHQyLCByZXBsLFxyXG5cdFx0XHQvLyB1c2UgYmFzZS4kcHJldmlldy52YWwoKSBpbnN0ZWFkIG9mIGJhc2UucHJldmlldy52YWx1ZVxyXG5cdFx0XHQvLyAodmFsLmxlbmd0aCBpbmNsdWRlcyBjYXJyaWFnZSByZXR1cm5zIGluIElFKS5cclxuXHRcdFx0dmFsID0gYmFzZS5nZXRWYWx1ZSgpLFxyXG5cdFx0XHRwb3MgPSAka2V5Ym9hcmQuY2FyZXQoYmFzZS4kcHJldmlldyksXHJcblx0XHRcdGxheW91dCA9ICRrZXlib2FyZC5idWlsdExheW91dHNbYmFzZS5sYXlvdXRdLFxyXG5cdFx0XHRtYXggPSBiYXNlLmlzQ29udGVudEVkaXRhYmxlID8gJGtleWJvYXJkLmdldEVkaXRhYmxlTGVuZ3RoKGJhc2UuZWwpIDogdmFsLmxlbmd0aCxcclxuXHRcdFx0Ly8gc2F2ZSBvcmlnaW5hbCBjb250ZW50IGxlbmd0aFxyXG5cdFx0XHRsZW4gPSBtYXg7XHJcblx0XHQvLyByZXR1cm4gaWYgdmFsIGlzIGVtcHR5OyBmaXhlcyAjMzUyXHJcblx0XHRpZiAodmFsID09PSAnJykge1xyXG5cdFx0XHQvLyBjaGVjayB2YWxpZCBvbiBlbXB0eSBzdHJpbmcgLSBzZWUgIzQyOVxyXG5cdFx0XHRpZiAoby5hY2NlcHRWYWxpZCkge1xyXG5cdFx0XHRcdGJhc2UuY2hlY2tWYWxpZCgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB2YWw7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gc2lsbHkgSUUgY2FyZXQgaGFja3MuLi4gaXQgc2hvdWxkIHdvcmsgY29ycmVjdGx5LCBidXQgbmF2aWdhdGluZyB1c2luZyBhcnJvdyBrZXlzIGluIGEgdGV4dGFyZWFcclxuXHRcdC8vIGlzIHN0aWxsIGRpZmZpY3VsdFxyXG5cdFx0Ly8gaW4gSUUsIHBvcy5lbmQgY2FuIGJlIHplcm8gYWZ0ZXIgaW5wdXQgbG9zZXMgZm9jdXNcclxuXHRcdGlmIChwb3MuZW5kIDwgcG9zLnN0YXJ0KSB7XHJcblx0XHRcdHBvcy5lbmQgPSBwb3Muc3RhcnQ7XHJcblx0XHR9XHJcblx0XHRpZiAocG9zLnN0YXJ0ID4gbGVuKSB7XHJcblx0XHRcdHBvcy5lbmQgPSBwb3Muc3RhcnQgPSBsZW47XHJcblx0XHR9XHJcblx0XHQvLyBUaGlzIG1ha2VzIHN1cmUgdGhlIGNhcmV0IG1vdmVzIHRvIHRoZSBuZXh0IGxpbmUgYWZ0ZXIgY2xpY2tpbmcgb24gZW50ZXIgKG1hbnVhbCB0eXBpbmcgd29ya3MgZmluZSlcclxuXHRcdGlmICgka2V5Ym9hcmQubXNpZSAmJiB2YWwuc3Vic3RyaW5nKHBvcy5zdGFydCwgcG9zLnN0YXJ0ICsgMSkgPT09ICdcXG4nKSB7XHJcblx0XHRcdHBvcy5zdGFydCArPSAxO1xyXG5cdFx0XHRwb3MuZW5kICs9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG8udXNlQ29tYm9zKSB7XHJcblx0XHRcdC8vIGtlZXAgJ2EnIGFuZCAnbycgaW4gdGhlIHJlZ2V4IGZvciBhZSBhbmQgb2UgbGlnYXR1cmUgKMOmLMWTKVxyXG5cdFx0XHQvLyB0aGFua3MgdG8gS2VubnlUTTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNDI3NTA3N1xyXG5cdFx0XHQvLyBvcmlnaW5hbCByZWdleCAvKFtgXFwnflxcXlxcXCJhb10pKFthLXpdKS9taWcgbW92ZWQgdG8gJC5rZXlib2FyZC5jb21ib1JlZ2V4XHJcblx0XHRcdGlmICgka2V5Ym9hcmQubXNpZSkge1xyXG5cdFx0XHRcdC8vIG9sZCBJRSBtYXkgbm90IGhhdmUgdGhlIGNhcmV0IHBvc2l0aW9uZWQgY29ycmVjdGx5LCBzbyBqdXN0IGNoZWNrIHRoZSB3aG9sZSB0aGluZ1xyXG5cdFx0XHRcdHZhbCA9IHZhbC5yZXBsYWNlKGJhc2UucmVnZXgsIGZ1bmN0aW9uIChzLCBhY2NlbnQsIGxldHRlcikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIChvLmNvbWJvcy5oYXNPd25Qcm9wZXJ0eShhY2NlbnQpKSA/IG8uY29tYm9zW2FjY2VudF1bbGV0dGVyXSB8fCBzIDogcztcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyBwcmV2ZW50IGNvbWJvIHJlcGxhY2UgZXJyb3IsIGluIGNhc2UgdGhlIGtleWJvYXJkIGNsb3NlcyAtIHNlZSBpc3N1ZSAjMTE2XHJcblx0XHRcdH0gZWxzZSBpZiAoYmFzZS4kcHJldmlldy5sZW5ndGgpIHtcclxuXHRcdFx0XHQvLyBNb2Rlcm4gYnJvd3NlcnMgLSBjaGVjayBmb3IgY29tYm9zIGZyb20gbGFzdCB0d28gY2hhcmFjdGVycyBsZWZ0IG9mIHRoZSBjYXJldFxyXG5cdFx0XHRcdHQgPSBwb3Muc3RhcnQgLSAocG9zLnN0YXJ0IC0gMiA+PSAwID8gMiA6IDApO1xyXG5cdFx0XHRcdC8vIHRhcmdldCBsYXN0IHR3byBjaGFyYWN0ZXJzXHJcblx0XHRcdFx0JGtleWJvYXJkLmNhcmV0KGJhc2UuJHByZXZpZXcsIHQsIHBvcy5lbmQpO1xyXG5cdFx0XHRcdC8vIGRvIGNvbWJvIHJlcGxhY2VcclxuXHRcdFx0XHR0ID0gJGtleWJvYXJkLmNhcmV0KGJhc2UuJHByZXZpZXcpO1xyXG5cdFx0XHRcdHJlcGwgPSBmdW5jdGlvbiAodHh0KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gKHR4dCB8fCAnJykucmVwbGFjZShiYXNlLnJlZ2V4LCBmdW5jdGlvbiAocywgYWNjZW50LCBsZXR0ZXIpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIChvLmNvbWJvcy5oYXNPd25Qcm9wZXJ0eShhY2NlbnQpKSA/IG8uY29tYm9zW2FjY2VudF1bbGV0dGVyXSB8fCBzIDogcztcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0dDIgPSByZXBsKHQudGV4dCk7XHJcblx0XHRcdFx0Ly8gYWRkIGNvbWJvIGJhY2tcclxuXHRcdFx0XHQvLyBwcmV2ZW50IGVycm9yIGlmIGNhcmV0IGRvZXNuJ3QgcmV0dXJuIGEgZnVuY3Rpb25cclxuXHRcdFx0XHRpZiAodCAmJiB0LnJlcGxhY2VTdHIgJiYgdDIgIT09IHQudGV4dCkge1xyXG5cdFx0XHRcdFx0aWYgKGJhc2UuaXNDb250ZW50RWRpdGFibGUpIHtcclxuXHRcdFx0XHRcdFx0JGtleWJvYXJkLnJlcGxhY2VDb250ZW50KGVsLCByZXBsKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGJhc2Uuc2V0VmFsdWUodC5yZXBsYWNlU3RyKHQyKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhbCA9IGJhc2UuZ2V0VmFsdWUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNoZWNrIGlucHV0IHJlc3RyaWN0aW9ucyAtIGluIGNhc2UgY29udGVudCB3YXMgcGFzdGVkXHJcblx0XHRpZiAoby5yZXN0cmljdElucHV0ICYmIHZhbCAhPT0gJycpIHtcclxuXHRcdFx0dCA9IGxheW91dC5hY2NlcHRlZEtleXMubGVuZ3RoO1xyXG5cclxuXHRcdFx0ciA9IGxheW91dC5hY2NlcHRlZEtleXNSZWdleDtcclxuXHRcdFx0aWYgKCFyKSB7XHJcblx0XHRcdFx0dDIgPSAkLm1hcChsYXlvdXQuYWNjZXB0ZWRLZXlzLCBmdW5jdGlvbiAodikge1xyXG5cdFx0XHRcdFx0Ly8gZXNjYXBlIGFueSBzcGVjaWFsIGNoYXJhY3RlcnNcclxuXHRcdFx0XHRcdHJldHVybiB2LnJlcGxhY2UoYmFzZS5lc2NhcGVSZWdleCwgJ1xcXFwkJicpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmIChiYXNlLmFsd2F5c0FsbG93ZWQuaW5kZXhPZigka2V5Ym9hcmQua2V5Q29kZXMuZW50ZXIpID4gLTEpIHtcclxuXHRcdFx0XHRcdHQyLnB1c2goJ1xcXFxuJyk7IC8vIEZpeGVzICM2ODZcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ciA9IGxheW91dC5hY2NlcHRlZEtleXNSZWdleCA9IG5ldyBSZWdFeHAoJygnICsgdDIuam9pbignfCcpICsgJyknLCAnZycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIG9ubHkgc2F2ZSBtYXRjaGluZyBrZXlzXHJcblx0XHRcdHQyID0gdmFsLm1hdGNoKHIpO1xyXG5cdFx0XHRpZiAodDIpIHtcclxuXHRcdFx0XHR2YWwgPSB0Mi5qb2luKCcnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBubyB2YWxpZCBjaGFyYWN0ZXJzXHJcblx0XHRcdFx0dmFsID0gJyc7XHJcblx0XHRcdFx0bGVuID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHNhdmUgY2hhbmdlcywgdGhlbiByZXBvc2l0aW9uIGNhcmV0XHJcblx0XHRwb3Muc3RhcnQgKz0gbWF4IC0gbGVuO1xyXG5cdFx0cG9zLmVuZCArPSBtYXggLSBsZW47XHJcblxyXG5cdFx0YmFzZS5zZXRWYWx1ZSh2YWwpO1xyXG5cdFx0YmFzZS5zYXZlQ2FyZXQocG9zLnN0YXJ0LCBwb3MuZW5kKTtcclxuXHRcdC8vIHNldCBzY3JvbGwgdG8ga2VlcCBjYXJldCBpbiB2aWV3XHJcblx0XHRiYXNlLnNldFNjcm9sbCgpO1xyXG5cdFx0YmFzZS5jaGVja01heExlbmd0aCgpO1xyXG5cclxuXHRcdGlmIChvLmFjY2VwdFZhbGlkKSB7XHJcblx0XHRcdGJhc2UuY2hlY2tWYWxpZCgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHZhbDsgLy8gcmV0dXJuIHRleHQsIHVzZWQgZm9yIGtleWJvYXJkIGNsb3Npbmcgc2VjdGlvblxyXG5cdH07XHJcblxyXG5cdC8vIFRvZ2dsZSBhY2NlcHQgYnV0dG9uIGNsYXNzZXMsIGlmIHZhbGlkYXRpbmdcclxuXHRiYXNlLmNoZWNrVmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIga2Jjc3MgPSAka2V5Ym9hcmQuY3NzLFxyXG5cdFx0XHQkYWNjZXB0ID0gYmFzZS4ka2V5Ym9hcmQuZmluZCgnLicgKyBrYmNzcy5rZXlQcmVmaXggKyAnYWNjZXB0JyksXHJcblx0XHRcdHZhbGlkID0gdHJ1ZTtcclxuXHRcdGlmICh0eXBlb2Ygby52YWxpZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHR2YWxpZCA9IG8udmFsaWRhdGUoYmFzZSwgYmFzZS5nZXRWYWx1ZSgpLCBmYWxzZSk7XHJcblx0XHR9XHJcblx0XHQvLyB0b2dnbGUgYWNjZXB0IGJ1dHRvbiBjbGFzc2VzOyBkZWZpbmVkIGluIHRoZSBjc3NcclxuXHRcdCRhY2NlcHRcclxuXHRcdFx0LnRvZ2dsZUNsYXNzKGtiY3NzLmlucHV0SW52YWxpZCwgIXZhbGlkKVxyXG5cdFx0XHQudG9nZ2xlQ2xhc3Moa2Jjc3MuaW5wdXRWYWxpZCwgdmFsaWQpXHJcblx0XHRcdC8vIHVwZGF0ZSB0aXRsZSB0byBpbmRpY2F0ZSB0aGF0IHRoZSBlbnRyeSBpcyB2YWxpZCBvciBpbnZhbGlkXHJcblx0XHRcdC5hdHRyKCd0aXRsZScsICRhY2NlcHQuYXR0cignZGF0YS10aXRsZScpICsgJyAoJyArIG8uZGlzcGxheVt2YWxpZCA/ICd2YWxpZCcgOiAnaW52YWxpZCddICsgJyknKTtcclxuXHR9O1xyXG5cclxuXHQvLyBEZWNpbWFsIGJ1dHRvbiBmb3IgbnVtIHBhZCAtIG9ubHkgYWxsb3cgb25lIChub3QgdXNlZCBieSBkZWZhdWx0KVxyXG5cdGJhc2UuY2hlY2tEZWNpbWFsID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gQ2hlY2sgVVMgJy4nIG9yIEV1cm9wZWFuICcsJyBmb3JtYXRcclxuXHRcdGlmICgoYmFzZS5kZWNpbWFsICYmIC9cXC4vZy50ZXN0KGJhc2UucHJldmlldy52YWx1ZSkpIHx8XHJcblx0XHRcdCghYmFzZS5kZWNpbWFsICYmIC9cXCwvZy50ZXN0KGJhc2UucHJldmlldy52YWx1ZSkpKSB7XHJcblx0XHRcdGJhc2UuJGRlY0J0blxyXG5cdFx0XHRcdC5hdHRyKHtcclxuXHRcdFx0XHRcdCdkaXNhYmxlZCc6ICdkaXNhYmxlZCcsXHJcblx0XHRcdFx0XHQnYXJpYS1kaXNhYmxlZCc6ICd0cnVlJ1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKG8uY3NzLmJ1dHRvbkhvdmVyKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyhvLmNzcy5idXR0b25EaXNhYmxlZCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRiYXNlLiRkZWNCdG5cclxuXHRcdFx0XHQucmVtb3ZlQXR0cignZGlzYWJsZWQnKVxyXG5cdFx0XHRcdC5hdHRyKHtcclxuXHRcdFx0XHRcdCdhcmlhLWRpc2FibGVkJzogJ2ZhbHNlJ1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmFkZENsYXNzKG8uY3NzLmJ1dHRvbkRlZmF1bHQpXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKG8uY3NzLmJ1dHRvbkRpc2FibGVkKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBnZXQgb3RoZXIgbGF5ZXIgdmFsdWVzIGZvciBhIHNwZWNpZmljIGtleVxyXG5cdGJhc2UuZ2V0TGF5ZXJzID0gZnVuY3Rpb24gKCRlbCkge1xyXG5cdFx0dmFyIGtiY3NzID0gJGtleWJvYXJkLmNzcyxcclxuXHRcdFx0a2V5ID0gJGVsLmF0dHIoJ2RhdGEtcG9zJyksXHJcblx0XHRcdCRrZXlzID0gJGVsLmNsb3Nlc3QoJy4nICsga2Jjc3Mua2V5Ym9hcmQpXHJcblx0XHRcdC5maW5kKCdidXR0b25bZGF0YS1wb3M9XCInICsga2V5ICsgJ1wiXScpO1xyXG5cdFx0cmV0dXJuICRrZXlzLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiAkKHRoaXMpXHJcblx0XHRcdFx0LmZpbmQoJy4nICsga2Jjc3Mua2V5VGV4dClcclxuXHRcdFx0XHQudGV4dCgpICE9PSAnJztcclxuXHRcdH0pXHJcblx0XHQuYWRkKCRlbCk7XHJcblx0fTtcclxuXHJcblx0Ly8gR28gdG8gbmV4dCBvciBwcmV2IGlucHV0c1xyXG5cdC8vIGdvVG9OZXh0ID0gdHJ1ZSwgdGhlbiBnbyB0byBuZXh0IGlucHV0OyBpZiBmYWxzZSBnbyB0byBwcmV2XHJcblx0Ly8gaXNBY2NlcHRlZCBpcyBmcm9tIGF1dG9BY2NlcHQgb3B0aW9uIG9yIHRydWUgaWYgdXNlciBwcmVzc2VzIHNoaWZ0K2VudGVyXHJcblx0YmFzZS5zd2l0Y2hJbnB1dCA9IGZ1bmN0aW9uIChnb1RvTmV4dCwgaXNBY2NlcHRlZCkge1xyXG5cdFx0aWYgKHR5cGVvZiBvLnN3aXRjaElucHV0ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdG8uc3dpdGNoSW5wdXQoYmFzZSwgZ29Ub05leHQsIGlzQWNjZXB0ZWQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gYmFzZS4ka2V5Ym9hcmQgbWF5IGJlIGFuIGVtcHR5IGFycmF5IC0gc2VlICMyNzUgKGFwb2Q0MilcclxuXHRcdFx0aWYgKGJhc2UuJGtleWJvYXJkLmxlbmd0aCkge1xyXG5cdFx0XHRcdGJhc2UuJGtleWJvYXJkLmhpZGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIga2IsXHJcblx0XHRcdFx0c3RvcHBlZCA9IGZhbHNlLFxyXG5cdFx0XHRcdGFsbCA9ICQoJ2J1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGEsIFtjb250ZW50ZWRpdGFibGVdJylcclxuXHRcdFx0XHRcdC5maWx0ZXIoJzp2aXNpYmxlJylcclxuXHRcdFx0XHRcdC5ub3QoJzpkaXNhYmxlZCcpLFxyXG5cdFx0XHRcdGluZHggPSBhbGwuaW5kZXgoYmFzZS4kZWwpICsgKGdvVG9OZXh0ID8gMSA6IC0xKTtcclxuXHRcdFx0aWYgKGJhc2UuJGtleWJvYXJkLmxlbmd0aCkge1xyXG5cdFx0XHRcdGJhc2UuJGtleWJvYXJkLnNob3coKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaW5keCA+IGFsbC5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0c3RvcHBlZCA9IG8uc3RvcEF0RW5kO1xyXG5cdFx0XHRcdGluZHggPSAwOyAvLyBnbyB0byBmaXJzdCBpbnB1dFxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpbmR4IDwgMCkge1xyXG5cdFx0XHRcdHN0b3BwZWQgPSBvLnN0b3BBdEVuZDtcclxuXHRcdFx0XHRpbmR4ID0gYWxsLmxlbmd0aCAtIDE7IC8vIHN0b3Agb3IgZ28gdG8gbGFzdFxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghc3RvcHBlZCkge1xyXG5cdFx0XHRcdGlzQWNjZXB0ZWQgPSBiYXNlLmNsb3NlKGlzQWNjZXB0ZWQpO1xyXG5cdFx0XHRcdGlmICghaXNBY2NlcHRlZCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRrYiA9IGFsbC5lcShpbmR4KS5kYXRhKCdrZXlib2FyZCcpO1xyXG5cdFx0XHRcdGlmIChrYiAmJiBrYi5vcHRpb25zLm9wZW5Pbi5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGtiLmZvY3VzT24oKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YWxsLmVxKGluZHgpLmZvY3VzKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fTtcclxuXHJcblx0Ly8gQ2xvc2UgdGhlIGtleWJvYXJkLCBpZiB2aXNpYmxlLiBQYXNzIGEgc3RhdHVzIG9mIHRydWUsIGlmIHRoZSBjb250ZW50IHdhcyBhY2NlcHRlZFxyXG5cdC8vIChmb3IgdGhlIGV2ZW50IHRyaWdnZXIpLlxyXG5cdGJhc2UuY2xvc2UgPSBmdW5jdGlvbiAoYWNjZXB0ZWQpIHtcclxuXHRcdGlmIChiYXNlLmlzT3BlbiAmJiBiYXNlLiRrZXlib2FyZC5sZW5ndGgpIHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KGJhc2UudGhyb3R0bGVkKTtcclxuXHRcdFx0dmFyIGtiY3NzID0gJGtleWJvYXJkLmNzcyxcclxuXHRcdFx0XHRrYmV2ZW50cyA9ICRrZXlib2FyZC5ldmVudHMsXHJcblx0XHRcdFx0dmFsID0gYWNjZXB0ZWQgPyBiYXNlLmNoZWNrQ29tYm9zKCkgOiBiYXNlLm9yaWdpbmFsQ29udGVudDtcclxuXHRcdFx0Ly8gdmFsaWRhdGUgaW5wdXQgaWYgYWNjZXB0ZWRcclxuXHRcdFx0aWYgKGFjY2VwdGVkICYmIHR5cGVvZiBvLnZhbGlkYXRlID09PSAnZnVuY3Rpb24nICYmICFvLnZhbGlkYXRlKGJhc2UsIHZhbCwgdHJ1ZSkpIHtcclxuXHRcdFx0XHR2YWwgPSBiYXNlLm9yaWdpbmFsQ29udGVudDtcclxuXHRcdFx0XHRhY2NlcHRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChvLmNhbmNlbENsb3NlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGJhc2UuaXNDdXJyZW50KGZhbHNlKTtcclxuXHRcdFx0YmFzZS5pc09wZW4gPSBvLmFsd2F5c09wZW4gfHwgby51c2VyQ2xvc2VkO1xyXG5cdFx0XHRpZiAoYmFzZS5pc0NvbnRlbnRFZGl0YWJsZSAmJiAhYWNjZXB0ZWQpIHtcclxuXHRcdFx0XHQvLyBiYXNlLm9yaWdpbmFsQ29udGVudCBzdG9yZXMgdGhlIEhUTUxcclxuXHRcdFx0XHRiYXNlLiRlbC5odG1sKHZhbCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YmFzZS5zZXRWYWx1ZSh2YWwsIGJhc2UuJGVsKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRiYXNlLiRlbFxyXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyhrYmNzcy5pc0N1cnJlbnQgKyAnICcgKyBrYmNzcy5pbnB1dEF1dG9BY2NlcHRlZClcclxuXHRcdFx0XHQvLyBhZGQgJ3VpLWtleWJvYXJkLWF1dG9hY2NlcHRlZCcgdG8gaW5wdXRzIC0gc2VlIGlzc3VlICM2NlxyXG5cdFx0XHRcdC5hZGRDbGFzcygoYWNjZXB0ZWQgfHwgZmFsc2UpID8gYWNjZXB0ZWQgPT09IHRydWUgPyAnJyA6IGtiY3NzLmlucHV0QXV0b0FjY2VwdGVkIDogJycpXHJcblx0XHRcdFx0Ly8gdHJpZ2dlciBkZWZhdWx0IGNoYW5nZSBldmVudCAtIHNlZSBpc3N1ZSAjMTQ2XHJcblx0XHRcdFx0LnRyaWdnZXIoa2JldmVudHMuaW5wdXRDaGFuZ2UpO1xyXG5cdFx0XHQvLyBkb24ndCB0cmlnZ2VyIGFuIGVtcHR5IGV2ZW50IC0gc2VlIGlzc3VlICM0NjNcclxuXHRcdFx0aWYgKCFvLmFsd2F5c09wZW4pIHtcclxuXHRcdFx0XHQvLyBkb24ndCB0cmlnZ2VyIGJlZm9yZUNsb3NlIGlmIGtleWJvYXJkIGlzIGFsd2F5cyBvcGVuXHJcblx0XHRcdFx0YmFzZS4kZWwudHJpZ2dlcihrYmV2ZW50cy5rYkJlZm9yZUNsb3NlLCBbYmFzZSwgYmFzZS5lbCwgKGFjY2VwdGVkIHx8IGZhbHNlKV0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHNhdmUgY2FyZXQgYWZ0ZXIgdXBkYXRpbmcgdmFsdWUgKGZpeGVzIHVzZXJDbG9zZWQgaXNzdWUgd2l0aCBjaGFuZ2luZyBmb2N1cylcclxuXHRcdFx0JGtleWJvYXJkLmNhcmV0KGJhc2UuJHByZXZpZXcsIGJhc2UubGFzdCk7XHJcblxyXG5cdFx0XHRiYXNlLiRlbFxyXG5cdFx0XHRcdC50cmlnZ2VyKCgoYWNjZXB0ZWQgfHwgZmFsc2UpID8ga2JldmVudHMuaW5wdXRBY2NlcHRlZCA6IGtiZXZlbnRzLmlucHV0Q2FuY2VsZWQpLCBbYmFzZSwgYmFzZS5lbF0pXHJcblx0XHRcdFx0LnRyaWdnZXIoKG8uYWx3YXlzT3BlbikgPyBrYmV2ZW50cy5rYkluYWN0aXZlIDoga2JldmVudHMua2JIaWRkZW4sIFtiYXNlLCBiYXNlLmVsXSlcclxuXHRcdFx0XHQuYmx1cigpO1xyXG5cclxuXHRcdFx0Ly8gYmFzZSBpcyB1bmRlZmluZWQgaWYga2V5Ym9hcmQgd2FzIGRlc3Ryb3llZCAtIGZpeGVzICMzNThcclxuXHRcdFx0aWYgKGJhc2UpIHtcclxuXHRcdFx0XHQvLyBhZGQgY2xvc2UgZXZlbnQgdGltZVxyXG5cdFx0XHRcdGJhc2UubGFzdC5ldmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdFx0XHRpZiAoIShvLmFsd2F5c09wZW4gfHwgby51c2VyQ2xvc2VkICYmIGFjY2VwdGVkID09PSAndHJ1ZScpICYmIGJhc2UuJGtleWJvYXJkLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Ly8gZnJlZSB1cCBtZW1vcnlcclxuXHRcdFx0XHRcdGJhc2UucmVtb3ZlS2V5Ym9hcmQoKTtcclxuXHRcdFx0XHRcdC8vIHJlYmluZCBpbnB1dCBmb2N1cyAtIGRlbGF5ZWQgdG8gZml4IElFIGlzc3VlICM3MlxyXG5cdFx0XHRcdFx0YmFzZS50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYmFzZSkge1xyXG5cdFx0XHRcdFx0XHRcdGJhc2UuYmluZEZvY3VzKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sIDIwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghYmFzZS53YXRlcm1hcmsgJiYgYmFzZS5lbC52YWx1ZSA9PT0gJycgJiYgYmFzZS5pblBsYWNlaG9sZGVyICE9PSAnJykge1xyXG5cdFx0XHRcdFx0YmFzZS4kZWwuYWRkQ2xhc3Moa2Jjc3MucGxhY2Vob2xkZXIpO1xyXG5cdFx0XHRcdFx0YmFzZS5zZXRWYWx1ZShiYXNlLmluUGxhY2Vob2xkZXIsIGJhc2UuJGVsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiAhIWFjY2VwdGVkO1xyXG5cdH07XHJcblxyXG5cdGJhc2UuYWNjZXB0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGJhc2UuY2xvc2UodHJ1ZSk7XHJcblx0fTtcclxuXHJcblx0YmFzZS5jaGVja0Nsb3NlID0gZnVuY3Rpb24gKGUpIHtcclxuXHRcdGlmIChiYXNlLm9wZW5pbmcpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0dmFyIGtiY3NzID0gJC5rZXlib2FyZC5jc3MsXHJcblx0XHRcdCR0YXJnZXQgPSBlLiR0YXJnZXQgfHwgJChlLnRhcmdldCkuY2xvc2VzdCgnLicgKyAka2V5Ym9hcmQuY3NzLmtleWJvYXJkICsgJywgLicgKyAka2V5Ym9hcmQuY3NzLmlucHV0KTtcclxuXHRcdGlmICghJHRhcmdldC5sZW5ndGgpIHtcclxuXHRcdFx0JHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gbmVlZGVkIGZvciBJRSB0byBhbGxvdyBzd2l0Y2hpbmcgYmV0d2VlbiBrZXlib2FyZHMgc21vb3RobHlcclxuXHRcdGlmICgkdGFyZ2V0Lmxlbmd0aCAmJiAkdGFyZ2V0Lmhhc0NsYXNzKGtiY3NzLmtleWJvYXJkKSkge1xyXG5cdFx0XHR2YXIga2IgPSAkdGFyZ2V0LmRhdGEoJ2tleWJvYXJkJyk7XHJcblx0XHRcdC8vIG9ubHkgdHJpZ2dlciBvbiBzZWxmXHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRrYiAhPT0gYmFzZSAmJlxyXG5cdFx0XHRcdCFrYi4kZWwuaGFzQ2xhc3Moa2Jjc3MuaXNDdXJyZW50KSAmJlxyXG5cdFx0XHRcdGtiLm9wdGlvbnMub3Blbk9uICYmXHJcblx0XHRcdFx0ZS50eXBlID09PSBvLm9wZW5PblxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRrYi5mb2N1c09uKCk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJhc2UuZXNjQ2xvc2UoZSwgJHRhcmdldCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gY2FsbGJhY2sgZnVuY3Rpb25zIGNhbGxlZCB0byBjaGVjayBpZiB0aGUga2V5Ym9hcmQgbmVlZHMgdG8gYmUgY2xvc2VkXHJcblx0Ly8gZS5nLiBvbiBlc2NhcGUgb3IgY2xpY2tpbmcgb3V0c2lkZSB0aGUga2V5Ym9hcmRcclxuXHRiYXNlLmVzY0Nsb3NlQ2FsbGJhY2sgPSB7XHJcblx0XHQvLyBrZWVwIGtleWJvYXJkIG9wZW4gaWYgYWx3YXlzT3BlbiBvciBzdGF5T3BlbiBpcyB0cnVlIC0gZml4ZXMgbXV0bGlwbGVcclxuXHRcdC8vIGFsd2F5cyBvcGVuIGtleWJvYXJkcyBvciBzaW5nbGUgc3RheSBvcGVuIGtleWJvYXJkXHJcblx0XHRrZWVwT3BlbjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAhYmFzZS5pc09wZW47XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0YmFzZS5lc2NDbG9zZSA9IGZ1bmN0aW9uIChlLCAkZWwpIHtcclxuXHRcdGlmICghYmFzZS5pc09wZW4pIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGUgJiYgZS50eXBlID09PSAna2V5dXAnKSB7XHJcblx0XHRcdHJldHVybiAoZS53aGljaCA9PT0gJGtleWJvYXJkLmtleUNvZGVzLmVzY2FwZSAmJiAhby5pZ25vcmVFc2MpID9cclxuXHRcdFx0XHRiYXNlLmNsb3NlKG8uYXV0b0FjY2VwdCAmJiBvLmF1dG9BY2NlcHRPbkVzYyA/ICd0cnVlJyA6IGZhbHNlKSA6XHJcblx0XHRcdFx0Jyc7XHJcblx0XHR9XHJcblx0XHR2YXIgc2hvdWxkU3RheU9wZW4gPSBmYWxzZSxcclxuXHRcdFx0JHRhcmdldCA9ICRlbC5sZW5ndGggJiYgJGVsIHx8ICQoZS50YXJnZXQpO1xyXG5cdFx0JC5lYWNoKGJhc2UuZXNjQ2xvc2VDYWxsYmFjaywgZnVuY3Rpb24oaSwgY2FsbGJhY2spIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdHNob3VsZFN0YXlPcGVuID0gc2hvdWxkU3RheU9wZW4gfHwgY2FsbGJhY2soJHRhcmdldCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0aWYgKHNob3VsZFN0YXlPcGVuKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdC8vIGlnbm9yZSBhdXRvYWNjZXB0IGlmIHVzaW5nIGVzY2FwZSAtIGdvb2QgaWRlYT9cclxuXHRcdGlmICghYmFzZS5pc0N1cnJlbnQoKSAmJiBiYXNlLmlzT3BlbiB8fCBiYXNlLmlzT3BlbiAmJiAkdGFyZ2V0WzBdICE9PSBiYXNlLmVsKSB7XHJcblx0XHRcdC8vIGRvbid0IGNsb3NlIGlmIHN0YXlPcGVuIGlzIHNldDsgYnV0IGNsb3NlIGlmIGEgZGlmZmVyZW50IGtleWJvYXJkIGlzIGJlaW5nIG9wZW5lZFxyXG5cdFx0XHRpZiAoKG8uc3RheU9wZW4gfHwgby51c2VyQ2xvc2VkKSAmJiAhJHRhcmdldC5oYXNDbGFzcygka2V5Ym9hcmQuY3NzLmlucHV0KSkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBzdG9wIHByb3BvZ2F0aW9uIGluIElFIC0gYW4gaW5wdXQgZ2V0dGluZyBmb2N1cyBkb2Vzbid0IG9wZW4gYSBrZXlib2FyZCBpZiBvbmUgaXMgYWxyZWFkeSBvcGVuXHJcblx0XHRcdGlmICgka2V5Ym9hcmQuYWxsaWUpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG8uY2xvc2VCeUNsaWNrRXZlbnQpIHtcclxuXHRcdFx0XHQvLyBvbmx5IGNsb3NlIHRoZSBrZXlib2FyZCBpZiB0aGUgdXNlciBpcyBjbGlja2luZyBvbiBhbiBpbnB1dCBvciBpZiB0aGV5IGNhdXNlIGEgY2xpY2tcclxuXHRcdFx0XHQvLyBldmVudCAodG91Y2hzdGFydC9tb3VzZWRvd24gd2lsbCBub3QgZm9yY2UgdGhlIGNsb3NlIHdpdGggdGhpcyBzZXR0aW5nKVxyXG5cdFx0XHRcdHZhciBuYW1lID0gJHRhcmdldFswXSAmJiAkdGFyZ2V0WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0aWYgKG5hbWUgPT09ICdpbnB1dCcgfHwgbmFtZSA9PT0gJ3RleHRhcmVhJyB8fCBlLnR5cGUgPT09ICdjbGljaycpIHtcclxuXHRcdFx0XHRcdGJhc2UuY2xvc2Uoby5hdXRvQWNjZXB0ID8gJ3RydWUnIDogZmFsc2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBzZW5kICd0cnVlJyBpbnN0ZWFkIG9mIGEgdHJ1ZSAoYm9vbGVhbiksIHRoZSBpbnB1dCB3b24ndCBnZXQgYSAndWkta2V5Ym9hcmQtYXV0b2FjY2VwdGVkJ1xyXG5cdFx0XHRcdC8vIGNsYXNzIG5hbWUgLSBzZWUgaXNzdWUgIzY2XHJcblx0XHRcdFx0YmFzZS5jbG9zZShvLmF1dG9BY2NlcHQgPyAndHJ1ZScgOiBmYWxzZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBCdWlsZCBkZWZhdWx0IGJ1dHRvblxyXG5cdGJhc2Uua2V5QnRuID0gJCgnPGJ1dHRvbiAvPicpXHJcblx0XHQuYXR0cih7XHJcblx0XHRcdCdyb2xlJzogJ2J1dHRvbicsXHJcblx0XHRcdCd0eXBlJzogJ2J1dHRvbicsXHJcblx0XHRcdCdhcmlhLWRpc2FibGVkJzogJ2ZhbHNlJyxcclxuXHRcdFx0J3RhYmluZGV4JzogJy0xJ1xyXG5cdFx0fSlcclxuXHRcdC5hZGRDbGFzcygka2V5Ym9hcmQuY3NzLmtleUJ1dHRvbik7XHJcblxyXG5cdC8vIGNvbnZlcnQga2V5IG5hbWVzIGludG8gYSBjbGFzcyBuYW1lXHJcblx0YmFzZS5wcm9jZXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcblx0XHR2YXIgaW5kZXgsIG4sXHJcblx0XHRcdHByb2Nlc3MgPSAobmFtZSB8fCAnJykucmVwbGFjZSgvW15hLXowLTktX10vZ2ksICcnKSxcclxuXHRcdFx0bGVuID0gcHJvY2Vzcy5sZW5ndGgsXHJcblx0XHRcdG5ld05hbWUgPSBbXTtcclxuXHRcdGlmIChsZW4gPiAxICYmIG5hbWUgPT09IHByb2Nlc3MpIHtcclxuXHRcdFx0Ly8gcmV0dXJuIG5hbWUgaWYgYmFzaWMgdGV4dFxyXG5cdFx0XHRyZXR1cm4gbmFtZTtcclxuXHRcdH1cclxuXHRcdC8vIHJldHVybiBjaGFyYWN0ZXIgY29kZSBzZXF1ZW5jZVxyXG5cdFx0bGVuID0gbmFtZS5sZW5ndGg7XHJcblx0XHRpZiAobGVuKSB7XHJcblx0XHRcdGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xyXG5cdFx0XHRcdG4gPSBuYW1lW2luZGV4XTtcclxuXHRcdFx0XHQvLyBrZWVwICctJyBhbmQgJ18nLi4uIHNvIGZvciBkYXNoLCB3ZSBnZXQgdHdvIGRhc2hlcyBpbiBhIHJvd1xyXG5cdFx0XHRcdG5ld05hbWUucHVzaCgvW2EtejAtOS1fXS9pLnRlc3QobikgP1xyXG5cdFx0XHRcdFx0KC9bLV9dLy50ZXN0KG4pICYmIGluZGV4ICE9PSAwID8gJycgOiBuKSA6XHJcblx0XHRcdFx0XHQoaW5kZXggPT09IDAgPyAnJyA6ICctJykgKyBuLmNoYXJDb2RlQXQoMClcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBuZXdOYW1lLmpvaW4oJycpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5hbWU7XHJcblx0fTtcclxuXHJcblx0YmFzZS5wcm9jZXNzS2V5cyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcblx0XHR2YXIgdG1wLCBwYXJ0cyxcclxuXHRcdFx0aHRtbEluZGV4ID0gbmFtZS5pbmRleE9mKCc8LycpLFxyXG5cdFx0XHRkYXRhID0ge1xyXG5cdFx0XHRcdG5hbWU6IG5hbWUsXHJcblx0XHRcdFx0bWFwOiAnJyxcclxuXHRcdFx0XHR0aXRsZTogJydcclxuXHRcdFx0fTtcclxuXHRcdGlmIChodG1sSW5kZXggPiAtMSkge1xyXG5cdFx0XHQvLyBJZiBpdCBsb29rcyBsaWtlIEhUTUwsIHNraXAgcHJvY2Vzc2luZzsgc2VlICM3NDNcclxuXHRcdFx0Ly8gaHRtbCBtYXkgaW5jbHVkZSBjb2xvbnM7IHNlZSAjNzAxXHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fVxyXG5cdFx0Ly8gRG9uJ3Qgc3BsaXQgY29sb25zIGZvbGxvd2VkIGJ5IC8vLCBlLmcuIGh0dHBzOi8vOyBGaXhlcyAjNTU1XHJcblx0XHRwYXJ0cyA9IG5hbWUuc3BsaXQoLzooPyFcXC9cXC8pLyk7XHJcblxyXG5cdFx0LyogbWFwIGRlZmluZWQga2V5c1xyXG5cdFx0Zm9ybWF0ICdrZXkoQSk6TGFiZWxfZm9yX2tleV8oaWdub3JlX3BhcmVudGhlc2VzX2hlcmUpJ1xyXG5cdFx0XHQna2V5JyA9IGtleSB0aGF0IGlzIHNlZW4gKGNhbiBhbnkgY2hhcmFjdGVyKHMpOyBidXQgaXQgbWlnaHQgbmVlZCB0byBiZSBlc2NhcGVkIHVzaW5nICdcXCdcclxuXHRcdFx0b3IgZW50ZXJlZCBhcyB1bmljb2RlICdcXHUjIyMjJ1xyXG5cdFx0XHQnKEEpJyA9IHRoZSBhY3R1YWwga2V5IG9uIHRoZSByZWFsIGtleWJvYXJkIHRvIHJlbWFwXHJcblx0XHRcdCc6TGFiZWxfZm9yX2tleScgZW5kcyB1cCBpbiB0aGUgdGl0bGUvdG9vbHRpcFxyXG5cdFx0RXhhbXBsZXM6XHJcblx0XHRcdCdcXHUwMzkxKEEpOmFscGhhJywgJ3goeSk6dGhpc18obWlnaHQpX2NhdXNlX3Byb2JsZW1zXHJcblx0XHRcdG9yIGVkZ2UgY2FzZXMgb2YgJzooeCknLCAneCg6KScsICd4KCgpJyBvciAneCgpKSdcclxuXHRcdEVuaGFuY2VtZW50IChpZiBJIGNhbiBnZXQgYWx0IGtleXMgdG8gd29yayk6XHJcblx0XHRcdEEgbWFwcGVkIGtleSB3aWxsIGluY2x1ZGUgdGhlIG1vZCBrZXksIGUuZy4gJ3goYWx0LXgpJyBvciAneChhbHQtc2hpZnQteCknXHJcblx0XHQqL1xyXG5cdFx0aWYgKC9cXCguK1xcKS8udGVzdChwYXJ0c1swXSkgfHwgL146XFwoLitcXCkvLnRlc3QobmFtZSkgfHwgL1xcKFsoOildXFwpLy50ZXN0KG5hbWUpKSB7XHJcblx0XHRcdC8vIGVkZ2UgY2FzZXMgJ3goOiknLCAneCgoKScgb3IgJ3goKSknXHJcblx0XHRcdGlmICgvXFwoWyg6KV1cXCkvLnRlc3QobmFtZSkpIHtcclxuXHRcdFx0XHR0bXAgPSBwYXJ0c1swXS5tYXRjaCgvKFteKF0rKVxcKCguKylcXCkvKTtcclxuXHRcdFx0XHRpZiAodG1wICYmIHRtcC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGRhdGEubmFtZSA9IHRtcFsxXTtcclxuXHRcdFx0XHRcdGRhdGEubWFwID0gdG1wWzJdO1xyXG5cdFx0XHRcdFx0ZGF0YS50aXRsZSA9IHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0cy5zbGljZSgxKS5qb2luKCc6JykgOiAnJztcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gZWRnZSBjYXNlcyAneCg6KScsICc6KHgpJyBvciAnOig6KSdcclxuXHRcdFx0XHRcdGRhdGEubmFtZSA9IG5hbWUubWF0Y2goLyhbXihdKykvKVswXTtcclxuXHRcdFx0XHRcdGlmIChkYXRhLm5hbWUgPT09ICc6Jykge1xyXG5cdFx0XHRcdFx0XHQvLyAnOig6KTp0ZXN0JyA9PiBwYXJ0cyA9IFsgJycsICcoJywgJyknLCAndGl0bGUnIF0gbmVlZCB0byBzbGljZSAxXHJcblx0XHRcdFx0XHRcdHBhcnRzID0gcGFydHMuc2xpY2UoMSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAodG1wID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdC8vICd4KDopOnRlc3QnID0+IHBhcnRzID0gWyAneCgnLCAnKScsICd0aXRsZScgXSBuZWVkIHRvIHNsaWNlIDJcclxuXHRcdFx0XHRcdFx0ZGF0YS5tYXAgPSAnOic7XHJcblx0XHRcdFx0XHRcdHBhcnRzID0gcGFydHMuc2xpY2UoMik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRkYXRhLnRpdGxlID0gcGFydHMubGVuZ3RoID8gcGFydHMuam9pbignOicpIDogJyc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIGV4YW1wbGU6IFxcdTAzOTEoQSk6YWxwaGE7IGV4dHJhY3QgJ0EnIGZyb20gJyhBKSdcclxuXHRcdFx0XHRkYXRhLm1hcCA9IG5hbWUubWF0Y2goL1xcKChbXigpXSs/KVxcKS8pWzFdO1xyXG5cdFx0XHRcdC8vIHJlbW92ZSAnKEEpJywgbGVmdCB3aXRoICdcXHUwMzkxOmFscGhhJ1xyXG5cdFx0XHRcdG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xcKChbXigpXSspXFwpLywgJycpO1xyXG5cdFx0XHRcdHRtcCA9IG5hbWUuc3BsaXQoJzonKTtcclxuXHRcdFx0XHQvLyBnZXQgJ1xcdTAzOTEnIGZyb20gJ1xcdTAzOTE6YWxwaGEnXHJcblx0XHRcdFx0aWYgKHRtcFswXSA9PT0gJycpIHtcclxuXHRcdFx0XHRcdGRhdGEubmFtZSA9ICc6JztcclxuXHRcdFx0XHRcdHBhcnRzID0gcGFydHMuc2xpY2UoMSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGRhdGEubmFtZSA9IHRtcFswXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZGF0YS50aXRsZSA9IHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0cy5zbGljZSgxKS5qb2luKCc6JykgOiAnJztcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gZmluZCBrZXkgbGFiZWxcclxuXHRcdFx0Ly8gY29ybmVyIGNhc2Ugb2YgJzo6OycgcmVkdWNlZCB0byAnOjsnLCBzcGxpdCBhcyBbJycsICc7J11cclxuXHRcdFx0aWYgKG5hbWUgIT09ICcnICYmIHBhcnRzWzBdID09PSAnJykge1xyXG5cdFx0XHRcdGRhdGEubmFtZSA9ICc6JztcclxuXHRcdFx0XHRwYXJ0cyA9IHBhcnRzLnNsaWNlKDEpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRhdGEubmFtZSA9IHBhcnRzWzBdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGRhdGEudGl0bGUgPSBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHMuc2xpY2UoMSkuam9pbignOicpIDogJyc7XHJcblx0XHR9XHJcblx0XHRkYXRhLnRpdGxlID0gJC50cmltKGRhdGEudGl0bGUpLnJlcGxhY2UoL18vZywgJyAnKTtcclxuXHRcdHJldHVybiBkYXRhO1xyXG5cdH07XHJcblxyXG5cdC8vIEFkZCBrZXkgZnVuY3Rpb25cclxuXHQvLyBrZXlOYW1lID0gdGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIGNhbGxlZCBpbiAkLmtleWJvYXJkLmtleWFjdGlvbiB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxyXG5cdC8vIG5hbWUgPSBuYW1lIGFkZGVkIHRvIGtleSwgb3IgY3Jvc3MtcmVmZXJlbmNlZCBpbiB0aGUgZGlzcGxheSBvcHRpb25zXHJcblx0Ly8gYmFzZS50ZW1wWzBdID0ga2V5c2V0IHRvIGF0dGFjaCB0aGUgbmV3IGJ1dHRvblxyXG5cdC8vIHJlZ0tleSA9IHRydWUgd2hlbiBpdCBpcyBub3QgYW4gYWN0aW9uIGtleVxyXG5cdGJhc2UuYWRkS2V5ID0gZnVuY3Rpb24gKGtleU5hbWUsIGFjdGlvbiwgcmVnS2V5KSB7XHJcblx0XHR2YXIga2V5Q2xhc3MsIHRtcCwga2V5cyxcclxuXHRcdFx0ZGF0YSA9IHt9LFxyXG5cdFx0XHR0eHQgPSBiYXNlLnByb2Nlc3NLZXlzKHJlZ0tleSA/IGtleU5hbWUgOiBhY3Rpb24pLFxyXG5cdFx0XHRrYmNzcyA9ICRrZXlib2FyZC5jc3M7XHJcblxyXG5cdFx0aWYgKCFyZWdLZXkgJiYgby5kaXNwbGF5W3R4dC5uYW1lXSkge1xyXG5cdFx0XHRrZXlzID0gYmFzZS5wcm9jZXNzS2V5cyhvLmRpc3BsYXlbdHh0Lm5hbWVdKTtcclxuXHRcdFx0Ly8gYWN0aW9uIGNvbnRhaW5lZCBpbiBcImtleU5hbWVcIiAoZS5nLiBrZXlOYW1lID0gXCJhY2NlcHRcIixcclxuXHRcdFx0Ly8gYWN0aW9uID0gXCJhXCIgKHVzZSBjaGVja21hcmsgaW5zdGVhZCBvZiB0ZXh0KSlcclxuXHRcdFx0a2V5cy5hY3Rpb24gPSBiYXNlLnByb2Nlc3NLZXlzKGtleU5hbWUpLm5hbWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyB3aGVuIHJlZ0tleSBpcyB0cnVlLCBrZXlOYW1lIGlzIHRoZSBzYW1lIGFzIGFjdGlvblxyXG5cdFx0XHRrZXlzID0gdHh0O1xyXG5cdFx0XHRrZXlzLmFjdGlvbiA9IHR4dC5uYW1lO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGEubmFtZSA9IGJhc2UucHJvY2Vzc05hbWUodHh0Lm5hbWUpO1xyXG5cdFx0aWYgKGtleXMubmFtZSAhPT0gJycpIHtcclxuXHRcdFx0aWYgKGtleXMubWFwICE9PSAnJykge1xyXG5cdFx0XHRcdCRrZXlib2FyZC5idWlsdExheW91dHNbYmFzZS5sYXlvdXRdLm1hcHBlZEtleXNba2V5cy5tYXBdID0ga2V5cy5uYW1lO1xyXG5cdFx0XHRcdCRrZXlib2FyZC5idWlsdExheW91dHNbYmFzZS5sYXlvdXRdLmFjY2VwdGVkS2V5cy5wdXNoKGtleXMubmFtZSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocmVnS2V5KSB7XHJcblx0XHRcdFx0JGtleWJvYXJkLmJ1aWx0TGF5b3V0c1tiYXNlLmxheW91dF0uYWNjZXB0ZWRLZXlzLnB1c2goa2V5cy5uYW1lKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZWdLZXkpIHtcclxuXHRcdFx0a2V5Q2xhc3MgPSBkYXRhLm5hbWUgPT09ICcnID8gJycgOiBrYmNzcy5rZXlQcmVmaXggKyBkYXRhLm5hbWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBBY3Rpb24ga2V5cyB3aWxsIGhhdmUgdGhlICd1aS1rZXlib2FyZC1hY3Rpb25rZXknIGNsYXNzXHJcblx0XHRcdGtleUNsYXNzID0ga2Jjc3Mua2V5QWN0aW9uICsgJyAnICsga2Jjc3Mua2V5UHJlZml4ICsga2V5cy5hY3Rpb247XHJcblx0XHR9XHJcblx0XHQvLyAnXFx1MjE5MCcubGVuZ3RoID0gMSBiZWNhdXNlIHRoZSB1bmljb2RlIGlzIGNvbnZlcnRlZCwgc28gaWYgbW9yZSB0aGFuIG9uZSBjaGFyYWN0ZXIsXHJcblx0XHQvLyBhZGQgdGhlIHdpZGUgY2xhc3NcclxuXHRcdGtleUNsYXNzICs9IChrZXlzLm5hbWUubGVuZ3RoID4gMiA/ICcgJyArIGtiY3NzLmtleVdpZGUgOiAnJykgKyAnICcgKyBvLmNzcy5idXR0b25EZWZhdWx0O1xyXG5cclxuXHRcdC8vIEFsbG93IEhUTUwgaW4gdGhlIGtleS5uYW1lXHJcblx0XHRkYXRhLmh0bWwgPSAnPHNwYW4gY2xhc3M9XCInICsga2Jjc3Mua2V5VGV4dCArICdcIj4nICsga2V5cy5uYW1lICsgJzwvc3Bhbj4nO1xyXG5cclxuXHRcdGRhdGEuJGtleSA9IGJhc2Uua2V5QnRuXHJcblx0XHRcdC5jbG9uZSgpXHJcblx0XHRcdC5hdHRyKHtcclxuXHRcdFx0XHQnZGF0YS12YWx1ZSc6IHJlZ0tleSA/IGtleXMubmFtZSA6IGtleXMuYWN0aW9uLCAvLyB2YWx1ZVxyXG5cdFx0XHRcdCdkYXRhLW5hbWUnOiBrZXlzLmFjdGlvbixcclxuXHRcdFx0XHQnZGF0YS1wb3MnOiBiYXNlLnRlbXBbMV0gKyAnLCcgKyBiYXNlLnRlbXBbMl0sXHJcblx0XHRcdFx0J2RhdGEtYWN0aW9uJzoga2V5cy5hY3Rpb24sXHJcblx0XHRcdFx0J2RhdGEtaHRtbCc6IGRhdGEuaHRtbFxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvLyBhZGQgJ3VpLWtleWJvYXJkLScgKyBkYXRhLm5hbWUgZm9yIGFsbCBrZXlzXHJcblx0XHRcdC8vICAoZS5nLiAnQmtzcCcgd2lsbCBoYXZlICd1aS1rZXlib2FyZC1ic2twJyBjbGFzcylcclxuXHRcdFx0Ly8gYW55IG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVycyB3aWxsIGJlIHJlcGxhY2VkIHdpdGhcclxuXHRcdFx0Ly8gIHRoZWlyIGRlY2ltYWwgdW5pY29kZSB2YWx1ZVxyXG5cdFx0XHQvLyAgKGUuZy4gJ34nIGlzIGEgcmVndWxhciBrZXksIGNsYXNzID0gJ3VpLWtleWJvYXJkLTEyNidcclxuXHRcdFx0Ly8gICgxMjYgaXMgdGhlIHVuaWNvZGUgZGVjaW1hbCB2YWx1ZSAtIHNhbWUgYXMgJiMxMjY7KVxyXG5cdFx0XHQvLyAgU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfVW5pY29kZV9jaGFyYWN0ZXJzI0NvbnRyb2xfY29kZXNcclxuXHRcdFx0LmFkZENsYXNzKGtleUNsYXNzKVxyXG5cdFx0XHQuaHRtbChkYXRhLmh0bWwpXHJcblx0XHRcdC5hcHBlbmRUbyhiYXNlLnRlbXBbMF0pO1xyXG5cclxuXHRcdGlmIChrZXlzLm1hcCkge1xyXG5cdFx0XHRkYXRhLiRrZXkuYXR0cignZGF0YS1tYXBwZWQnLCBrZXlzLm1hcCk7XHJcblx0XHR9XHJcblx0XHRpZiAoa2V5cy50aXRsZSB8fCB0eHQudGl0bGUpIHtcclxuXHRcdFx0ZGF0YS4ka2V5LmF0dHIoe1xyXG5cdFx0XHRcdCdkYXRhLXRpdGxlJzogdHh0LnRpdGxlIHx8IGtleXMudGl0bGUsIC8vIHVzZWQgdG8gYWxsb3cgYWRkaW5nIGNvbnRlbnQgdG8gdGl0bGVcclxuXHRcdFx0XHQndGl0bGUnOiB0eHQudGl0bGUgfHwga2V5cy50aXRsZVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZW9mIG8uYnVpbGRLZXkgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0ZGF0YSA9IG8uYnVpbGRLZXkoYmFzZSwgZGF0YSk7XHJcblx0XHRcdC8vIGNvcHkgaHRtbCBiYWNrIHRvIGF0dHJpYnV0ZXNcclxuXHRcdFx0dG1wID0gZGF0YS4ka2V5Lmh0bWwoKTtcclxuXHRcdFx0ZGF0YS4ka2V5LmF0dHIoJ2RhdGEtaHRtbCcsIHRtcCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGF0YS4ka2V5O1xyXG5cdH07XHJcblxyXG5cdGJhc2UuY3VzdG9tSGFzaCA9IGZ1bmN0aW9uIChsYXlvdXQpIHtcclxuXHRcdC8qanNoaW50IGJpdHdpc2U6ZmFsc2UgKi9cclxuXHRcdHZhciBpLCBhcnJheSwgaGFzaCwgY2hhcmFjdGVyLCBsZW4sXHJcblx0XHRcdGFycmF5cyA9IFtdLFxyXG5cdFx0XHRtZXJnZWQgPSBbXTtcclxuXHRcdC8vIHBhc3MgbGF5b3V0IHRvIGFsbG93IGZvciB0ZXN0aW5nXHJcblx0XHRsYXlvdXQgPSB0eXBlb2YgbGF5b3V0ID09PSAndW5kZWZpbmVkJyA/IG8uY3VzdG9tTGF5b3V0IDogbGF5b3V0O1xyXG5cdFx0Ly8gZ2V0IGFsbCBsYXlvdXQgYXJyYXlzXHJcblx0XHRmb3IgKGFycmF5IGluIGxheW91dCkge1xyXG5cdFx0XHRpZiAobGF5b3V0Lmhhc093blByb3BlcnR5KGFycmF5KSkge1xyXG5cdFx0XHRcdGFycmF5cy5wdXNoKGxheW91dFthcnJheV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBmbGF0dGVuIGFycmF5XHJcblx0XHRtZXJnZWQgPSBtZXJnZWQuY29uY2F0LmFwcGx5KG1lcmdlZCwgYXJyYXlzKS5qb2luKCcgJyk7XHJcblx0XHQvLyBwcm9kdWNlIGhhc2ggbmFtZSAtIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzc2MTY0ODQvMTQ1MzQ2XHJcblx0XHRoYXNoID0gMDtcclxuXHRcdGxlbiA9IG1lcmdlZC5sZW5ndGg7XHJcblx0XHRpZiAobGVuID09PSAwKSB7XHJcblx0XHRcdHJldHVybiBoYXNoO1xyXG5cdFx0fVxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdGNoYXJhY3RlciA9IG1lcmdlZC5jaGFyQ29kZUF0KGkpO1xyXG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyYWN0ZXI7XHJcblx0XHRcdGhhc2ggPSBoYXNoICYgaGFzaDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaGFzaDtcclxuXHR9O1xyXG5cclxuXHRiYXNlLmJ1aWxkS2V5Ym9hcmQgPSBmdW5jdGlvbiAobmFtZSwgaW50ZXJuYWwpIHtcclxuXHRcdC8vIG8uZGlzcGxheSBpcyBlbXB0eSB3aGVuIHRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIHNjcmFtYmxlIGV4dGVuc2lvbiAod2hlbiBhbHdheXNPcGVuOnRydWUpXHJcblx0XHRpZiAoJC5pc0VtcHR5T2JqZWN0KG8uZGlzcGxheSkpIHtcclxuXHRcdFx0Ly8gc2V0IGtleWJvYXJkIGxhbmd1YWdlXHJcblx0XHRcdGJhc2UudXBkYXRlTGFuZ3VhZ2UoKTtcclxuXHRcdH1cclxuXHRcdHZhciBpbmRleCwgcm93LCAkcm93LCBjdXJyZW50U2V0LFxyXG5cdFx0XHRrYmNzcyA9ICRrZXlib2FyZC5jc3MsXHJcblx0XHRcdHNldHMgPSAwLFxyXG5cdFx0XHRsYXlvdXQgPSAka2V5Ym9hcmQuYnVpbHRMYXlvdXRzW25hbWUgfHwgYmFzZS5sYXlvdXQgfHwgby5sYXlvdXRdID0ge1xyXG5cdFx0XHRcdG1hcHBlZEtleXM6IHt9LFxyXG5cdFx0XHRcdGFjY2VwdGVkS2V5czogW11cclxuXHRcdFx0fSxcclxuXHRcdFx0YWNjZXB0ZWRLZXlzID0gbGF5b3V0LmFjY2VwdGVkS2V5cyA9IG8ucmVzdHJpY3RJbmNsdWRlID9cclxuXHRcdFx0XHQoJycgKyBvLnJlc3RyaWN0SW5jbHVkZSkuc3BsaXQoL1xccysvKSB8fCBbXSA6XHJcblx0XHRcdFx0W10sXHJcblx0XHRcdC8vIHVzaW5nICRsYXlvdXQgdGVtcG9yYXJpbHkgdG8gaG9sZCBrZXlib2FyZCBwb3B1cCBjbGFzc25hbWVzXHJcblx0XHRcdCRsYXlvdXQgPSBrYmNzcy5rZXlib2FyZCArICcgJyArIG8uY3NzLnBvcHVwICsgJyAnICsgby5jc3MuY29udGFpbmVyICtcclxuXHRcdFx0XHQoby5hbHdheXNPcGVuIHx8IG8udXNlckNsb3NlZCA/ICcgJyArIGtiY3NzLmFsd2F5c09wZW4gOiAnJyksXHJcblxyXG5cdFx0XHRjb250YWluZXIgPSAkKCc8ZGl2IC8+JylcclxuXHRcdFx0XHQuYWRkQ2xhc3MoJGxheW91dClcclxuXHRcdFx0XHQuYXR0cih7XHJcblx0XHRcdFx0XHQncm9sZSc6ICd0ZXh0Ym94J1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmhpZGUoKTtcclxuXHJcblx0XHQvLyBhbGxvdyBhZGRpbmcgXCJ7c3BhY2V9XCIgYXMgYW4gYWNjZXB0ZWQga2V5IC0gRml4ZXMgIzYyN1xyXG5cdFx0aW5kZXggPSAkLmluQXJyYXkoJ3tzcGFjZX0nLCBhY2NlcHRlZEtleXMpO1xyXG5cdFx0aWYgKGluZGV4ID4gLTEpIHtcclxuXHRcdFx0YWNjZXB0ZWRLZXlzW2luZGV4XSA9ICcgJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyB2ZXJpZnkgbGF5b3V0IG9yIHNldHVwIGN1c3RvbSBrZXlib2FyZFxyXG5cdFx0aWYgKChpbnRlcm5hbCAmJiBvLmxheW91dCA9PT0gJ2N1c3RvbScpIHx8ICEka2V5Ym9hcmQubGF5b3V0cy5oYXNPd25Qcm9wZXJ0eShvLmxheW91dCkpIHtcclxuXHRcdFx0by5sYXlvdXQgPSAnY3VzdG9tJztcclxuXHRcdFx0JGxheW91dCA9ICRrZXlib2FyZC5sYXlvdXRzLmN1c3RvbSA9IG8uY3VzdG9tTGF5b3V0IHx8IHtcclxuXHRcdFx0XHQnbm9ybWFsJzogWyd7Y2FuY2VsfSddXHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkbGF5b3V0ID0gJGtleWJvYXJkLmxheW91dHNbaW50ZXJuYWwgPyBvLmxheW91dCA6IG5hbWUgfHwgYmFzZS5sYXlvdXQgfHwgby5sYXlvdXRdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE1haW4ga2V5Ym9hcmQgYnVpbGRpbmcgbG9vcFxyXG5cdFx0JC5lYWNoKCRsYXlvdXQsIGZ1bmN0aW9uIChzZXQsIGtleVNldCkge1xyXG5cdFx0XHQvLyBza2lwIGxheW91dCBuYW1lICYgbGFuZyBzZXR0aW5nc1xyXG5cdFx0XHRpZiAoc2V0ICE9PSAnJyAmJiAhL14obmFtZXxsYW5nfHJ0bCkkL2kudGVzdChzZXQpKSB7XHJcblx0XHRcdFx0Ly8ga2VlcCBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgY2hhbmdlIGZyb20gZGVmYXVsdCB0byBub3JtYWwgbmFtaW5nXHJcblx0XHRcdFx0aWYgKHNldCA9PT0gJ2RlZmF1bHQnKSB7XHJcblx0XHRcdFx0XHRzZXQgPSAnbm9ybWFsJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2V0cysrO1xyXG5cdFx0XHRcdCRyb3cgPSAkKCc8ZGl2IC8+JylcclxuXHRcdFx0XHRcdC5hdHRyKCduYW1lJywgc2V0KSAvLyBhZGRlZCBmb3IgdHlwaW5nIGV4dGVuc2lvblxyXG5cdFx0XHRcdFx0LmFkZENsYXNzKGtiY3NzLmtleVNldCArICcgJyArIGtiY3NzLmtleVNldCArICctJyArIHNldClcclxuXHRcdFx0XHRcdC5hcHBlbmRUbyhjb250YWluZXIpXHJcblx0XHRcdFx0XHQudG9nZ2xlKHNldCA9PT0gJ25vcm1hbCcpO1xyXG5cclxuXHRcdFx0XHRmb3IgKHJvdyA9IDA7IHJvdyA8IGtleVNldC5sZW5ndGg7IHJvdysrKSB7XHJcblx0XHRcdFx0XHQvLyByZW1vdmUgZXh0cmEgc3BhY2VzIGJlZm9yZSBzcGxpdGluZyAocmVnZXggcHJvYmFibHkgY291bGQgYmUgaW1wcm92ZWQpXHJcblx0XHRcdFx0XHRjdXJyZW50U2V0ID0gJC50cmltKGtleVNldFtyb3ddKS5yZXBsYWNlKC9cXHsoXFwuPylbXFxzK10/OltcXHMrXT8oXFwuPylcXH0vZywgJ3skMTokMn0nKTtcclxuXHRcdFx0XHRcdGJhc2UuYnVpbGRSb3coJHJvdywgcm93LCBjdXJyZW50U2V0LnNwbGl0KC9cXHMrLyksIGFjY2VwdGVkS2V5cyk7XHJcblx0XHRcdFx0XHQkcm93LmZpbmQoJy4nICsga2Jjc3Mua2V5QnV0dG9uICsgJywuJyArIGtiY3NzLmtleVNwYWNlcilcclxuXHRcdFx0XHRcdFx0LmZpbHRlcignOmxhc3QnKVxyXG5cdFx0XHRcdFx0XHQuYWZ0ZXIoJzxiciBjbGFzcz1cIicgKyBrYmNzcy5lbmRSb3cgKyAnXCIvPicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKHNldHMgPiAxKSB7XHJcblx0XHRcdGJhc2Uuc2V0cyA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRsYXlvdXQuaGFzTWFwcGVkS2V5cyA9ICEoJC5pc0VtcHR5T2JqZWN0KGxheW91dC5tYXBwZWRLZXlzKSk7XHJcblx0XHRsYXlvdXQuJGtleWJvYXJkID0gY29udGFpbmVyO1xyXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcclxuXHR9O1xyXG5cclxuXHRiYXNlLmJ1aWxkUm93ID0gZnVuY3Rpb24gKCRyb3csIHJvdywga2V5cywgYWNjZXB0ZWRLZXlzKSB7XHJcblx0XHR2YXIgdCwgdHh0LCBrZXksIGlzQWN0aW9uLCBhY3Rpb24sIG1hcmdpbixcclxuXHRcdFx0a2Jjc3MgPSAka2V5Ym9hcmQuY3NzO1xyXG5cdFx0Zm9yIChrZXkgPSAwOyBrZXkgPCBrZXlzLmxlbmd0aDsga2V5KyspIHtcclxuXHRcdFx0Ly8gdXNlZCBieSBhZGRLZXkgZnVuY3Rpb25cclxuXHRcdFx0YmFzZS50ZW1wID0gWyRyb3csIHJvdywga2V5XTtcclxuXHRcdFx0aXNBY3Rpb24gPSBmYWxzZTtcclxuXHJcblx0XHRcdC8vIGlnbm9yZSBlbXB0eSBrZXlzXHJcblx0XHRcdGlmIChrZXlzW2tleV0ubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHByb2Nlc3MgaGVyZSBpZiBpdCdzIGFuIGFjdGlvbiBrZXlcclxuXHRcdFx0aWYgKC9eXFx7XFxTK1xcfSQvLnRlc3Qoa2V5c1trZXldKSkge1xyXG5cdFx0XHRcdGFjdGlvbiA9IGtleXNba2V5XS5tYXRjaCgvXlxceyhcXFMrKVxcfSQvKVsxXTtcclxuXHRcdFx0XHQvLyBhZGQgYWN0aXZlIGNsYXNzIGlmIHRoZXJlIGFyZSBkb3VibGUgZXhjbGFtYXRpb24gcG9pbnRzIGluIHRoZSBuYW1lXHJcblx0XHRcdFx0aWYgKC9cXCFcXCEvLnRlc3QoYWN0aW9uKSkge1xyXG5cdFx0XHRcdFx0YWN0aW9uID0gYWN0aW9uLnJlcGxhY2UoJyEhJywgJycpO1xyXG5cdFx0XHRcdFx0aXNBY3Rpb24gPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gYWRkIGVtcHR5IHNwYWNlXHJcblx0XHRcdFx0aWYgKC9ec3A6KChcXGQrKT8oW1xcLnwsXVxcZCspPykoZW18cHgpPyQvaS50ZXN0KGFjdGlvbikpIHtcclxuXHRcdFx0XHRcdC8vIG5vdCBwZXJmZWN0IGdsb2JhbGl6YXRpb24sIGJ1dCBhbGxvd3MgeW91IHRvIHVzZSB7c3A6MSwxZW19LCB7c3A6MS4yZW19IG9yIHtzcDoxNXB4fVxyXG5cdFx0XHRcdFx0bWFyZ2luID0gcGFyc2VGbG9hdChhY3Rpb25cclxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoLywvLCAnLicpXHJcblx0XHRcdFx0XHRcdC5tYXRjaCgvXnNwOigoXFxkKyk/KFtcXC58LF1cXGQrKT8pKGVtfHB4KT8kL2kpWzFdIHx8IDBcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHQkKCc8c3BhbiBjbGFzcz1cIicgKyBrYmNzcy5rZXlUZXh0ICsgJ1wiPjwvc3Bhbj4nKVxyXG5cdFx0XHRcdFx0XHQvLyBwcmV2aW91c2x5IHtzcDoxfSB3b3VsZCBhZGQgMWVtIG1hcmdpbiB0byBlYWNoIHNpZGUgb2YgYSAwIHdpZHRoIHNwYW5cclxuXHRcdFx0XHRcdFx0Ly8gbm93IEZpcmVmb3ggZG9lc24ndCBzZWVtIHRvIHJlbmRlciAwcHggZGltZW5zaW9ucywgc28gbm93IHdlIHNldCB0aGVcclxuXHRcdFx0XHRcdFx0Ly8gMWVtIG1hcmdpbiB4IDIgZm9yIHRoZSB3aWR0aFxyXG5cdFx0XHRcdFx0XHQud2lkdGgoKGFjdGlvbi5tYXRjaCgvcHgvaSkgPyBtYXJnaW4gKyAncHgnIDogKG1hcmdpbiAqIDIpICsgJ2VtJykpXHJcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyhrYmNzcy5rZXlTcGFjZXIpXHJcblx0XHRcdFx0XHRcdC5hcHBlbmRUbygkcm93KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGFkZCBlbXB0eSBidXR0b25cclxuXHRcdFx0XHRpZiAoL15lbXB0eSg6KChcXGQrKT8oW1xcLnwsXVxcZCspPykoZW18cHgpPyk/JC9pLnRlc3QoYWN0aW9uKSkge1xyXG5cdFx0XHRcdFx0bWFyZ2luID0gKC86Ly50ZXN0KGFjdGlvbikpID8gcGFyc2VGbG9hdChhY3Rpb25cclxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoLywvLCAnLicpXHJcblx0XHRcdFx0XHRcdC5tYXRjaCgvXmVtcHR5OigoXFxkKyk/KFtcXC58LF1cXGQrKT8pKGVtfHB4KT8kL2kpWzFdIHx8IDBcclxuXHRcdFx0XHRcdCkgOiAnJztcclxuXHRcdFx0XHRcdGJhc2VcclxuXHRcdFx0XHRcdFx0LmFkZEtleSgnJywgJyAnLCB0cnVlKVxyXG5cdFx0XHRcdFx0XHQuYWRkQ2xhc3Moby5jc3MuYnV0dG9uRGlzYWJsZWQgKyAnICcgKyBvLmNzcy5idXR0b25FbXB0eSlcclxuXHRcdFx0XHRcdFx0LmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCB0cnVlKVxyXG5cdFx0XHRcdFx0XHQud2lkdGgobWFyZ2luID8gKGFjdGlvbi5tYXRjaCgncHgnKSA/IG1hcmdpbiArICdweCcgOiAobWFyZ2luICogMikgKyAnZW0nKSA6ICcnKTtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gbWV0YSBrZXlzXHJcblx0XHRcdFx0aWYgKC9ebWV0YVtcXHctXStcXDo/KFxcdyspPy9pLnRlc3QoYWN0aW9uKSkge1xyXG5cdFx0XHRcdFx0YmFzZVxyXG5cdFx0XHRcdFx0XHQuYWRkS2V5KGFjdGlvbi5zcGxpdCgnOicpWzBdLCBhY3Rpb24pXHJcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyhrYmNzcy5rZXlIYXNBY3RpdmUpO1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBzd2l0Y2ggbmVlZGVkIGZvciBhY3Rpb24ga2V5cyB3aXRoIG11bHRpcGxlIG5hbWVzL3Nob3J0Y3V0cyBvclxyXG5cdFx0XHRcdC8vIGRlZmF1bHQgd2lsbCBjYXRjaCBhbGwgb3RoZXJzXHJcblx0XHRcdFx0dHh0ID0gYWN0aW9uLnNwbGl0KCc6Jyk7XHJcblx0XHRcdFx0c3dpdGNoICh0eHRbMF0udG9Mb3dlckNhc2UoKSkge1xyXG5cclxuXHRcdFx0XHRjYXNlICdhJzpcclxuXHRcdFx0XHRjYXNlICdhY2NlcHQnOlxyXG5cdFx0XHRcdFx0YmFzZVxyXG5cdFx0XHRcdFx0XHQuYWRkS2V5KCdhY2NlcHQnLCBhY3Rpb24pXHJcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyhvLmNzcy5idXR0b25BY3Rpb24gKyAnICcgKyBrYmNzcy5rZXlBY3Rpb24pO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgJ2FsdCc6XHJcblx0XHRcdFx0Y2FzZSAnYWx0Z3InOlxyXG5cdFx0XHRcdFx0YmFzZVxyXG5cdFx0XHRcdFx0XHQuYWRkS2V5KCdhbHQnLCBhY3Rpb24pXHJcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyhrYmNzcy5rZXlIYXNBY3RpdmUpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgJ2InOlxyXG5cdFx0XHRcdGNhc2UgJ2Jrc3AnOlxyXG5cdFx0XHRcdFx0YmFzZS5hZGRLZXkoJ2Jrc3AnLCBhY3Rpb24pO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgJ2MnOlxyXG5cdFx0XHRcdGNhc2UgJ2NhbmNlbCc6XHJcblx0XHRcdFx0XHRiYXNlXHJcblx0XHRcdFx0XHRcdC5hZGRLZXkoJ2NhbmNlbCcsIGFjdGlvbilcclxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKG8uY3NzLmJ1dHRvbkFjdGlvbiArICcgJyArIGtiY3NzLmtleUFjdGlvbik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHQvLyB0b2dnbGUgY29tYm8vZGlhY3JpdGljIGtleVxyXG5cdFx0XHRcdFx0Lypqc2hpbnQgLVcwODMgKi9cclxuXHRcdFx0XHRjYXNlICdjb21ibyc6XHJcblx0XHRcdFx0XHRiYXNlXHJcblx0XHRcdFx0XHRcdC5hZGRLZXkoJ2NvbWJvJywgYWN0aW9uKVxyXG5cdFx0XHRcdFx0XHQuYWRkQ2xhc3Moa2Jjc3Mua2V5SGFzQWN0aXZlKVxyXG5cdFx0XHRcdFx0XHQuYXR0cigndGl0bGUnLCBmdW5jdGlvbiAoaW5keCwgdGl0bGUpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBhZGQgY29tYm8ga2V5IHN0YXRlIHRvIHRpdGxlXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRpdGxlICsgJyAnICsgby5kaXNwbGF5W28udXNlQ29tYm9zID8gJ2FjdGl2ZScgOiAnZGlzYWJsZWQnXTtcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0LnRvZ2dsZUNsYXNzKG8uY3NzLmJ1dHRvbkFjdGl2ZSwgby51c2VDb21ib3MpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0Ly8gRGVjaW1hbCAtIHVuaXF1ZSBkZWNpbWFsIHBvaW50IChudW0gcGFkIGxheW91dClcclxuXHRcdFx0XHRjYXNlICdkZWMnOlxyXG5cdFx0XHRcdFx0YWNjZXB0ZWRLZXlzLnB1c2goKGJhc2UuZGVjaW1hbCkgPyAnLicgOiAnLCcpO1xyXG5cdFx0XHRcdFx0YmFzZS5hZGRLZXkoJ2RlYycsIGFjdGlvbik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAnZSc6XHJcblx0XHRcdFx0Y2FzZSAnZW50ZXInOlxyXG5cdFx0XHRcdFx0YmFzZVxyXG5cdFx0XHRcdFx0XHQuYWRkS2V5KCdlbnRlcicsIGFjdGlvbilcclxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKG8uY3NzLmJ1dHRvbkFjdGlvbiArICcgJyArIGtiY3NzLmtleUFjdGlvbik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAnbG9jayc6XHJcblx0XHRcdFx0XHRiYXNlXHJcblx0XHRcdFx0XHRcdC5hZGRLZXkoJ2xvY2snLCBhY3Rpb24pXHJcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyhrYmNzcy5rZXlIYXNBY3RpdmUpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgJ3MnOlxyXG5cdFx0XHRcdGNhc2UgJ3NoaWZ0JzpcclxuXHRcdFx0XHRcdGJhc2VcclxuXHRcdFx0XHRcdFx0LmFkZEtleSgnc2hpZnQnLCBhY3Rpb24pXHJcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyhrYmNzcy5rZXlIYXNBY3RpdmUpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ2hhbmdlIHNpZ24gKGZvciBudW0gcGFkIGxheW91dClcclxuXHRcdFx0XHRjYXNlICdzaWduJzpcclxuXHRcdFx0XHRcdGFjY2VwdGVkS2V5cy5wdXNoKCctJyk7XHJcblx0XHRcdFx0XHRiYXNlLmFkZEtleSgnc2lnbicsIGFjdGlvbik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAnc3BhY2UnOlxyXG5cdFx0XHRcdFx0YWNjZXB0ZWRLZXlzLnB1c2goJyAnKTtcclxuXHRcdFx0XHRcdGJhc2UuYWRkS2V5KCdzcGFjZScsIGFjdGlvbik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAndCc6XHJcblx0XHRcdFx0Y2FzZSAndGFiJzpcclxuXHRcdFx0XHRcdGJhc2UuYWRkS2V5KCd0YWInLCBhY3Rpb24pO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRpZiAoJGtleWJvYXJkLmtleWFjdGlvbi5oYXNPd25Qcm9wZXJ0eSh0eHRbMF0pKSB7XHJcblx0XHRcdFx0XHRcdGJhc2VcclxuXHRcdFx0XHRcdFx0XHQuYWRkS2V5KHR4dFswXSwgYWN0aW9uKVxyXG5cdFx0XHRcdFx0XHRcdC50b2dnbGVDbGFzcyhvLmNzcy5idXR0b25BY3Rpb24gKyAnICcgKyBrYmNzcy5rZXlBY3Rpb24sIGlzQWN0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0Ly8gcmVndWxhciBidXR0b24gKG5vdCBhbiBhY3Rpb24ga2V5KVxyXG5cdFx0XHRcdHQgPSBrZXlzW2tleV07XHJcblx0XHRcdFx0YmFzZS5hZGRLZXkodCwgdCwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRiYXNlLnJlbW92ZUJpbmRpbmdzID0gZnVuY3Rpb24gKG5hbWVzcGFjZSkge1xyXG5cdFx0JChkb2N1bWVudCkudW5iaW5kKG5hbWVzcGFjZSk7XHJcblx0XHRpZiAoYmFzZS5lbC5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkge1xyXG5cdFx0XHQkKGJhc2UuZWwub3duZXJEb2N1bWVudCkudW5iaW5kKG5hbWVzcGFjZSk7XHJcblx0XHR9XHJcblx0XHQkKHdpbmRvdykudW5iaW5kKG5hbWVzcGFjZSk7XHJcblx0XHRiYXNlLiRlbC51bmJpbmQobmFtZXNwYWNlKTtcclxuXHR9O1xyXG5cclxuXHRiYXNlLnJlbW92ZUtleWJvYXJkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0YmFzZS4kZGVjQnRuID0gW107XHJcblx0XHQvLyBiYXNlLiRwcmV2aWV3ID09PSBiYXNlLiRlbCB3aGVuIG8udXNlUHJldmlldyBpcyBmYWxzZSAtIGZpeGVzICM0NDJcclxuXHRcdGlmIChvLnVzZVByZXZpZXcpIHtcclxuXHRcdFx0YmFzZS4kcHJldmlldy5yZW1vdmVEYXRhKCdrZXlib2FyZCcpO1xyXG5cdFx0fVxyXG5cdFx0YmFzZS4kcHJldmlldy51bmJpbmQoYmFzZS5uYW1lc3BhY2UgKyAna2V5YmluZGluZ3MnKTtcclxuXHRcdGJhc2UucHJldmlldyA9IG51bGw7XHJcblx0XHRiYXNlLiRwcmV2aWV3ID0gbnVsbDtcclxuXHRcdGJhc2UuJHByZXZpZXdDb3B5ID0gbnVsbDtcclxuXHRcdGJhc2UuJGtleWJvYXJkLnJlbW92ZURhdGEoJ2tleWJvYXJkJyk7XHJcblx0XHRiYXNlLiRrZXlib2FyZC5yZW1vdmUoKTtcclxuXHRcdGJhc2UuJGtleWJvYXJkID0gW107XHJcblx0XHRiYXNlLmlzT3BlbiA9IGZhbHNlO1xyXG5cdFx0YmFzZS5pc0N1cnJlbnQoZmFsc2UpO1xyXG5cdH07XHJcblxyXG5cdGJhc2UuZGVzdHJveSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG5cdFx0dmFyIGluZGV4LFxyXG5cdFx0XHRrYmNzcyA9ICRrZXlib2FyZC5jc3MsXHJcblx0XHRcdGxlbiA9IGJhc2UuZXh0ZW5zaW9uTmFtZXNwYWNlLmxlbmd0aCxcclxuXHRcdFx0dG1wID0gW1xyXG5cdFx0XHRcdGtiY3NzLmlucHV0LFxyXG5cdFx0XHRcdGtiY3NzLmxvY2tlZCxcclxuXHRcdFx0XHRrYmNzcy5wbGFjZWhvbGRlcixcclxuXHRcdFx0XHRrYmNzcy5ub0tleWJvYXJkLFxyXG5cdFx0XHRcdGtiY3NzLmFsd2F5c09wZW4sXHJcblx0XHRcdFx0by5jc3MuaW5wdXQsXHJcblx0XHRcdFx0a2Jjc3MuaXNDdXJyZW50XHJcblx0XHRcdF0uam9pbignICcpO1xyXG5cdFx0Y2xlYXJUaW1lb3V0KGJhc2UudGltZXIpO1xyXG5cdFx0Y2xlYXJUaW1lb3V0KGJhc2UudGltZXIyKTtcclxuXHRcdGNsZWFyVGltZW91dChiYXNlLnRpbWVyMyk7XHJcblx0XHRpZiAoYmFzZS4ka2V5Ym9hcmQubGVuZ3RoKSB7XHJcblx0XHRcdGJhc2UucmVtb3ZlS2V5Ym9hcmQoKTtcclxuXHRcdH1cclxuXHRcdGlmIChiYXNlLm9wdGlvbnMub3Blbk9uKSB7XHJcblx0XHRcdGJhc2UucmVtb3ZlQmluZGluZ3MoYmFzZS5vcHRpb25zLm9wZW5Pbik7XHJcblx0XHR9XHJcblx0XHRiYXNlLnJlbW92ZUJpbmRpbmdzKGJhc2UubmFtZXNwYWNlKTtcclxuXHRcdGJhc2UucmVtb3ZlQmluZGluZ3MoYmFzZS5uYW1lc3BhY2UgKyAnY2FsbGJhY2tzJyk7XHJcblx0XHRmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcclxuXHRcdFx0YmFzZS5yZW1vdmVCaW5kaW5ncyhiYXNlLmV4dGVuc2lvbk5hbWVzcGFjZVtpbmRleF0pO1xyXG5cdFx0fVxyXG5cdFx0YmFzZS5lbC5hY3RpdmUgPSBmYWxzZTtcclxuXHJcblx0XHRiYXNlLiRlbFxyXG5cdFx0XHQucmVtb3ZlQ2xhc3ModG1wKVxyXG5cdFx0XHQucmVtb3ZlQXR0cignYXJpYS1oYXNwb3B1cCcpXHJcblx0XHRcdC5yZW1vdmVBdHRyKCdyb2xlJylcclxuXHRcdFx0LnJlbW92ZUF0dHIoJ3JlYWRvbmx5JylcclxuXHRcdFx0LnJlbW92ZURhdGEoJ2tleWJvYXJkJyk7XHJcblx0XHRiYXNlID0gbnVsbDtcclxuXHJcblx0XHRpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdGNhbGxiYWNrKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gUnVuIGluaXRpYWxpemVyXHJcblx0YmFzZS5pbml0KCk7XHJcblxyXG5cdH07IC8vIGVuZCAkLmtleWJvYXJkIGRlZmluaXRpb25cclxuXHJcblx0Ly8gZXZlbnQud2hpY2ggJiBBU0NJSSB2YWx1ZXNcclxuXHQka2V5Ym9hcmQua2V5Q29kZXMgPSB7XHJcblx0XHRiYWNrU3BhY2U6IDgsXHJcblx0XHR0YWI6IDksXHJcblx0XHRlbnRlcjogMTMsXHJcblx0XHRjYXBzTG9jazogMjAsXHJcblx0XHRlc2NhcGU6IDI3LFxyXG5cdFx0c3BhY2U6IDMyLFxyXG5cdFx0cGFnZVVwOiAzMyxcclxuXHRcdHBhZ2VEb3duOiAzNCxcclxuXHRcdGVuZDogMzUsXHJcblx0XHRob21lOiAzNixcclxuXHRcdGxlZnQ6IDM3LFxyXG5cdFx0dXA6IDM4LFxyXG5cdFx0cmlnaHQ6IDM5LFxyXG5cdFx0ZG93bjogNDAsXHJcblx0XHRpbnNlcnQ6IDQ1LFxyXG5cdFx0ZGVsZXRlOiA0NixcclxuXHRcdC8vIGV2ZW50LndoaWNoIGtleUNvZGVzICh1cHBlcmNhc2UgbGV0dGVycylcclxuXHRcdEE6IDY1LFxyXG5cdFx0WjogOTAsXHJcblx0XHRWOiA4NixcclxuXHRcdEM6IDY3LFxyXG5cdFx0WDogODgsXHJcblxyXG5cdFx0Ly8gQVNDSUkgbG93ZXJjYXNlIGEgJiB6XHJcblx0XHRhOiA5NyxcclxuXHRcdHo6IDEyMlxyXG5cdH07XHJcblxyXG5cdCRrZXlib2FyZC5jc3MgPSB7XHJcblx0XHQvLyBrZXlib2FyZCBpZCBzdWZmaXhcclxuXHRcdGlkU3VmZml4OiAnX2tleWJvYXJkJyxcclxuXHRcdC8vIGNsYXNzIG5hbWUgdG8gc2V0IGluaXRpYWwgZm9jdXNcclxuXHRcdGluaXRpYWxGb2N1czogJ2tleWJvYXJkLWluaXQtZm9jdXMnLFxyXG5cdFx0Ly8gZWxlbWVudCBjbGFzcyBuYW1lc1xyXG5cdFx0aW5wdXQ6ICd1aS1rZXlib2FyZC1pbnB1dCcsXHJcblx0XHRpbnB1dENsb25lOiAndWkta2V5Ym9hcmQtcHJldmlldy1jbG9uZScsXHJcblx0XHR3cmFwcGVyOiAndWkta2V5Ym9hcmQtcHJldmlldy13cmFwcGVyJyxcclxuXHRcdHByZXZpZXc6ICd1aS1rZXlib2FyZC1wcmV2aWV3JyxcclxuXHRcdGtleWJvYXJkOiAndWkta2V5Ym9hcmQnLFxyXG5cdFx0a2V5U2V0OiAndWkta2V5Ym9hcmQta2V5c2V0JyxcclxuXHRcdGtleUJ1dHRvbjogJ3VpLWtleWJvYXJkLWJ1dHRvbicsXHJcblx0XHRrZXlXaWRlOiAndWkta2V5Ym9hcmQtd2lkZWtleScsXHJcblx0XHRrZXlQcmVmaXg6ICd1aS1rZXlib2FyZC0nLFxyXG5cdFx0a2V5VGV4dDogJ3VpLWtleWJvYXJkLXRleHQnLCAvLyBzcGFuIHdpdGggYnV0dG9uIHRleHRcclxuXHRcdGtleUhhc0FjdGl2ZTogJ3VpLWtleWJvYXJkLWhhc2FjdGl2ZXN0YXRlJyxcclxuXHRcdGtleUFjdGlvbjogJ3VpLWtleWJvYXJkLWFjdGlvbmtleScsXHJcblx0XHRrZXlTcGFjZXI6ICd1aS1rZXlib2FyZC1zcGFjZXInLCAvLyBlbXB0eSBrZXlzXHJcblx0XHRrZXlUb2dnbGU6ICd1aS1rZXlib2FyZC10b2dnbGUnLFxyXG5cdFx0a2V5RGlzYWJsZWQ6ICd1aS1rZXlib2FyZC1kaXNhYmxlZCcsXHJcblx0XHQvLyBDbGFzcyBmb3IgQlJzIHdpdGggYSBkaXYgd3JhcHBlciBpbnNpZGUgb2YgY29udGVudGVkaXRhYmxlXHJcblx0XHRkaXZXcmFwcGVyQ0U6ICd1aS1rZXlib2FyZC1kaXYtd3JhcHBlcicsXHJcblx0XHQvLyBzdGF0ZXNcclxuXHRcdGxvY2tlZDogJ3VpLWtleWJvYXJkLWxvY2tlZGlucHV0JyxcclxuXHRcdGFsd2F5c09wZW46ICd1aS1rZXlib2FyZC1hbHdheXMtb3BlbicsXHJcblx0XHRub0tleWJvYXJkOiAndWkta2V5Ym9hcmQtbm9rZXlib2FyZCcsXHJcblx0XHRwbGFjZWhvbGRlcjogJ3VpLWtleWJvYXJkLXBsYWNlaG9sZGVyJyxcclxuXHRcdGhhc0ZvY3VzOiAndWkta2V5Ym9hcmQtaGFzLWZvY3VzJyxcclxuXHRcdGlzQ3VycmVudDogJ3VpLWtleWJvYXJkLWlucHV0LWN1cnJlbnQnLFxyXG5cdFx0Ly8gdmFsaWRhdGlvbiAmIGF1dG9hY2NlcHRcclxuXHRcdGlucHV0VmFsaWQ6ICd1aS1rZXlib2FyZC12YWxpZC1pbnB1dCcsXHJcblx0XHRpbnB1dEludmFsaWQ6ICd1aS1rZXlib2FyZC1pbnZhbGlkLWlucHV0JyxcclxuXHRcdGlucHV0QXV0b0FjY2VwdGVkOiAndWkta2V5Ym9hcmQtYXV0b2FjY2VwdGVkJyxcclxuXHRcdGVuZFJvdzogJ3VpLWtleWJvYXJkLWJ1dHRvbi1lbmRyb3cnIC8vIGNsYXNzIGFkZGVkIHRvIDxicj5cclxuXHR9O1xyXG5cclxuXHQka2V5Ym9hcmQuZXZlbnRzID0ge1xyXG5cdFx0Ly8ga2V5Ym9hcmQgZXZlbnRzXHJcblx0XHRrYkNoYW5nZTogJ2tleWJvYXJkQ2hhbmdlJyxcclxuXHRcdGtiQmVmb3JlQ2xvc2U6ICdiZWZvcmVDbG9zZScsXHJcblx0XHRrYkJlZm9yZVZpc2libGU6ICdiZWZvcmVWaXNpYmxlJyxcclxuXHRcdGtiVmlzaWJsZTogJ3Zpc2libGUnLFxyXG5cdFx0a2JJbml0OiAnaW5pdGlhbGl6ZWQnLFxyXG5cdFx0a2JJbmFjdGl2ZTogJ2luYWN0aXZlJyxcclxuXHRcdGtiSGlkZGVuOiAnaGlkZGVuJyxcclxuXHRcdGtiUmVwZWF0ZXI6ICdyZXBlYXRlcicsXHJcblx0XHRrYktleXNldENoYW5nZTogJ2tleXNldENoYW5nZScsXHJcblx0XHQvLyBpbnB1dCBldmVudHNcclxuXHRcdGlucHV0QWNjZXB0ZWQ6ICdhY2NlcHRlZCcsXHJcblx0XHRpbnB1dENhbmNlbGVkOiAnY2FuY2VsZWQnLFxyXG5cdFx0aW5wdXRDaGFuZ2U6ICdjaGFuZ2UnLFxyXG5cdFx0aW5wdXRSZXN0cmljdGVkOiAncmVzdHJpY3RlZCdcclxuXHR9O1xyXG5cclxuXHQvLyBBY3Rpb24ga2V5IGZ1bmN0aW9uIGxpc3RcclxuXHQka2V5Ym9hcmQua2V5YWN0aW9uID0ge1xyXG5cdFx0YWNjZXB0OiBmdW5jdGlvbiAoYmFzZSkge1xyXG5cdFx0XHRiYXNlLmNsb3NlKHRydWUpOyAvLyBzYW1lIGFzIGJhc2UuYWNjZXB0KCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTsgLy8gcmV0dXJuIGZhbHNlIHByZXZlbnRzIGZ1cnRoZXIgcHJvY2Vzc2luZ1xyXG5cdFx0fSxcclxuXHRcdGFsdDogZnVuY3Rpb24gKGJhc2UpIHtcclxuXHRcdFx0YmFzZS5hbHRBY3RpdmUgPSAhYmFzZS5hbHRBY3RpdmU7XHJcblx0XHRcdGJhc2Uuc2hvd1NldCgpO1xyXG5cdFx0fSxcclxuXHRcdGJrc3A6IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdGlmIChiYXNlLmlzQ29udGVudEVkaXRhYmxlKSB7XHJcblx0XHRcdFx0YmFzZS5leGVjQ29tbWFuZCgnZGVsZXRlJyk7XHJcblx0XHRcdFx0Ly8gc2F2ZSBuZXcgY2FyZXQgcG9zaXRpb25cclxuXHRcdFx0XHRiYXNlLnNhdmVDYXJldCgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIHRoZSBzY3JpcHQgbG9va3MgZm9yIHRoZSAnXFxiJyBzdHJpbmcgYW5kIGluaXRpYXRlcyBhIGJhY2tzcGFjZVxyXG5cdFx0XHRcdGJhc2UuaW5zZXJ0VGV4dCgnXFxiJyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRjYW5jZWw6IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdGJhc2UuY2xvc2UoKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlOyAvLyByZXR1cm4gZmFsc2UgcHJldmVudHMgZnVydGhlciBwcm9jZXNzaW5nXHJcblx0XHR9LFxyXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdGJhc2UuJHByZXZpZXdbYmFzZS5pc0NvbnRlbnRFZGl0YWJsZSA/ICd0ZXh0JyA6ICd2YWwnXSgnJyk7XHJcblx0XHRcdGlmIChiYXNlLiRkZWNCdG4ubGVuZ3RoKSB7XHJcblx0XHRcdFx0YmFzZS5jaGVja0RlY2ltYWwoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGNvbWJvOiBmdW5jdGlvbiAoYmFzZSkge1xyXG5cdFx0XHR2YXIgbyA9IGJhc2Uub3B0aW9ucyxcclxuXHRcdFx0XHRjID0gIW8udXNlQ29tYm9zLFxyXG5cdFx0XHRcdCRjb21ibyA9IGJhc2UuJGtleWJvYXJkLmZpbmQoJy4nICsgJGtleWJvYXJkLmNzcy5rZXlQcmVmaXggKyAnY29tYm8nKTtcclxuXHRcdFx0by51c2VDb21ib3MgPSBjO1xyXG5cdFx0XHQkY29tYm9cclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3Moby5jc3MuYnV0dG9uQWN0aXZlLCBjKVxyXG5cdFx0XHRcdC8vIHVwZGF0ZSBjb21ibyBrZXkgc3RhdGVcclxuXHRcdFx0XHQuYXR0cigndGl0bGUnLCAkY29tYm8uYXR0cignZGF0YS10aXRsZScpICsgJyAoJyArIG8uZGlzcGxheVtjID8gJ2FjdGl2ZScgOiAnZGlzYWJsZWQnXSArICcpJyk7XHJcblx0XHRcdGlmIChjKSB7XHJcblx0XHRcdFx0YmFzZS5jaGVja0NvbWJvcygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0sXHJcblx0XHRkZWM6IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdGJhc2UuaW5zZXJ0VGV4dCgoYmFzZS5kZWNpbWFsKSA/ICcuJyA6ICcsJyk7XHJcblx0XHR9LFxyXG5cdFx0ZGVsOiBmdW5jdGlvbiAoYmFzZSkge1xyXG5cdFx0XHRpZiAoYmFzZS5pc0NvbnRlbnRFZGl0YWJsZSkge1xyXG5cdFx0XHRcdGJhc2UuZXhlY0NvbW1hbmQoJ2ZvcndhcmREZWxldGUnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyB0aGUgc2NyaXB0IGxvb2tzIGZvciB0aGUgJ3tkfScgc3RyaW5nIGFuZCBpbml0aWF0ZXMgYSBkZWxldGVcclxuXHRcdFx0XHRiYXNlLmluc2VydFRleHQoJ3tkfScpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0Ly8gcmVzZXRzIHRvIGJhc2Uga2V5c2V0IChkZXByZWNhdGVkIGJlY2F1c2UgXCJkZWZhdWx0XCIgaXMgYSByZXNlcnZlZCB3b3JkKVxyXG5cdFx0J2RlZmF1bHQnOiBmdW5jdGlvbiAoYmFzZSkge1xyXG5cdFx0XHRiYXNlLnNoaWZ0QWN0aXZlID0gYmFzZS5hbHRBY3RpdmUgPSBiYXNlLm1ldGFBY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0YmFzZS5zaG93U2V0KCk7XHJcblx0XHR9LFxyXG5cdFx0Ly8gZWwgaXMgdGhlIHByZXNzZWQga2V5IChidXR0b24pIG9iamVjdDsgaXQgaXMgbnVsbCB3aGVuIHRoZSByZWFsIGtleWJvYXJkIGVudGVyIGlzIHByZXNzZWRcclxuXHRcdGVudGVyOiBmdW5jdGlvbiAoYmFzZSwgZWwsIGUpIHtcclxuXHRcdFx0dmFyIG8gPSBiYXNlLm9wdGlvbnM7XHJcblx0XHRcdC8vIHNoaWZ0K2VudGVyIGluIHRleHRhcmVhc1xyXG5cdFx0XHRpZiAoZS5zaGlmdEtleSkge1xyXG5cdFx0XHRcdC8vIHRleHRhcmVhLCBpbnB1dCAmIGNvbnRlbnRlZGl0YWJsZSAtIGVudGVyTW9kICsgc2hpZnQgKyBlbnRlciA9IGFjY2VwdCxcclxuXHRcdFx0XHQvLyAgdGhlbiBnbyB0byBwcmV2OyBiYXNlLnN3aXRjaElucHV0KGdvVG9OZXh0LCBhdXRvQWNjZXB0KVxyXG5cdFx0XHRcdC8vIHRleHRhcmVhICYgaW5wdXQgLSBzaGlmdCArIGVudGVyID0gYWNjZXB0IChubyBuYXZpZ2F0aW9uKVxyXG5cdFx0XHRcdHJldHVybiAoby5lbnRlck5hdmlnYXRpb24pID8gYmFzZS5zd2l0Y2hJbnB1dCghZVtvLmVudGVyTW9kXSwgdHJ1ZSkgOiBiYXNlLmNsb3NlKHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGlucHV0IG9ubHkgLSBlbnRlck1vZCArIGVudGVyIHRvIG5hdmlnYXRlXHJcblx0XHRcdGlmIChvLmVudGVyTmF2aWdhdGlvbiAmJiAoIWJhc2UuaXNUZXh0QXJlYSB8fCBlW28uZW50ZXJNb2RdKSkge1xyXG5cdFx0XHRcdHJldHVybiBiYXNlLnN3aXRjaElucHV0KCFlW28uZW50ZXJNb2RdLCBvLmF1dG9BY2NlcHQgPyAndHJ1ZScgOiBmYWxzZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gcHJlc3NpbmcgdmlydHVhbCBlbnRlciBidXR0b24gaW5zaWRlIG9mIGEgdGV4dGFyZWEgLSBhZGQgYSBjYXJyaWFnZSByZXR1cm5cclxuXHRcdFx0Ly8gZS50YXJnZXQgaXMgc3BhbiB3aGVuIGNsaWNraW5nIG9uIHRleHQgYW5kIGJ1dHRvbiBhdCBvdGhlciB0aW1lc1xyXG5cdFx0XHRpZiAoYmFzZS5pc1RleHRBcmVhICYmICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2J1dHRvbicpLmxlbmd0aCkge1xyXG5cdFx0XHRcdC8vIElFOCBmaXggKHNwYWNlICsgXFxuKSAtIGZpeGVzICM3MSB0aGFua3MgQmxvb2tpZSFcclxuXHRcdFx0XHRiYXNlLmluc2VydFRleHQoKCRrZXlib2FyZC5tc2llID8gJyAnIDogJycpICsgJ1xcbicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChiYXNlLmlzQ29udGVudEVkaXRhYmxlICYmICFvLmVudGVyTmF2aWdhdGlvbikge1xyXG5cdFx0XHRcdGJhc2UuZXhlY0NvbW1hbmQoJ2luc2VydEhUTUwnLCAnPGRpdj48YnIgY2xhc3M9XCInICsgJGtleWJvYXJkLmNzcy5kaXZXcmFwcGVyQ0UgKyAnXCI+PC9kaXY+Jyk7XHJcblx0XHRcdFx0Ly8gVXNpbmcgYmFja3NwYWNlIG9uIHdyYXBwZWQgQlJzIHdpbGwgbm93IHNoaWZ0IHRoZSB0ZXh0bm9kZSBpbnNpZGUgb2YgdGhlIHdyYXBwZWQgQlJcclxuXHRcdFx0XHQvLyBBbHRob3VnaCBub3QgaWRlYWwsIHRoZSBjYXJldCBpcyBtb3ZlZCBhZnRlciB0aGUgYmxvY2sgLSBzZWUgdGhlIHdpa2kgcGFnZSBmb3JcclxuXHRcdFx0XHQvLyBtb3JlIGRldGFpbHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9Nb3R0aWUvS2V5Ym9hcmQvd2lraS9Db250ZW50ZWRpdGFibGUjbGltaXRhdGlvbnNcclxuXHRcdFx0XHQvLyBtb3ZlIGNhcmV0IGFmdGVyIGEgZGVsYXkgdG8gYWxsb3cgcmVuZGVyaW5nIG9mIEhUTUxcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0JGtleWJvYXJkLmtleWFjdGlvbi5yaWdodChiYXNlKTtcclxuXHRcdFx0XHRcdGJhc2Uuc2F2ZUNhcmV0KCk7XHJcblx0XHRcdFx0fSwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQvLyBjYXBzIGxvY2sga2V5XHJcblx0XHRsb2NrOiBmdW5jdGlvbiAoYmFzZSkge1xyXG5cdFx0XHRiYXNlLmxhc3Qua2V5c2V0WzBdID0gYmFzZS5zaGlmdEFjdGl2ZSA9IGJhc2UuY2Fwc0xvY2sgPSAhYmFzZS5jYXBzTG9jaztcclxuXHRcdFx0YmFzZS5zaG93U2V0KCk7XHJcblx0XHR9LFxyXG5cdFx0bGVmdDogZnVuY3Rpb24gKGJhc2UpIHtcclxuXHRcdFx0dmFyIHAgPSAka2V5Ym9hcmQuY2FyZXQoYmFzZS4kcHJldmlldyk7XHJcblx0XHRcdGlmIChwLnN0YXJ0IC0gMSA+PSAwKSB7XHJcblx0XHRcdFx0Ly8gbW92ZSBib3RoIHN0YXJ0IGFuZCBlbmQgb2YgY2FyZXQgKHByZXZlbnRzIHRleHQgc2VsZWN0aW9uKSAmIHNhdmUgY2FyZXQgcG9zaXRpb25cclxuXHRcdFx0XHRiYXNlLmxhc3Quc3RhcnQgPSBiYXNlLmxhc3QuZW5kID0gcC5zdGFydCAtIDE7XHJcblx0XHRcdFx0JGtleWJvYXJkLmNhcmV0KGJhc2UuJHByZXZpZXcsIGJhc2UubGFzdCk7XHJcblx0XHRcdFx0YmFzZS5zZXRTY3JvbGwoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdG1ldGE6IGZ1bmN0aW9uIChiYXNlLCBlbCkge1xyXG5cdFx0XHR2YXIgJGVsID0gJChlbCk7XHJcblx0XHRcdGJhc2UubWV0YUFjdGl2ZSA9ICEkZWwuaGFzQ2xhc3MoYmFzZS5vcHRpb25zLmNzcy5idXR0b25BY3RpdmUpO1xyXG5cdFx0XHRiYXNlLnNob3dTZXQoJGVsLmF0dHIoJ2RhdGEtbmFtZScpKTtcclxuXHRcdH0sXHJcblx0XHRuZXh0OiBmdW5jdGlvbiAoYmFzZSkge1xyXG5cdFx0XHRiYXNlLnN3aXRjaElucHV0KHRydWUsIGJhc2Uub3B0aW9ucy5hdXRvQWNjZXB0KTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSxcclxuXHRcdC8vIHNhbWUgYXMgJ2RlZmF1bHQnIC0gcmVzZXRzIHRvIGJhc2Uga2V5c2V0XHJcblx0XHRub3JtYWw6IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdGJhc2Uuc2hpZnRBY3RpdmUgPSBiYXNlLmFsdEFjdGl2ZSA9IGJhc2UubWV0YUFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRiYXNlLnNob3dTZXQoKTtcclxuXHRcdH0sXHJcblx0XHRwcmV2OiBmdW5jdGlvbiAoYmFzZSkge1xyXG5cdFx0XHRiYXNlLnN3aXRjaElucHV0KGZhbHNlLCBiYXNlLm9wdGlvbnMuYXV0b0FjY2VwdCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0sXHJcblx0XHRyaWdodDogZnVuY3Rpb24gKGJhc2UpIHtcclxuXHRcdFx0dmFyIHAgPSAka2V5Ym9hcmQuY2FyZXQoYmFzZS4kcHJldmlldyksXHJcblx0XHRcdFx0bGVuID0gYmFzZS5pc0NvbnRlbnRFZGl0YWJsZSA/ICRrZXlib2FyZC5nZXRFZGl0YWJsZUxlbmd0aChiYXNlLmVsKSA6IGJhc2UuZ2V0VmFsdWUoKS5sZW5ndGg7XHJcblx0XHRcdGlmIChwLmVuZCArIDEgPD0gbGVuKSB7XHJcblx0XHRcdFx0Ly8gbW92ZSBib3RoIHN0YXJ0IGFuZCBlbmQgb2YgY2FyZXQgdG8gZW5kIHBvc2l0aW9uXHJcblx0XHRcdFx0Ly8gKHByZXZlbnRzIHRleHQgc2VsZWN0aW9uKSAmJiBzYXZlIGNhcmV0IHBvc2l0aW9uXHJcblx0XHRcdFx0YmFzZS5sYXN0LnN0YXJ0ID0gYmFzZS5sYXN0LmVuZCA9IHAuZW5kICsgMTtcclxuXHRcdFx0XHQka2V5Ym9hcmQuY2FyZXQoYmFzZS4kcHJldmlldywgYmFzZS5sYXN0KTtcclxuXHRcdFx0XHRiYXNlLnNldFNjcm9sbCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0c2hpZnQ6IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdGJhc2UubGFzdC5rZXlzZXRbMF0gPSBiYXNlLnNoaWZ0QWN0aXZlID0gIWJhc2Uuc2hpZnRBY3RpdmU7XHJcblx0XHRcdGJhc2Uuc2hvd1NldCgpO1xyXG5cdFx0fSxcclxuXHRcdHNpZ246IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdGlmICgvXlsrLV0/XFxkKlxcLj9cXGQqJC8udGVzdChiYXNlLmdldFZhbHVlKCkpKSB7XHJcblx0XHRcdFx0dmFyIGNhcmV0LFxyXG5cdFx0XHRcdFx0cCA9ICRrZXlib2FyZC5jYXJldChiYXNlLiRwcmV2aWV3KSxcclxuXHRcdFx0XHRcdHZhbCA9IGJhc2UuZ2V0VmFsdWUoKSxcclxuXHRcdFx0XHRcdGxlbiA9IGJhc2UuaXNDb250ZW50RWRpdGFibGUgPyAka2V5Ym9hcmQuZ2V0RWRpdGFibGVMZW5ndGgoYmFzZS5lbCkgOiB2YWwubGVuZ3RoO1xyXG5cdFx0XHRcdGJhc2Uuc2V0VmFsdWUodmFsICogLTEpO1xyXG5cdFx0XHRcdGNhcmV0ID0gbGVuIC0gdmFsLmxlbmd0aDtcclxuXHRcdFx0XHRiYXNlLmxhc3Quc3RhcnQgPSBwLnN0YXJ0ICsgY2FyZXQ7XHJcblx0XHRcdFx0YmFzZS5sYXN0LmVuZCA9IHAuZW5kICsgY2FyZXQ7XHJcblx0XHRcdFx0JGtleWJvYXJkLmNhcmV0KGJhc2UuJHByZXZpZXcsIGJhc2UubGFzdCk7XHJcblx0XHRcdFx0YmFzZS5zZXRTY3JvbGwoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdHNwYWNlOiBmdW5jdGlvbiAoYmFzZSkge1xyXG5cdFx0XHRiYXNlLmluc2VydFRleHQoJyAnKTtcclxuXHRcdH0sXHJcblx0XHR0YWI6IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdHZhciBvID0gYmFzZS5vcHRpb25zO1xyXG5cdFx0XHRpZiAoIWJhc2UuaXNUZXh0QXJlYSkge1xyXG5cdFx0XHRcdGlmIChvLnRhYk5hdmlnYXRpb24pIHtcclxuXHRcdFx0XHRcdHJldHVybiBiYXNlLnN3aXRjaElucHV0KCFiYXNlLnNoaWZ0QWN0aXZlLCB0cnVlKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGJhc2UuaXNJbnB1dCkge1xyXG5cdFx0XHRcdFx0Ly8gaWdub3JlIHRhYiBrZXkgaW4gaW5wdXRcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0YmFzZS5pbnNlcnRUZXh0KCdcXHQnKTtcclxuXHRcdH0sXHJcblx0XHR0b2dnbGU6IGZ1bmN0aW9uIChiYXNlKSB7XHJcblx0XHRcdGJhc2UuZW5hYmxlZCA9ICFiYXNlLmVuYWJsZWQ7XHJcblx0XHRcdGJhc2UudG9nZ2xlKCk7XHJcblx0XHR9LFxyXG5cdFx0Ly8gKioqIFNwZWNpYWwgYWN0aW9uIGtleXM6IE5CU1AgJiB6ZXJvLXdpZHRoIGNoYXJhY3RlcnMgKioqXHJcblx0XHQvLyBOb24tYnJlYWtpbmcgc3BhY2VcclxuXHRcdE5CU1A6ICdcXHUwMGEwJyxcclxuXHRcdC8vIHplcm8gd2lkdGggc3BhY2VcclxuXHRcdFpXU1A6ICdcXHUyMDBiJyxcclxuXHRcdC8vIFplcm8gd2lkdGggbm9uLWpvaW5lclxyXG5cdFx0WldOSjogJ1xcdTIwMGMnLFxyXG5cdFx0Ly8gWmVybyB3aWR0aCBqb2luZXJcclxuXHRcdFpXSjogJ1xcdTIwMGQnLFxyXG5cdFx0Ly8gTGVmdC10by1yaWdodCBNYXJrXHJcblx0XHRMUk06ICdcXHUyMDBlJyxcclxuXHRcdC8vIFJpZ2h0LXRvLWxlZnQgTWFya1xyXG5cdFx0UkxNOiAnXFx1MjAwZidcclxuXHR9O1xyXG5cclxuXHQvLyBEZWZhdWx0IGtleWJvYXJkIGxheW91dHNcclxuXHQka2V5Ym9hcmQuYnVpbHRMYXlvdXRzID0ge307XHJcblx0JGtleWJvYXJkLmxheW91dHMgPSB7XHJcblx0XHQnYWxwaGEnOiB7XHJcblx0XHRcdCdub3JtYWwnOiBbXHJcblx0XHRcdFx0J2AgMSAyIDMgNCA1IDYgNyA4IDkgMCAtID0ge2Jrc3B9JyxcclxuXHRcdFx0XHQne3RhYn0gYSBiIGMgZCBlIGYgZyBoIGkgaiBbIF0gXFxcXCcsXHJcblx0XHRcdFx0J2sgbCBtIG4gbyBwIHEgciBzIDsgXFwnIHtlbnRlcn0nLFxyXG5cdFx0XHRcdCd7c2hpZnR9IHQgdSB2IHcgeCB5IHogLCAuIC8ge3NoaWZ0fScsXHJcblx0XHRcdFx0J3thY2NlcHR9IHtzcGFjZX0ge2NhbmNlbH0nXHJcblx0XHRcdF0sXHJcblx0XHRcdCdzaGlmdCc6IFtcclxuXHRcdFx0XHQnfiAhIEAgIyAkICUgXiAmICogKCApIF8gKyB7YmtzcH0nLFxyXG5cdFx0XHRcdCd7dGFifSBBIEIgQyBEIEUgRiBHIEggSSBKIHsgfSB8JyxcclxuXHRcdFx0XHQnSyBMIE0gTiBPIFAgUSBSIFMgOiBcIiB7ZW50ZXJ9JyxcclxuXHRcdFx0XHQne3NoaWZ0fSBUIFUgViBXIFggWSBaIDwgPiA/IHtzaGlmdH0nLFxyXG5cdFx0XHRcdCd7YWNjZXB0fSB7c3BhY2V9IHtjYW5jZWx9J1xyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0J3F3ZXJ0eSc6IHtcclxuXHRcdFx0J25vcm1hbCc6IFtcclxuXHRcdFx0XHQnYCAxIDIgMyA0IDUgNiA3IDggOSAwIC0gPSB7YmtzcH0nLFxyXG5cdFx0XHRcdCd7dGFifSBxIHcgZSByIHQgeSB1IGkgbyBwIFsgXSBcXFxcJyxcclxuXHRcdFx0XHQnYSBzIGQgZiBnIGggaiBrIGwgOyBcXCcge2VudGVyfScsXHJcblx0XHRcdFx0J3tzaGlmdH0geiB4IGMgdiBiIG4gbSAsIC4gLyB7c2hpZnR9JyxcclxuXHRcdFx0XHQne2FjY2VwdH0ge3NwYWNlfSB7Y2FuY2VsfSdcclxuXHRcdFx0XSxcclxuXHRcdFx0J3NoaWZ0JzogW1xyXG5cdFx0XHRcdCd+ICEgQCAjICQgJSBeICYgKiAoICkgXyArIHtia3NwfScsXHJcblx0XHRcdFx0J3t0YWJ9IFEgVyBFIFIgVCBZIFUgSSBPIFAgeyB9IHwnLFxyXG5cdFx0XHRcdCdBIFMgRCBGIEcgSCBKIEsgTCA6IFwiIHtlbnRlcn0nLFxyXG5cdFx0XHRcdCd7c2hpZnR9IFogWCBDIFYgQiBOIE0gPCA+ID8ge3NoaWZ0fScsXHJcblx0XHRcdFx0J3thY2NlcHR9IHtzcGFjZX0ge2NhbmNlbH0nXHJcblx0XHRcdF1cclxuXHRcdH0sXHJcblx0XHQnaW50ZXJuYXRpb25hbCc6IHtcclxuXHRcdFx0J25vcm1hbCc6IFtcclxuXHRcdFx0XHQnYCAxIDIgMyA0IDUgNiA3IDggOSAwIC0gPSB7YmtzcH0nLFxyXG5cdFx0XHRcdCd7dGFifSBxIHcgZSByIHQgeSB1IGkgbyBwIFsgXSBcXFxcJyxcclxuXHRcdFx0XHQnYSBzIGQgZiBnIGggaiBrIGwgOyBcXCcge2VudGVyfScsXHJcblx0XHRcdFx0J3tzaGlmdH0geiB4IGMgdiBiIG4gbSAsIC4gLyB7c2hpZnR9JyxcclxuXHRcdFx0XHQne2FjY2VwdH0ge2FsdH0ge3NwYWNlfSB7YWx0fSB7Y2FuY2VsfSdcclxuXHRcdFx0XSxcclxuXHRcdFx0J3NoaWZ0JzogW1xyXG5cdFx0XHRcdCd+ICEgQCAjICQgJSBeICYgKiAoICkgXyArIHtia3NwfScsXHJcblx0XHRcdFx0J3t0YWJ9IFEgVyBFIFIgVCBZIFUgSSBPIFAgeyB9IHwnLFxyXG5cdFx0XHRcdCdBIFMgRCBGIEcgSCBKIEsgTCA6IFwiIHtlbnRlcn0nLFxyXG5cdFx0XHRcdCd7c2hpZnR9IFogWCBDIFYgQiBOIE0gPCA+ID8ge3NoaWZ0fScsXHJcblx0XHRcdFx0J3thY2NlcHR9IHthbHR9IHtzcGFjZX0ge2FsdH0ge2NhbmNlbH0nXHJcblx0XHRcdF0sXHJcblx0XHRcdCdhbHQnOiBbXHJcblx0XHRcdFx0J34gXFx1MDBhMSBcXHUwMGIyIFxcdTAwYjMgXFx1MDBhNCBcXHUyMGFjIFxcdTAwYmMgXFx1MDBiZCBcXHUwMGJlIFxcdTIwMTggXFx1MjAxOSBcXHUwMGE1IFxcdTAwZDcge2Jrc3B9JyxcclxuXHRcdFx0XHQne3RhYn0gXFx1MDBlNCBcXHUwMGU1IFxcdTAwZTkgXFx1MDBhZSBcXHUwMGZlIFxcdTAwZmMgXFx1MDBmYSBcXHUwMGVkIFxcdTAwZjMgXFx1MDBmNiBcXHUwMGFiIFxcdTAwYmIgXFx1MDBhYycsXHJcblx0XHRcdFx0J1xcdTAwZTEgXFx1MDBkZiBcXHUwMGYwIGYgZyBoIGogayBcXHUwMGY4IFxcdTAwYjYgXFx1MDBiNCB7ZW50ZXJ9JyxcclxuXHRcdFx0XHQne3NoaWZ0fSBcXHUwMGU2IHggXFx1MDBhOSB2IGIgXFx1MDBmMSBcXHUwMGI1IFxcdTAwZTcgPiBcXHUwMGJmIHtzaGlmdH0nLFxyXG5cdFx0XHRcdCd7YWNjZXB0fSB7YWx0fSB7c3BhY2V9IHthbHR9IHtjYW5jZWx9J1xyXG5cdFx0XHRdLFxyXG5cdFx0XHQnYWx0LXNoaWZ0JzogW1xyXG5cdFx0XHRcdCd+IFxcdTAwYjkgXFx1MDBiMiBcXHUwMGIzIFxcdTAwYTMgXFx1MjBhYyBcXHUwMGJjIFxcdTAwYmQgXFx1MDBiZSBcXHUyMDE4IFxcdTIwMTkgXFx1MDBhNSBcXHUwMGY3IHtia3NwfScsXHJcblx0XHRcdFx0J3t0YWJ9IFxcdTAwYzQgXFx1MDBjNSBcXHUwMGM5IFxcdTAwYWUgXFx1MDBkZSBcXHUwMGRjIFxcdTAwZGEgXFx1MDBjZCBcXHUwMGQzIFxcdTAwZDYgXFx1MDBhYiBcXHUwMGJiIFxcdTAwYTYnLFxyXG5cdFx0XHRcdCdcXHUwMGM0IFxcdTAwYTcgXFx1MDBkMCBGIEcgSCBKIEsgXFx1MDBkOCBcXHUwMGIwIFxcdTAwYTgge2VudGVyfScsXHJcblx0XHRcdFx0J3tzaGlmdH0gXFx1MDBjNiBYIFxcdTAwYTIgViBCIFxcdTAwZDEgXFx1MDBiNSBcXHUwMGM3IC4gXFx1MDBiZiB7c2hpZnR9JyxcclxuXHRcdFx0XHQne2FjY2VwdH0ge2FsdH0ge3NwYWNlfSB7YWx0fSB7Y2FuY2VsfSdcclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdCdjb2xlbWFrJzoge1xyXG5cdFx0XHQnbm9ybWFsJzogW1xyXG5cdFx0XHRcdCdgIDEgMiAzIDQgNSA2IDcgOCA5IDAgLSA9IHtia3NwfScsXHJcblx0XHRcdFx0J3t0YWJ9IHEgdyBmIHAgZyBqIGwgdSB5IDsgWyBdIFxcXFwnLFxyXG5cdFx0XHRcdCd7YmtzcH0gYSByIHMgdCBkIGggbiBlIGkgbyBcXCcge2VudGVyfScsXHJcblx0XHRcdFx0J3tzaGlmdH0geiB4IGMgdiBiIGsgbSAsIC4gLyB7c2hpZnR9JyxcclxuXHRcdFx0XHQne2FjY2VwdH0ge3NwYWNlfSB7Y2FuY2VsfSdcclxuXHRcdFx0XSxcclxuXHRcdFx0J3NoaWZ0JzogW1xyXG5cdFx0XHRcdCd+ICEgQCAjICQgJSBeICYgKiAoICkgXyArIHtia3NwfScsXHJcblx0XHRcdFx0J3t0YWJ9IFEgVyBGIFAgRyBKIEwgVSBZIDogeyB9IHwnLFxyXG5cdFx0XHRcdCd7YmtzcH0gQSBSIFMgVCBEIEggTiBFIEkgTyBcIiB7ZW50ZXJ9JyxcclxuXHRcdFx0XHQne3NoaWZ0fSBaIFggQyBWIEIgSyBNIDwgPiA/IHtzaGlmdH0nLFxyXG5cdFx0XHRcdCd7YWNjZXB0fSB7c3BhY2V9IHtjYW5jZWx9J1xyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0J2R2b3Jhayc6IHtcclxuXHRcdFx0J25vcm1hbCc6IFtcclxuXHRcdFx0XHQnYCAxIDIgMyA0IDUgNiA3IDggOSAwIFsgXSB7YmtzcH0nLFxyXG5cdFx0XHRcdCd7dGFifSBcXCcgLCAuIHAgeSBmIGcgYyByIGwgLyA9IFxcXFwnLFxyXG5cdFx0XHRcdCdhIG8gZSB1IGkgZCBoIHQgbiBzIC0ge2VudGVyfScsXHJcblx0XHRcdFx0J3tzaGlmdH0gOyBxIGogayB4IGIgbSB3IHYgeiB7c2hpZnR9JyxcclxuXHRcdFx0XHQne2FjY2VwdH0ge3NwYWNlfSB7Y2FuY2VsfSdcclxuXHRcdFx0XSxcclxuXHRcdFx0J3NoaWZ0JzogW1xyXG5cdFx0XHRcdCd+ICEgQCAjICQgJSBeICYgKiAoICkgeyB9IHtia3NwfScsXHJcblx0XHRcdFx0J3t0YWJ9IFwiIDwgPiBQIFkgRiBHIEMgUiBMID8gKyB8JyxcclxuXHRcdFx0XHQnQSBPIEUgVSBJIEQgSCBUIE4gUyBfIHtlbnRlcn0nLFxyXG5cdFx0XHRcdCd7c2hpZnR9IDogUSBKIEsgWCBCIE0gVyBWIFoge3NoaWZ0fScsXHJcblx0XHRcdFx0J3thY2NlcHR9IHtzcGFjZX0ge2NhbmNlbH0nXHJcblx0XHRcdF1cclxuXHRcdH0sXHJcblx0XHQnbnVtJzoge1xyXG5cdFx0XHQnbm9ybWFsJzogW1xyXG5cdFx0XHRcdCc9ICggKSB7Yn0nLFxyXG5cdFx0XHRcdCd7Y2xlYXJ9IC8gKiAtJyxcclxuXHRcdFx0XHQnNyA4IDkgKycsXHJcblx0XHRcdFx0JzQgNSA2IHtzaWdufScsXHJcblx0XHRcdFx0JzEgMiAzICUnLFxyXG5cdFx0XHRcdCcwIHtkZWN9IHthfSB7Y30nXHJcblx0XHRcdF1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQka2V5Ym9hcmQubGFuZ3VhZ2UgPSB7XHJcblx0XHRlbjoge1xyXG5cdFx0XHRkaXNwbGF5OiB7XHJcblx0XHRcdFx0Ly8gY2hlY2sgbWFyayAtIHNhbWUgYWN0aW9uIGFzIGFjY2VwdFxyXG5cdFx0XHRcdCdhJzogJ1xcdTI3MTQ6QWNjZXB0IChTaGlmdCtFbnRlciknLFxyXG5cdFx0XHRcdCdhY2NlcHQnOiAnQWNjZXB0OkFjY2VwdCAoU2hpZnQrRW50ZXIpJyxcclxuXHRcdFx0XHQvLyBvdGhlciBhbHRlcm5hdGl2ZXMgXFx1MjMxMVxyXG5cdFx0XHRcdCdhbHQnOiAnQWx0OlxcdTIzMjUgQWx0R3InLFxyXG5cdFx0XHRcdC8vIExlZnQgYXJyb3cgKHNhbWUgYXMgJmxhcnI7KVxyXG5cdFx0XHRcdCdiJzogJ1xcdTIzMmI6QmFja3NwYWNlJyxcclxuXHRcdFx0XHQnYmtzcCc6ICdCa3NwOkJhY2tzcGFjZScsXHJcblx0XHRcdFx0Ly8gYmlnIFgsIGNsb3NlIC0gc2FtZSBhY3Rpb24gYXMgY2FuY2VsXHJcblx0XHRcdFx0J2MnOiAnXFx1MjcxNjpDYW5jZWwgKEVzYyknLFxyXG5cdFx0XHRcdCdjYW5jZWwnOiAnQ2FuY2VsOkNhbmNlbCAoRXNjKScsXHJcblx0XHRcdFx0Ly8gY2xlYXIgbnVtIHBhZFxyXG5cdFx0XHRcdCdjbGVhcic6ICdDOkNsZWFyJyxcclxuXHRcdFx0XHQnY29tYm8nOiAnXFx1MDBmNjpUb2dnbGUgQ29tYm8gS2V5cycsXHJcblx0XHRcdFx0Ly8gZGVjaW1hbCBwb2ludCBmb3IgbnVtIHBhZCAob3B0aW9uYWwpLCBjaGFuZ2UgJy4nIHRvICcsJyBmb3IgRXVyb3BlYW4gZm9ybWF0XHJcblx0XHRcdFx0J2RlYyc6ICcuOkRlY2ltYWwnLFxyXG5cdFx0XHRcdC8vIGRvd24sIHRoZW4gbGVmdCBhcnJvdyAtIGVudGVyIHN5bWJvbFxyXG5cdFx0XHRcdCdlJzogJ1xcdTIzY2U6RW50ZXInLFxyXG5cdFx0XHRcdCdlbXB0eSc6ICdcXHUwMGEwJyxcclxuXHRcdFx0XHQnZW50ZXInOiAnRW50ZXI6RW50ZXIgXFx1MjNjZScsXHJcblx0XHRcdFx0Ly8gbGVmdCBhcnJvdyAobW92ZSBjYXJldClcclxuXHRcdFx0XHQnbGVmdCc6ICdcXHUyMTkwJyxcclxuXHRcdFx0XHQvLyBjYXBzIGxvY2tcclxuXHRcdFx0XHQnbG9jayc6ICdMb2NrOlxcdTIxZWEgQ2FwcyBMb2NrJyxcclxuXHRcdFx0XHQnbmV4dCc6ICdOZXh0IFxcdTIxZTgnLFxyXG5cdFx0XHRcdCdwcmV2JzogJ1xcdTIxZTYgUHJldicsXHJcblx0XHRcdFx0Ly8gcmlnaHQgYXJyb3cgKG1vdmUgY2FyZXQpXHJcblx0XHRcdFx0J3JpZ2h0JzogJ1xcdTIxOTInLFxyXG5cdFx0XHRcdC8vIHRoaWNrIGhvbGxvdyB1cCBhcnJvd1xyXG5cdFx0XHRcdCdzJzogJ1xcdTIxZTc6U2hpZnQnLFxyXG5cdFx0XHRcdCdzaGlmdCc6ICdTaGlmdDpTaGlmdCcsXHJcblx0XHRcdFx0Ly8gKy8tIHNpZ24gZm9yIG51bSBwYWRcclxuXHRcdFx0XHQnc2lnbic6ICdcXHUwMGIxOkNoYW5nZSBTaWduJyxcclxuXHRcdFx0XHQnc3BhY2UnOiAnXFx1MDBhMDpTcGFjZScsXHJcblx0XHRcdFx0Ly8gcmlnaHQgYXJyb3cgdG8gYmFyICh1c2VkIHNpbmNlIHRoaXMgdmlydHVhbCBrZXlib2FyZCB3b3JrcyB3aXRoIG9uZSBkaXJlY3Rpb25hbCB0YWJzKVxyXG5cdFx0XHRcdCd0JzogJ1xcdTIxZTU6VGFiJyxcclxuXHRcdFx0XHQvLyBcXHUyMWI5IGlzIHRoZSB0cnVlIHRhYiBzeW1ib2wgKGxlZnQgJiByaWdodCBhcnJvd3MpXHJcblx0XHRcdFx0J3RhYic6ICdcXHUyMWU1IFRhYjpUYWInLFxyXG5cdFx0XHRcdC8vIHJlcGxhY2VkIGJ5IGFuIGltYWdlXHJcblx0XHRcdFx0J3RvZ2dsZSc6ICcgJyxcclxuXHJcblx0XHRcdFx0Ly8gYWRkZWQgdG8gdGl0bGVzIG9mIGtleXNcclxuXHRcdFx0XHQvLyBhY2NlcHQga2V5IHN0YXR1cyB3aGVuIGFjY2VwdFZhbGlkOnRydWVcclxuXHRcdFx0XHQndmFsaWQnOiAndmFsaWQnLFxyXG5cdFx0XHRcdCdpbnZhbGlkJzogJ2ludmFsaWQnLFxyXG5cdFx0XHRcdC8vIGNvbWJvIGtleSBzdGF0ZXNcclxuXHRcdFx0XHQnYWN0aXZlJzogJ2FjdGl2ZScsXHJcblx0XHRcdFx0J2Rpc2FibGVkJzogJ2Rpc2FibGVkJ1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gTWVzc2FnZSBhZGRlZCB0byB0aGUga2V5IHRpdGxlIHdoaWxlIGhvdmVyaW5nLCBpZiB0aGUgbW91c2V3aGVlbCBwbHVnaW4gZXhpc3RzXHJcblx0XHRcdHdoZWVsTWVzc2FnZTogJ1VzZSBtb3VzZXdoZWVsIHRvIHNlZSBvdGhlciBrZXlzJyxcclxuXHJcblx0XHRcdGNvbWJvUmVnZXg6IC8oW2BcXCd+XFxeXFxcImFvXSkoW2Etel0pL21pZyxcclxuXHRcdFx0Y29tYm9zOiB7XHJcblx0XHRcdFx0Ly8gZ3JhdmVcclxuXHRcdFx0XHQnYCc6IHsgYTogJ1xcdTAwZTAnLCBBOiAnXFx1MDBjMCcsIGU6ICdcXHUwMGU4JywgRTogJ1xcdTAwYzgnLCBpOiAnXFx1MDBlYycsIEk6ICdcXHUwMGNjJywgbzogJ1xcdTAwZjInLFxyXG5cdFx0XHRcdFx0XHRPOiAnXFx1MDBkMicsIHU6ICdcXHUwMGY5JywgVTogJ1xcdTAwZDknLCB5OiAnXFx1MWVmMycsIFk6ICdcXHUxZWYyJyB9LFxyXG5cdFx0XHRcdC8vIGFjdXRlICYgY2VkaWxsYVxyXG5cdFx0XHRcdFwiJ1wiOiB7IGE6ICdcXHUwMGUxJywgQTogJ1xcdTAwYzEnLCBlOiAnXFx1MDBlOScsIEU6ICdcXHUwMGM5JywgaTogJ1xcdTAwZWQnLCBJOiAnXFx1MDBjZCcsIG86ICdcXHUwMGYzJyxcclxuXHRcdFx0XHRcdFx0TzogJ1xcdTAwZDMnLCB1OiAnXFx1MDBmYScsIFU6ICdcXHUwMGRhJywgeTogJ1xcdTAwZmQnLCBZOiAnXFx1MDBkZCcgfSxcclxuXHRcdFx0XHQvLyB1bWxhdXQvdHJlbWFcclxuXHRcdFx0XHQnXCInOiB7IGE6ICdcXHUwMGU0JywgQTogJ1xcdTAwYzQnLCBlOiAnXFx1MDBlYicsIEU6ICdcXHUwMGNiJywgaTogJ1xcdTAwZWYnLCBJOiAnXFx1MDBjZicsIG86ICdcXHUwMGY2JyxcclxuXHRcdFx0XHRcdFx0TzogJ1xcdTAwZDYnLCB1OiAnXFx1MDBmYycsIFU6ICdcXHUwMGRjJywgeTogJ1xcdTAwZmYnLCBZOiAnXFx1MDE3OCcgfSxcclxuXHRcdFx0XHQvLyBjaXJjdW1mbGV4XHJcblx0XHRcdFx0J14nOiB7IGE6ICdcXHUwMGUyJywgQTogJ1xcdTAwYzInLCBlOiAnXFx1MDBlYScsIEU6ICdcXHUwMGNhJywgaTogJ1xcdTAwZWUnLCBJOiAnXFx1MDBjZScsIG86ICdcXHUwMGY0JyxcclxuXHRcdFx0XHRcdFx0TzogJ1xcdTAwZDQnLCB1OiAnXFx1MDBmYicsIFU6ICdcXHUwMGRiJywgeTogJ1xcdTAxNzcnLCBZOiAnXFx1MDE3NicgfSxcclxuXHRcdFx0XHQvLyB0aWxkZVxyXG5cdFx0XHRcdCd+JzogeyBhOiAnXFx1MDBlMycsIEE6ICdcXHUwMGMzJywgZTogJ1xcdTFlYmQnLCBFOiAnXFx1MWViYycsIGk6ICdcXHUwMTI5JywgSTogJ1xcdTAxMjgnLCBvOiAnXFx1MDBmNScsXHJcblx0XHRcdFx0XHRcdE86ICdcXHUwMGQ1JywgdTogJ1xcdTAxNjknLCBVOiAnXFx1MDE2OCcsIHk6ICdcXHUxZWY5JywgWTogJ1xcdTFlZjgnLCBuOiAnXFx1MDBmMScsIE46ICdcXHUwMGQxJyB9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQka2V5Ym9hcmQuZGVmYXVsdE9wdGlvbnMgPSB7XHJcblx0XHQvLyBzZXQgdGhpcyB0byBJU08gNjM5LTEgbGFuZ3VhZ2UgY29kZSB0byBvdmVycmlkZSBsYW5ndWFnZSBzZXQgYnkgdGhlIGxheW91dFxyXG5cdFx0Ly8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX0lTT182MzktMV9jb2Rlc1xyXG5cdFx0Ly8gbGFuZ3VhZ2UgZGVmYXVsdHMgdG8gJ2VuJyBpZiBub3QgZm91bmRcclxuXHRcdGxhbmd1YWdlOiBudWxsLFxyXG5cdFx0cnRsOiBmYWxzZSxcclxuXHJcblx0XHQvLyAqKiogY2hvb3NlIGxheW91dCAmIHBvc2l0aW9uaW5nICoqKlxyXG5cdFx0bGF5b3V0OiAncXdlcnR5JyxcclxuXHRcdGN1c3RvbUxheW91dDogbnVsbCxcclxuXHJcblx0XHRwb3NpdGlvbjoge1xyXG5cdFx0XHQvLyBvcHRpb25hbCAtIG51bGwgKGF0dGFjaCB0byBpbnB1dC90ZXh0YXJlYSkgb3IgYSBqUXVlcnkgb2JqZWN0IChhdHRhY2ggZWxzZXdoZXJlKVxyXG5cdFx0XHRvZjogbnVsbCxcclxuXHRcdFx0bXk6ICdjZW50ZXIgdG9wJyxcclxuXHRcdFx0YXQ6ICdjZW50ZXIgdG9wJyxcclxuXHRcdFx0Ly8gdXNlZCB3aGVuICd1c2VQcmV2aWV3JyBpcyBmYWxzZSAoY2VudGVycyB0aGUga2V5Ym9hcmQgYXQgdGhlIGJvdHRvbSBvZiB0aGUgaW5wdXQvdGV4dGFyZWEpXHJcblx0XHRcdGF0MjogJ2NlbnRlciBib3R0b20nXHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIGFsbG93IGpRdWVyeSBwb3NpdGlvbiB1dGlsaXR5IHRvIHJlcG9zaXRpb24gdGhlIGtleWJvYXJkIG9uIHdpbmRvdyByZXNpemVcclxuXHRcdHJlcG9zaXRpb246IHRydWUsXHJcblxyXG5cdFx0Ly8gcHJldmlldyBhZGRlZCBhYm92ZSBrZXlib2FyZCBpZiB0cnVlLCBvcmlnaW5hbCBpbnB1dC90ZXh0YXJlYSB1c2VkIGlmIGZhbHNlXHJcblx0XHR1c2VQcmV2aWV3OiB0cnVlLFxyXG5cclxuXHRcdC8vIGlmIHRydWUsIHRoZSBrZXlib2FyZCB3aWxsIGFsd2F5cyBiZSB2aXNpYmxlXHJcblx0XHRhbHdheXNPcGVuOiBmYWxzZSxcclxuXHJcblx0XHQvLyBnaXZlIHRoZSBwcmV2aWV3IGluaXRpYWwgZm9jdXMgd2hlbiB0aGUga2V5Ym9hcmQgYmVjb21lcyB2aXNpYmxlXHJcblx0XHRpbml0aWFsRm9jdXM6IHRydWUsXHJcblxyXG5cdFx0Ly8gYXZvaWQgY2hhbmdpbmcgdGhlIGZvY3VzIChoYXJkd2FyZSBrZXlib2FyZCBwcm9iYWJseSB3b24ndCB3b3JrKVxyXG5cdFx0bm9Gb2N1czogZmFsc2UsXHJcblxyXG5cdFx0Ly8gaWYgdHJ1ZSwga2V5Ym9hcmQgd2lsbCByZW1haW4gb3BlbiBldmVuIGlmIHRoZSBpbnB1dCBsb3NlcyBmb2N1cywgYnV0IGNsb3NlcyBvbiBlc2NhcGVcclxuXHRcdC8vIG9yIHdoZW4gYW5vdGhlciBrZXlib2FyZCBvcGVucy5cclxuXHRcdHN0YXlPcGVuOiBmYWxzZSxcclxuXHJcblx0XHQvLyBQcmV2ZW50cyB0aGUga2V5Ym9hcmQgZnJvbSBjbG9zaW5nIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9yIHByZXNzZXMgb3V0c2lkZSB0aGUga2V5Ym9hcmRcclxuXHRcdC8vIHRoZSBgYXV0b0FjY2VwdGAgb3B0aW9uIG11c3QgYWxzbyBiZSBzZXQgdG8gdHJ1ZSB3aGVuIHRoaXMgb3B0aW9uIGlzIHRydWUgb3IgY2hhbmdlcyBhcmUgbG9zdFxyXG5cdFx0dXNlckNsb3NlZDogZmFsc2UsXHJcblxyXG5cdFx0Ly8gaWYgdHJ1ZSwga2V5Ym9hcmQgd2lsbCBub3QgY2xvc2UgaWYgeW91IHByZXNzIGVzY2FwZS5cclxuXHRcdGlnbm9yZUVzYzogZmFsc2UsXHJcblxyXG5cdFx0Ly8gaWYgdHJ1ZSwga2V5Ym9hcmQgd2lsbCBvbmx5IGNsb3NlZCBvbiBjbGljayBldmVudCBpbnN0ZWFkIG9mIG1vdXNlZG93biBhbmQgdG91Y2hzdGFydFxyXG5cdFx0Y2xvc2VCeUNsaWNrRXZlbnQ6IGZhbHNlLFxyXG5cclxuXHRcdGNzczoge1xyXG5cdFx0XHQvLyBpbnB1dCAmIHByZXZpZXdcclxuXHRcdFx0aW5wdXQ6ICd1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsJyxcclxuXHRcdFx0Ly8ga2V5Ym9hcmQgY29udGFpbmVyXHJcblx0XHRcdGNvbnRhaW5lcjogJ3VpLXdpZGdldC1jb250ZW50IHVpLXdpZGdldCB1aS1jb3JuZXItYWxsIHVpLWhlbHBlci1jbGVhcmZpeCcsXHJcblx0XHRcdC8vIGtleWJvYXJkIGNvbnRhaW5lciBleHRyYSBjbGFzcyAoc2FtZSBhcyBjb250YWluZXIsIGJ1dCBzZXBhcmF0ZSlcclxuXHRcdFx0cG9wdXA6ICcnLFxyXG5cdFx0XHQvLyBkZWZhdWx0IHN0YXRlXHJcblx0XHRcdGJ1dHRvbkRlZmF1bHQ6ICd1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwnLFxyXG5cdFx0XHQvLyBob3ZlcmVkIGJ1dHRvblxyXG5cdFx0XHRidXR0b25Ib3ZlcjogJ3VpLXN0YXRlLWhvdmVyJyxcclxuXHRcdFx0Ly8gQWN0aW9uIGtleXMgKGUuZy4gQWNjZXB0LCBDYW5jZWwsIFRhYiwgZXRjKTsgdGhpcyByZXBsYWNlcyAnYWN0aW9uQ2xhc3MnIG9wdGlvblxyXG5cdFx0XHRidXR0b25BY3Rpb246ICd1aS1zdGF0ZS1hY3RpdmUnLFxyXG5cdFx0XHQvLyBBY3RpdmUga2V5cyAoZS5nLiBzaGlmdCBkb3duLCBtZXRhIGtleXNldCBhY3RpdmUsIGNvbWJvIGtleXMgYWN0aXZlKVxyXG5cdFx0XHRidXR0b25BY3RpdmU6ICd1aS1zdGF0ZS1hY3RpdmUnLFxyXG5cdFx0XHQvLyB1c2VkIHdoZW4gZGlzYWJsaW5nIHRoZSBkZWNpbWFsIGJ1dHRvbiB7ZGVjfSB3aGVuIGEgZGVjaW1hbCBleGlzdHMgaW4gdGhlIGlucHV0IGFyZWFcclxuXHRcdFx0YnV0dG9uRGlzYWJsZWQ6ICd1aS1zdGF0ZS1kaXNhYmxlZCcsXHJcblx0XHRcdGJ1dHRvbkVtcHR5OiAndWkta2V5Ym9hcmQtZW1wdHknXHJcblx0XHR9LFxyXG5cclxuXHRcdC8vICoqKiBVc2VhYmlsaXR5ICoqKlxyXG5cdFx0Ly8gQXV0by1hY2NlcHQgY29udGVudCB3aGVuIGNsaWNraW5nIG91dHNpZGUgdGhlIGtleWJvYXJkIChwb3B1cCB3aWxsIGNsb3NlKVxyXG5cdFx0YXV0b0FjY2VwdDogZmFsc2UsXHJcblx0XHQvLyBBdXRvLWFjY2VwdCBjb250ZW50IGV2ZW4gaWYgdGhlIHVzZXIgcHJlc3NlcyBlc2NhcGUgKG9ubHkgd29ya3MgaWYgYGF1dG9BY2NlcHRgIGlzIGB0cnVlYClcclxuXHRcdGF1dG9BY2NlcHRPbkVzYzogZmFsc2UsXHJcblxyXG5cdFx0Ly8gUHJldmVudHMgZGlyZWN0IGlucHV0IGluIHRoZSBwcmV2aWV3IHdpbmRvdyB3aGVuIHRydWVcclxuXHRcdGxvY2tJbnB1dDogZmFsc2UsXHJcblxyXG5cdFx0Ly8gUHJldmVudCBrZXlzIG5vdCBpbiB0aGUgZGlzcGxheWVkIGtleWJvYXJkIGZyb20gYmVpbmcgdHlwZWQgaW5cclxuXHRcdHJlc3RyaWN0SW5wdXQ6IGZhbHNlLFxyXG5cdFx0Ly8gQWRkaXRpb25hbCBhbGxvd2VkIGNoYXJhY3RlcnMgd2hpbGUgcmVzdHJpY3RJbnB1dCBpcyB0cnVlXHJcblx0XHRyZXN0cmljdEluY2x1ZGU6ICcnLCAvLyBlLmcuICdhIGIgZm9vIFxcdWQ4M2RcXHVkZTM4J1xyXG5cclxuXHRcdC8vIENoZWNrIGlucHV0IGFnYWluc3QgdmFsaWRhdGUgZnVuY3Rpb24sIGlmIHZhbGlkIHRoZSBhY2NlcHQgYnV0dG9uIGdldHMgYSBjbGFzcyBuYW1lIG9mXHJcblx0XHQvLyAndWkta2V5Ym9hcmQtdmFsaWQtaW5wdXQnLiBJZiBpbnZhbGlkLCB0aGUgYWNjZXB0IGJ1dHRvbiBnZXRzIGEgY2xhc3MgbmFtZSBvZlxyXG5cdFx0Ly8gJ3VpLWtleWJvYXJkLWludmFsaWQtaW5wdXQnXHJcblx0XHRhY2NlcHRWYWxpZDogZmFsc2UsXHJcblx0XHQvLyBBdXRvLWFjY2VwdCB3aGVuIGlucHV0IGlzIHZhbGlkOyByZXF1aXJlcyBgYWNjZXB0VmFsaWRgIHNldCBgdHJ1ZWAgJiB2YWxpZGF0ZSBjYWxsYmFja1xyXG5cdFx0YXV0b0FjY2VwdE9uVmFsaWQ6IGZhbHNlLFxyXG5cdFx0Ly8gQ2hlY2sgdmFsaWRhdGlvbiBvbiBrZXlib2FyZCBpbml0aWFsaXphdGlvbi4gSWYgZmFsc2UsIHRoZSBcIkFjY2VwdFwiIGtleSBzdGF0ZSAoY29sb3IpXHJcblx0XHQvLyB3aWxsIG5vdCBjaGFuZ2UgdG8gc2hvdyBpZiB0aGUgY29udGVudCBpcyB2YWxpZCwgb3Igbm90XHJcblx0XHRjaGVja1ZhbGlkT25Jbml0OiB0cnVlLFxyXG5cclxuXHRcdC8vIGlmIGFjY2VwdFZhbGlkIGlzIHRydWUgJiB0aGUgdmFsaWRhdGUgZnVuY3Rpb24gcmV0dXJucyBhIGZhbHNlLCB0aGlzIG9wdGlvbiB3aWxsIGNhbmNlbFxyXG5cdFx0Ly8gYSBrZXlib2FyZCBjbG9zZSBvbmx5IGFmdGVyIHRoZSBhY2NlcHQgYnV0dG9uIGlzIHByZXNzZWRcclxuXHRcdGNhbmNlbENsb3NlOiB0cnVlLFxyXG5cclxuXHRcdC8vIHRhYiB0byBnbyB0byBuZXh0LCBzaGlmdC10YWIgZm9yIHByZXZpb3VzIChkZWZhdWx0IGJlaGF2aW9yKVxyXG5cdFx0dGFiTmF2aWdhdGlvbjogZmFsc2UsXHJcblxyXG5cdFx0Ly8gZW50ZXIgZm9yIG5leHQgaW5wdXQ7IHNoaWZ0K2VudGVyIGFjY2VwdHMgY29udGVudCAmIGdvZXMgdG8gbmV4dFxyXG5cdFx0Ly8gc2hpZnQgKyAnZW50ZXJNb2QnICsgZW50ZXIgKCdlbnRlck1vZCcgaXMgdGhlIGFsdCBhcyBzZXQgYmVsb3cpIHdpbGwgYWNjZXB0IGNvbnRlbnQgYW5kIGdvXHJcblx0XHQvLyB0byBwcmV2aW91cyBpbiBhIHRleHRhcmVhXHJcblx0XHRlbnRlck5hdmlnYXRpb246IGZhbHNlLFxyXG5cdFx0Ly8gbW9kIGtleSBvcHRpb25zOiAnY3RybEtleScsICdzaGlmdEtleScsICdhbHRLZXknLCAnbWV0YUtleScgKE1BQyBvbmx5KVxyXG5cdFx0ZW50ZXJNb2Q6ICdhbHRLZXknLCAvLyBhbHQtZW50ZXIgdG8gZ28gdG8gcHJldmlvdXM7IHNoaWZ0LWFsdC1lbnRlciB0byBhY2NlcHQgJiBnbyB0byBwcmV2aW91c1xyXG5cclxuXHRcdC8vIGlmIHRydWUsIHRoZSBuZXh0IGJ1dHRvbiB3aWxsIHN0b3Agb24gdGhlIGxhc3Qga2V5Ym9hcmQgaW5wdXQvdGV4dGFyZWE7IHByZXYgYnV0dG9uIHN0b3BzIGF0IGZpcnN0XHJcblx0XHQvLyBpZiBmYWxzZSwgdGhlIG5leHQgYnV0dG9uIHdpbGwgd3JhcCB0byB0YXJnZXQgdGhlIGZpcnN0IGlucHV0L3RleHRhcmVhOyBwcmV2IHdpbGwgZ28gdG8gdGhlIGxhc3RcclxuXHRcdHN0b3BBdEVuZDogdHJ1ZSxcclxuXHJcblx0XHQvLyBTZXQgdGhpcyB0byBhcHBlbmQgdGhlIGtleWJvYXJkIGFmdGVyIHRoZSBpbnB1dC90ZXh0YXJlYSAoYXBwZW5kZWQgdG8gdGhlIGlucHV0L3RleHRhcmVhIHBhcmVudCkuXHJcblx0XHQvLyBUaGlzIG9wdGlvbiB3b3JrcyBiZXN0IHdoZW4gdGhlIGlucHV0IGNvbnRhaW5lciBkb2Vzbid0IGhhdmUgYSBzZXQgd2lkdGggJiB3aGVuIHRoZSAndGFiTmF2aWdhdGlvbidcclxuXHRcdC8vIG9wdGlvbiBpcyB0cnVlLlxyXG5cdFx0YXBwZW5kTG9jYWxseTogZmFsc2UsXHJcblx0XHQvLyBXaGVuIGFwcGVuZExvY2FsbHkgaXMgZmFsc2UsIHRoZSBrZXlib2FyZCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoaXMgb2JqZWN0XHJcblx0XHRhcHBlbmRUbzogJ2JvZHknLFxyXG5cclxuXHRcdC8vIFdyYXAgYWxsIDxicj5zIGluc2lkZSBvZiBhIGNvbnRlbnRlZGl0YWJsZSBpbiBhIGRpdjsgd2l0aG91dCB3cmFwcGluZywgdGhlIGNhcmV0XHJcblx0XHQvLyBwb3NpdGlvbiB3aWxsIG5vdCBiZSBhY2N1cmF0ZVxyXG5cdFx0d3JhcEJSczogdHJ1ZSxcclxuXHJcblx0XHQvLyBJZiBmYWxzZSwgdGhlIHNoaWZ0IGtleSB3aWxsIHJlbWFpbiBhY3RpdmUgdW50aWwgdGhlIG5leHQga2V5IGlzIChtb3VzZSkgY2xpY2tlZCBvbjsgaWYgdHJ1ZSBpdCB3aWxsXHJcblx0XHQvLyBzdGF5IGFjdGl2ZSB1bnRpbCBwcmVzc2VkIGFnYWluXHJcblx0XHRzdGlja3lTaGlmdDogdHJ1ZSxcclxuXHJcblx0XHQvLyBQcmV2ZW50IHBhc3RpbmcgY29udGVudCBpbnRvIHRoZSBhcmVhXHJcblx0XHRwcmV2ZW50UGFzdGU6IGZhbHNlLFxyXG5cclxuXHRcdC8vIGNhcmV0IHBsYWNlZCBhdCB0aGUgZW5kIG9mIGFueSB0ZXh0IHdoZW4ga2V5Ym9hcmQgYmVjb21lcyB2aXNpYmxlXHJcblx0XHRjYXJldFRvRW5kOiBmYWxzZSxcclxuXHJcblx0XHQvLyBjYXJldCBzdGF5cyB0aGlzIG1hbnkgcGl4ZWxzIGZyb20gdGhlIGVkZ2Ugb2YgdGhlIGlucHV0IHdoaWxlIHNjcm9sbGluZyBsZWZ0L3JpZ2h0O1xyXG5cdFx0Ly8gdXNlIFwiY1wiIG9yIFwiY2VudGVyXCIgdG8gY2VudGVyIHRoZSBjYXJldCB3aGlsZSBzY3JvbGxpbmdcclxuXHRcdHNjcm9sbEFkanVzdG1lbnQ6IDEwLFxyXG5cclxuXHRcdC8vIFNldCB0aGUgbWF4IG51bWJlciBvZiBjaGFyYWN0ZXJzIGFsbG93ZWQgaW4gdGhlIGlucHV0LCBzZXR0aW5nIGl0IHRvIGZhbHNlIGRpc2FibGVzIHRoaXMgb3B0aW9uXHJcblx0XHRtYXhMZW5ndGg6IGZhbHNlLFxyXG5cdFx0Ly8gYWxsb3cgaW5zZXJ0aW5nIGNoYXJhY3RlcnMgQCBjYXJldCB3aGVuIG1heExlbmd0aCBpcyBzZXRcclxuXHRcdG1heEluc2VydDogdHJ1ZSxcclxuXHJcblx0XHQvLyBNb3VzZSByZXBlYXQgZGVsYXkgLSB3aGVuIGNsaWNraW5nL3RvdWNoaW5nIGEgdmlydHVhbCBrZXlib2FyZCBrZXksIGFmdGVyIHRoaXMgZGVsYXkgdGhlIGtleSB3aWxsXHJcblx0XHQvLyBzdGFydCByZXBlYXRpbmdcclxuXHRcdHJlcGVhdERlbGF5OiA1MDAsXHJcblxyXG5cdFx0Ly8gTW91c2UgcmVwZWF0IHJhdGUgLSBhZnRlciB0aGUgcmVwZWF0RGVsYXksIHRoaXMgaXMgdGhlIHJhdGUgKGNoYXJhY3RlcnMgcGVyIHNlY29uZCkgYXQgd2hpY2ggdGhlXHJcblx0XHQvLyBrZXkgaXMgcmVwZWF0ZWQgQWRkZWQgdG8gc2ltdWxhdGUgaG9sZGluZyBkb3duIGEgcmVhbCBrZXlib2FyZCBrZXkgYW5kIGhhdmluZyBpdCByZXBlYXQuIEkgaGF2ZW4ndFxyXG5cdFx0Ly8gY2FsY3VsYXRlZCB0aGUgdXBwZXIgbGltaXQgb2YgdGhpcyByYXRlLCBidXQgaXQgaXMgbGltaXRlZCB0byBob3cgZmFzdCB0aGUgamF2YXNjcmlwdCBjYW4gcHJvY2Vzc1xyXG5cdFx0Ly8gdGhlIGtleXMuIEFuZCBmb3IgbWUsIGluIEZpcmVmb3gsIGl0J3MgYXJvdW5kIDIwLlxyXG5cdFx0cmVwZWF0UmF0ZTogMjAsXHJcblxyXG5cdFx0Ly8gcmVzZXRzIHRoZSBrZXlib2FyZCB0byB0aGUgZGVmYXVsdCBrZXlzZXQgd2hlbiB2aXNpYmxlXHJcblx0XHRyZXNldERlZmF1bHQ6IHRydWUsXHJcblxyXG5cdFx0Ly8gRXZlbnQgKG5hbWVzcGFjZWQpIG9uIHRoZSBpbnB1dCB0byByZXZlYWwgdGhlIGtleWJvYXJkLiBUbyBkaXNhYmxlIGl0LCBqdXN0IHNldCBpdCB0byAnJy5cclxuXHRcdG9wZW5PbjogJ2ZvY3VzJyxcclxuXHJcblx0XHQvLyBlbmFibGUgdGhlIGtleWJvYXJkIG9uIHJlYWRvbmx5IGlucHV0c1xyXG5cdFx0YWN0aXZlT25SZWFkb25seTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gRXZlbnQgKG5hbWVwYWNlZCkgZm9yIHdoZW4gdGhlIGNoYXJhY3RlciBpcyBhZGRlZCB0byB0aGUgaW5wdXQgKGNsaWNraW5nIG9uIHRoZSBrZXlib2FyZClcclxuXHRcdGtleUJpbmRpbmc6ICdtb3VzZWRvd24gdG91Y2hzdGFydCcsXHJcblxyXG5cdFx0Ly8gZW5hYmxlL2Rpc2FibGUgbW91c2V3aGVlbCBmdW5jdGlvbmFsaXR5XHJcblx0XHQvLyBlbmFibGluZyBzdGlsbCBkZXBlbmRzIG9uIHRoZSBtb3VzZXdoZWVsIHBsdWdpblxyXG5cdFx0dXNlV2hlZWw6IHRydWUsXHJcblxyXG5cdFx0Ly8gY29tYm9zIChlbXVsYXRlIGRlYWQga2V5cyA6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvS2V5Ym9hcmRfbGF5b3V0I1VTLUludGVybmF0aW9uYWwpXHJcblx0XHQvLyBpZiB1c2VyIGlucHV0cyBgYSB0aGUgc2NyaXB0IGNvbnZlcnRzIGl0IHRvIMOgLCBebyBiZWNvbWVzIMO0LCBldGMuXHJcblx0XHR1c2VDb21ib3M6IHRydWUsXHJcblxyXG5cdFx0LypcclxuXHRcdFx0Ly8gKioqIE1ldGhvZHMgKioqXHJcblx0XHRcdC8vIGNvbW1lbnRpbmcgdGhlc2Ugb3V0IHRvIHJlZHVjZSB0aGUgc2l6ZSBvZiB0aGUgbWluaWZpZWQgdmVyc2lvblxyXG5cdFx0XHQvLyBDYWxsYmFja3MgLSBhdHRhY2ggYSBmdW5jdGlvbiB0byBhbnkgb2YgdGhlc2UgY2FsbGJhY2tzIGFzIGRlc2lyZWRcclxuXHRcdFx0aW5pdGlhbGl6ZWQgICA6IGZ1bmN0aW9uKGUsIGtleWJvYXJkLCBlbCkge30sXHJcblx0XHRcdGJlZm9yZVZpc2libGUgOiBmdW5jdGlvbihlLCBrZXlib2FyZCwgZWwpIHt9LFxyXG5cdFx0XHR2aXNpYmxlICAgICAgIDogZnVuY3Rpb24oZSwga2V5Ym9hcmQsIGVsKSB7fSxcclxuXHRcdFx0YmVmb3JlSW5zZXJ0ICA6IGZ1bmN0aW9uKGUsIGtleWJvYXJkLCBlbCwgdGV4dFRvQWRkKSB7IHJldHVybiB0ZXh0VG9BZGQ7IH0sXHJcblx0XHRcdGNoYW5nZSAgICAgICAgOiBmdW5jdGlvbihlLCBrZXlib2FyZCwgZWwpIHt9LFxyXG5cdFx0XHRiZWZvcmVDbG9zZSAgIDogZnVuY3Rpb24oZSwga2V5Ym9hcmQsIGVsLCBhY2NlcHRlZCkge30sXHJcblx0XHRcdGFjY2VwdGVkICAgICAgOiBmdW5jdGlvbihlLCBrZXlib2FyZCwgZWwpIHt9LFxyXG5cdFx0XHRjYW5jZWxlZCAgICAgIDogZnVuY3Rpb24oZSwga2V5Ym9hcmQsIGVsKSB7fSxcclxuXHRcdFx0cmVzdHJpY3RlZCAgICA6IGZ1bmN0aW9uKGUsIGtleWJvYXJkLCBlbCkge30sXHJcblx0XHRcdGhpZGRlbiAgICAgICAgOiBmdW5jdGlvbihlLCBrZXlib2FyZCwgZWwpIHt9LFxyXG5cdFx0XHQvLyBjYWxsZWQgaW5zdGVhZCBvZiBiYXNlLnN3aXRjaElucHV0XHJcblx0XHRcdHN3aXRjaElucHV0ICAgOiBmdW5jdGlvbihrZXlib2FyZCwgZ29Ub05leHQsIGlzQWNjZXB0ZWQpIHt9LFxyXG5cdFx0XHQvLyB1c2VkIGlmIHlvdSB3YW50IHRvIGNyZWF0ZSBhIGN1c3RvbSBsYXlvdXQgb3IgbW9kaWZ5IHRoZSBidWlsdC1pbiBrZXlib2FyZFxyXG5cdFx0XHRjcmVhdGUgICAgICAgIDogZnVuY3Rpb24oa2V5Ym9hcmQpIHsgcmV0dXJuIGtleWJvYXJkLmJ1aWxkS2V5Ym9hcmQoKTsgfSxcclxuXHJcblx0XHRcdC8vIGJ1aWxkIGtleSBjYWxsYmFja1xyXG5cdFx0XHRidWlsZEtleSA6IGZ1bmN0aW9uKCBrZXlib2FyZCwgZGF0YSApIHtcclxuXHRcdFx0XHQvICpcclxuXHRcdFx0XHRkYXRhID0ge1xyXG5cdFx0XHRcdC8vIFJFQUQgT05MWVxyXG5cdFx0XHRcdGlzQWN0aW9uIDogW2Jvb2xlYW5dIHRydWUgaWYga2V5IGlzIGFuIGFjdGlvbiBrZXlcclxuXHRcdFx0XHRuYW1lICAgICA6IFtzdHJpbmddICBrZXkgY2xhc3MgbmFtZSBzdWZmaXggKCBwcmVmaXggPSAndWkta2V5Ym9hcmQtJyApO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IG1heSBpbmNsdWRlIGRlY2ltYWwgYXNjaWkgdmFsdWUgb2YgY2hhcmFjdGVyXHJcblx0XHRcdFx0dmFsdWUgICAgOiBbc3RyaW5nXSAgdGV4dCBpbnNlcnRlZCAobm9uLWFjdGlvbiBrZXlzKVxyXG5cdFx0XHRcdHRpdGxlICAgIDogW3N0cmluZ10gIHRpdGxlIGF0dHJpYnV0ZSBvZiBrZXlcclxuXHRcdFx0XHRhY3Rpb24gICA6IFtzdHJpbmddICBrZXlhY3Rpb24gbmFtZVxyXG5cdFx0XHRcdGh0bWwgICAgIDogW3N0cmluZ10gIEhUTUwgb2YgdGhlIGtleTsgaXQgaW5jbHVkZXMgYSA8c3Bhbj4gd3JhcHBpbmcgdGhlIHRleHRcclxuXHRcdFx0XHQvLyB1c2UgdG8gbW9kaWZ5IGtleSBIVE1MXHJcblx0XHRcdFx0JGtleSAgICAgOiBbb2JqZWN0XSAgalF1ZXJ5IHNlbGVjdG9yIG9mIGtleSB3aGljaCBpcyBhbHJlYWR5IGFwcGVuZGVkIHRvIGtleWJvYXJkXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCogL1xyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9LFxyXG5cdFx0Ki9cclxuXHJcblx0XHQvLyB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCwgaWYgdGhlIGFjY2VwdFZhbGlkIGlzIHRydWUsIGFuZCBqdXN0IGJlZm9yZSB0aGUgJ2JlZm9yZUNsb3NlJyB0byBjaGVja1xyXG5cdFx0Ly8gdGhlIHZhbHVlIGlmIHRoZSB2YWx1ZSBpcyB2YWxpZCwgcmV0dXJuIHRydWUgYW5kIHRoZSBrZXlib2FyZCB3aWxsIGNvbnRpbnVlIGFzIGl0IHNob3VsZFxyXG5cdFx0Ly8gKGNsb3NlIGlmIG5vdCBhbHdheXMgb3BlbiwgZXRjKS4gSWYgdGhlIHZhbHVlIGlzIG5vdCB2YWxpZCwgcmV0dXJuIGZhbHNlIGFuZCBjbGVhciB0aGUga2V5Ym9hcmRcclxuXHRcdC8vIHZhbHVlICggbGlrZSB0aGlzIFwia2V5Ym9hcmQuJHByZXZpZXcudmFsKCcnKTtcIiApLCBpZiBkZXNpcmVkLiBUaGUgdmFsaWRhdGUgZnVuY3Rpb24gaXMgY2FsbGVkIGFmdGVyXHJcblx0XHQvLyBlYWNoIGlucHV0LCB0aGUgJ2lzQ2xvc2luZycgdmFsdWUgd2lsbCBiZSBmYWxzZTsgd2hlbiB0aGUgYWNjZXB0IGJ1dHRvbiBpcyBjbGlja2VkLFxyXG5cdFx0Ly8gJ2lzQ2xvc2luZycgaXMgdHJ1ZVxyXG5cdFx0dmFsaWRhdGU6IGZ1bmN0aW9uICgvKiBrZXlib2FyZCwgdmFsdWUsIGlzQ2xvc2luZyAqLykge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0Ly8gZm9yIGNoZWNraW5nIGNvbWJvc1xyXG5cdCRrZXlib2FyZC5jb21ib1JlZ2V4ID0gLyhbYFxcJ35cXF5cXFwiYW9dKShbYS16XSkvbWlnO1xyXG5cclxuXHQvLyBzdG9yZSBjdXJyZW50IGtleWJvYXJkIGVsZW1lbnQ7IHVzZWQgYnkgYmFzZS5pc0N1cnJlbnQoKVxyXG5cdCRrZXlib2FyZC5jdXJyZW50S2V5Ym9hcmQgPSAnJztcclxuXHJcblx0JCgnPCEtLVtpZiBsdGUgSUUgOF0+PHNjcmlwdD5qUXVlcnkoXCJib2R5XCIpLmFkZENsYXNzKFwib2xkaWVcIik7PC9zY3JpcHQ+PCFbZW5kaWZdLS0+PCEtLVtpZiBJRV0+JyArXHJcblx0XHRcdCc8c2NyaXB0PmpRdWVyeShcImJvZHlcIikuYWRkQ2xhc3MoXCJpZVwiKTs8L3NjcmlwdD48IVtlbmRpZl0tLT4nKVxyXG5cdFx0LmFwcGVuZFRvKCdib2R5JylcclxuXHRcdC5yZW1vdmUoKTtcclxuXHQka2V5Ym9hcmQubXNpZSA9ICQoJ2JvZHknKS5oYXNDbGFzcygnb2xkaWUnKTsgLy8gT2xkIElFIGZsYWcsIHVzZWQgZm9yIGNhcmV0IHBvc2l0aW9uaW5nXHJcblx0JGtleWJvYXJkLmFsbGllID0gJCgnYm9keScpLmhhc0NsYXNzKCdpZScpO1xyXG5cclxuXHQka2V5Ym9hcmQud2F0ZXJtYXJrID0gKHR5cGVvZiAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKS5wbGFjZWhvbGRlcikgIT09ICd1bmRlZmluZWQnKTtcclxuXHJcblx0JGtleWJvYXJkLmNoZWNrQ2FyZXRTdXBwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHR5cGVvZiAka2V5Ym9hcmQuY2hlY2tDYXJldCAhPT0gJ2Jvb2xlYW4nKSB7XHJcblx0XHRcdC8vIENoZWNrIGlmIGNhcmV0IHBvc2l0aW9uIGlzIHNhdmVkIHdoZW4gaW5wdXQgaXMgaGlkZGVuIG9yIGxvc2VzIGZvY3VzXHJcblx0XHRcdC8vICgqY291Z2gqIGFsbCB2ZXJzaW9ucyBvZiBJRSBhbmQgSSB0aGluayBPcGVyYSBoYXMvaGFkIGFuIGlzc3VlIGFzIHdlbGxcclxuXHRcdFx0dmFyICR0ZW1wID0gJCgnPGRpdiBzdHlsZT1cImhlaWdodDowcHg7d2lkdGg6MHB4O292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0Oi0xMDBweDtcIj4nICtcclxuXHRcdFx0XHQnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCJ0ZXN0aW5nXCIvPjwvZGl2PicpLnByZXBlbmRUbygnYm9keScpOyAvLyBzdG9wIHBhZ2Ugc2Nyb2xsaW5nXHJcblx0XHRcdCRrZXlib2FyZC5jYXJldCgkdGVtcC5maW5kKCdpbnB1dCcpLCAzLCAzKTtcclxuXHRcdFx0Ly8gQWxzbyBzYXZlIGNhcmV0IHBvc2l0aW9uIG9mIHRoZSBpbnB1dCBpZiBpdCBpcyBsb2NrZWRcclxuXHRcdFx0JGtleWJvYXJkLmNoZWNrQ2FyZXQgPSAka2V5Ym9hcmQuY2FyZXQoJHRlbXAuZmluZCgnaW5wdXQnKS5oaWRlKCkuc2hvdygpKS5zdGFydCAhPT0gMztcclxuXHRcdFx0JHRlbXAucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gJGtleWJvYXJkLmNoZWNrQ2FyZXQ7XHJcblx0fTtcclxuXHJcblx0JGtleWJvYXJkLmNhcmV0ID0gZnVuY3Rpb24oJGVsLCBwYXJhbTEsIHBhcmFtMikge1xyXG5cdFx0aWYgKCEkZWwgfHwgISRlbC5sZW5ndGggfHwgJGVsLmlzKCc6aGlkZGVuJykgfHwgJGVsLmNzcygndmlzaWJpbGl0eScpID09PSAnaGlkZGVuJykge1xyXG5cdFx0XHRyZXR1cm4ge307XHJcblx0XHR9XHJcblx0XHR2YXIgc3RhcnQsIGVuZCwgdHh0LCBwb3MsXHJcblx0XHRcdGtiID0gJGVsLmRhdGEoICdrZXlib2FyZCcgKSxcclxuXHRcdFx0bm9Gb2N1cyA9IGtiICYmIGtiLm9wdGlvbnMubm9Gb2N1cyxcclxuXHRcdFx0Zm9ybUVsID0gLyh0ZXh0YXJlYXxpbnB1dCkvaS50ZXN0KCRlbFswXS5ub2RlTmFtZSk7XHJcblx0XHRpZiAoIW5vRm9jdXMpIHsgJGVsLmZvY3VzKCk7IH1cclxuXHRcdC8vIHNldCBjYXJldCBwb3NpdGlvblxyXG5cdFx0aWYgKHR5cGVvZiBwYXJhbTEgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdC8vIGFsbG93IHNldHRpbmcgY2FyZXQgdXNpbmcgKCAkZWwsIHsgc3RhcnQ6IHgsIGVuZDogeSB9IClcclxuXHRcdFx0aWYgKHR5cGVvZiBwYXJhbTEgPT09ICdvYmplY3QnICYmICdzdGFydCcgaW4gcGFyYW0xICYmICdlbmQnIGluIHBhcmFtMSkge1xyXG5cdFx0XHRcdHN0YXJ0ID0gcGFyYW0xLnN0YXJ0O1xyXG5cdFx0XHRcdGVuZCA9IHBhcmFtMS5lbmQ7XHJcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtMiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRwYXJhbTIgPSBwYXJhbTE7IC8vIHNldCBjYXJldCB1c2luZyBzdGFydCBwb3NpdGlvblxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHNldCBjYXJldCB1c2luZyAoICRlbCwgc3RhcnQsIGVuZCApO1xyXG5cdFx0XHRpZiAodHlwZW9mIHBhcmFtMSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHBhcmFtMiA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0XHRzdGFydCA9IHBhcmFtMTtcclxuXHRcdFx0XHRlbmQgPSBwYXJhbTI7XHJcblx0XHRcdH0gZWxzZSBpZiAoIHBhcmFtMSA9PT0gJ3N0YXJ0JyApIHtcclxuXHRcdFx0XHRzdGFydCA9IGVuZCA9IDA7XHJcblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiBwYXJhbTEgPT09ICdzdHJpbmcnICkge1xyXG5cdFx0XHRcdC8vIHVua25vd24gc3RyaW5nIHNldHRpbmcsIG1vdmUgY2FyZXQgdG8gZW5kXHJcblx0XHRcdFx0c3RhcnQgPSBlbmQgPSAnZW5kJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gKioqIFNFVCBDQVJFVCBQT1NJVElPTiAqKipcclxuXHRcdFx0Ly8gbW9kaWZ5IHRoZSBsaW5lIGJlbG93IHRvIGFkYXB0IHRvIG90aGVyIGNhcmV0IHBsdWdpbnNcclxuXHRcdFx0cmV0dXJuIGZvcm1FbCA/XHJcblx0XHRcdFx0JGVsLmNhcmV0KCBzdGFydCwgZW5kLCBub0ZvY3VzICkgOlxyXG5cdFx0XHRcdCRrZXlib2FyZC5zZXRFZGl0YWJsZUNhcmV0KCAkZWwsIHN0YXJ0LCBlbmQgKTtcclxuXHRcdH1cclxuXHRcdC8vICoqKiBHRVQgQ0FSRVQgUE9TSVRJT04gKioqXHJcblx0XHQvLyBtb2RpZnkgdGhlIGxpbmUgYmVsb3cgdG8gYWRhcHQgdG8gb3RoZXIgY2FyZXQgcGx1Z2luc1xyXG5cdFx0aWYgKGZvcm1FbCkge1xyXG5cdFx0XHQvLyBtb2RpZnkgdGhlIGxpbmUgYmVsb3cgdG8gYWRhcHQgdG8gb3RoZXIgY2FyZXQgcGx1Z2luc1xyXG5cdFx0XHRwb3MgPSAkZWwuY2FyZXQoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGNvbnRlbnRlZGl0YWJsZVxyXG5cdFx0XHRwb3MgPSAka2V5Ym9hcmQuZ2V0RWRpdGFibGVDYXJldCgkZWxbMF0pO1xyXG5cdFx0fVxyXG5cdFx0c3RhcnQgPSBwb3Muc3RhcnQ7XHJcblx0XHRlbmQgPSBwb3MuZW5kO1xyXG5cclxuXHRcdC8vICoqKiB1dGlsaXRpZXMgKioqXHJcblx0XHR0eHQgPSBmb3JtRWwgJiYgJGVsWzBdLnZhbHVlIHx8ICRlbC50ZXh0KCkgfHwgJyc7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzdGFydCA6IHN0YXJ0LFxyXG5cdFx0XHRlbmQgOiBlbmQsXHJcblx0XHRcdC8vIHJldHVybiBzZWxlY3RlZCB0ZXh0XHJcblx0XHRcdHRleHQgOiB0eHQuc3Vic3RyaW5nKCBzdGFydCwgZW5kICksXHJcblx0XHRcdC8vIHJldHVybiBhIHJlcGxhY2Ugc2VsZWN0ZWQgc3RyaW5nIG1ldGhvZFxyXG5cdFx0XHRyZXBsYWNlU3RyIDogZnVuY3Rpb24oIHN0ciApIHtcclxuXHRcdFx0XHRyZXR1cm4gdHh0LnN1YnN0cmluZyggMCwgc3RhcnQgKSArIHN0ciArIHR4dC5zdWJzdHJpbmcoIGVuZCwgdHh0Lmxlbmd0aCApO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdCRrZXlib2FyZC5pc1RleHROb2RlID0gZnVuY3Rpb24oZWwpIHtcclxuXHRcdHJldHVybiBlbCAmJiBlbC5ub2RlVHlwZSA9PT0gMztcclxuXHR9O1xyXG5cclxuXHQka2V5Ym9hcmQuaXNCbG9jayA9IGZ1bmN0aW9uKGVsLCBub2RlKSB7XHJcblx0XHR2YXIgd2luID0gZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcclxuXHRcdGlmIChcclxuXHRcdFx0bm9kZSAmJiBub2RlLm5vZGVUeXBlID09PSAxICYmIG5vZGUgIT09IGVsICYmXHJcblx0XHRcdHdpbi5nZXRDb21wdXRlZFN0eWxlKG5vZGUpLmRpc3BsYXkgPT09ICdibG9jaydcclxuXHRcdCkge1xyXG5cdFx0XHRyZXR1cm4gMTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAwO1xyXG5cdH07XHJcblxyXG5cdC8vIFdyYXAgYWxsIEJSJ3MgaW5zaWRlIG9mIGNvbnRlbnRlZGl0YWJsZVxyXG5cdCRrZXlib2FyZC53cmFwQlJzID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XHJcblx0XHR2YXIgJGVsID0gJChjb250YWluZXIpLmZpbmQoJ2JyOm5vdCguJyArICRrZXlib2FyZC5jc3MuZGl2V3JhcHBlckNFICsgJyknKTtcclxuXHRcdGlmICgkZWwubGVuZ3RoKSB7XHJcblx0XHRcdCQuZWFjaCgkZWwsIGZ1bmN0aW9uKGksIGVsKSB7XHJcblx0XHRcdFx0dmFyIGxlbiA9IGVsLnBhcmVudE5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7XHJcblx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0Ly8gd3JhcCBCUnMgaWYgbm90IHNvbG8gY2hpbGRcclxuXHRcdFx0XHRcdGxlbiAhPT0gMSB8fFxyXG5cdFx0XHRcdFx0Ly8gT3IgaWYgQlIgaXMgd3JhcHBlZCBieSBhIHNwYW5cclxuXHRcdFx0XHRcdGxlbiA9PT0gMSAmJiAhJGtleWJvYXJkLmlzQmxvY2soY29udGFpbmVyLCBlbC5wYXJlbnROb2RlKVxyXG5cdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0JChlbCkuYWRkQ2xhc3MoJGtleWJvYXJkLmNzcy5kaXZXcmFwcGVyQ0UpLndyYXAoJzxkaXY+Jyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQka2V5Ym9hcmQuZ2V0RWRpdGFibGVDYXJldCA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xyXG5cdFx0Y29udGFpbmVyID0gJChjb250YWluZXIpWzBdO1xyXG5cdFx0aWYgKCFjb250YWluZXIuaXNDb250ZW50RWRpdGFibGUpIHsgcmV0dXJuIHt9OyB9XHJcblx0XHR2YXIgZW5kLCB0ZXh0LFxyXG5cdFx0XHRvcHRpb25zID0gKCQoY29udGFpbmVyKS5kYXRhKCdrZXlib2FyZCcpIHx8IHt9KS5vcHRpb25zLFxyXG5cdFx0XHRkb2MgPSBjb250YWluZXIub3duZXJEb2N1bWVudCxcclxuXHRcdFx0cmFuZ2UgPSBkb2MuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKSxcclxuXHRcdFx0cmVzdWx0ID0gcGF0aFRvTm9kZShyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpLFxyXG5cdFx0XHRzdGFydCA9IHJlc3VsdC5wb3NpdGlvbjtcclxuXHRcdGlmIChvcHRpb25zLndyYXBCUnMgIT09IGZhbHNlKSB7XHJcblx0XHRcdCRrZXlib2FyZC53cmFwQlJzKGNvbnRhaW5lcik7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBwYXRoVG9Ob2RlKGVuZE5vZGUsIG9mZnNldCkge1xyXG5cdFx0XHR2YXIgbm9kZSwgYWRqdXN0LFxyXG5cdFx0XHRcdHR4dCA9ICcnLFxyXG5cdFx0XHRcdGRvbmUgPSBmYWxzZSxcclxuXHRcdFx0XHRwb3NpdGlvbiA9IDAsXHJcblx0XHRcdFx0bm9kZXMgPSAkLm1ha2VBcnJheShjb250YWluZXIuY2hpbGROb2Rlcyk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjaGVja0Jsb2NrKHZhbCkge1xyXG5cdFx0XHRcdGlmICh2YWwpIHtcclxuXHRcdFx0XHRcdHBvc2l0aW9uICs9IHZhbDtcclxuXHRcdFx0XHRcdHR4dCArPSBvcHRpb25zICYmIG9wdGlvbnMucmVwbGFjZUNSIHx8ICdcXG4nO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0d2hpbGUgKCFkb25lICYmIG5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdG5vZGUgPSBub2Rlcy5zaGlmdCgpO1xyXG5cdFx0XHRcdGlmIChub2RlID09PSBlbmROb2RlKSB7XHJcblx0XHRcdFx0XHRkb25lID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIEFkZCBvbmUgaWYgcHJldmlvdXMgc2libGluZyB3YXMgYSBibG9jayBub2RlIChkaXYsIHAsIGV0YylcclxuXHRcdFx0XHRhZGp1c3QgPSAka2V5Ym9hcmQuaXNCbG9jayhjb250YWluZXIsIG5vZGUucHJldmlvdXNTaWJsaW5nKTtcclxuXHRcdFx0XHRjaGVja0Jsb2NrKGFkanVzdCk7XHJcblxyXG5cdFx0XHRcdGlmICgka2V5Ym9hcmQuaXNUZXh0Tm9kZShub2RlKSkge1xyXG5cdFx0XHRcdFx0cG9zaXRpb24gKz0gZG9uZSA/IG9mZnNldCA6IG5vZGUubGVuZ3RoO1xyXG5cdFx0XHRcdFx0dHh0ICs9IG5vZGUudGV4dENvbnRlbnQ7XHJcblx0XHRcdFx0XHRpZiAoZG9uZSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4ge3Bvc2l0aW9uOiBwb3NpdGlvbiwgdGV4dDogdHh0fTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKCFkb25lICYmIG5vZGUuY2hpbGROb2Rlcykge1xyXG5cdFx0XHRcdFx0bm9kZXMgPSAkLm1ha2VBcnJheShub2RlLmNoaWxkTm9kZXMpLmNvbmNhdChub2Rlcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIEFkZCBvbmUgaWYgd2UncmUgaW5zaWRlIGEgYmxvY2sgbm9kZSAoZGl2LCBwLCBldGMpXHJcblx0XHRcdFx0Ly8gYW5kIHByZXZpb3VzIHNpYmxpbmcgd2FzIGEgdGV4dCBub2RlXHJcblx0XHRcdFx0YWRqdXN0ID0gJGtleWJvYXJkLmlzVGV4dE5vZGUobm9kZS5wcmV2aW91c1NpYmxpbmcpICYmICRrZXlib2FyZC5pc0Jsb2NrKGNvbnRhaW5lciwgbm9kZSk7XHJcblx0XHRcdFx0Y2hlY2tCbG9jayhhZGp1c3QpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB7cG9zaXRpb246IHBvc2l0aW9uLCB0ZXh0OiB0eHR9O1xyXG5cdFx0fVxyXG5cdFx0Ly8gY2hlY2sgb2Ygc3RhcnQgYW5kIGVuZCBhcmUgdGhlIHNhbWVcclxuXHRcdGlmIChyYW5nZS5lbmRDb250YWluZXIgPT09IHJhbmdlLnN0YXJ0Q29udGFpbmVyICYmIHJhbmdlLmVuZE9mZnNldCA9PT0gcmFuZ2Uuc3RhcnRPZmZzZXQpIHtcclxuXHRcdFx0ZW5kID0gc3RhcnQ7XHJcblx0XHRcdHRleHQgPSAnJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlc3VsdCA9IHBhdGhUb05vZGUocmFuZ2UuZW5kQ29udGFpbmVyLCByYW5nZS5lbmRPZmZzZXQpO1xyXG5cdFx0XHRlbmQgPSByZXN1bHQucG9zaXRpb247XHJcblx0XHRcdHRleHQgPSByZXN1bHQudGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzdGFydDogc3RhcnQsXHJcblx0XHRcdGVuZDogZW5kLFxyXG5cdFx0XHR0ZXh0OiB0ZXh0XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdCRrZXlib2FyZC5nZXRFZGl0YWJsZUxlbmd0aCA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xyXG5cdFx0dmFyIHJlc3VsdCA9ICRrZXlib2FyZC5zZXRFZGl0YWJsZUNhcmV0KGNvbnRhaW5lciwgJ2dldE1heCcpO1xyXG5cdFx0Ly8gaWYgbm90IGEgbnVtYmVyLCB0aGUgY29udGFpbmVyIGlzIG5vdCBhIGNvbnRlbnRlZGl0YWJsZSBlbGVtZW50XHJcblx0XHRyZXR1cm4gdHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicgPyByZXN1bHQgOiBudWxsO1xyXG5cdH07XHJcblxyXG5cdCRrZXlib2FyZC5zZXRFZGl0YWJsZUNhcmV0ID0gZnVuY3Rpb24oY29udGFpbmVyLCBzdGFydCwgZW5kKSB7XHJcblx0XHRjb250YWluZXIgPSAkKGNvbnRhaW5lcilbMF07XHJcblx0XHRpZiAoIWNvbnRhaW5lci5pc0NvbnRlbnRFZGl0YWJsZSkgeyByZXR1cm4ge307IH1cclxuXHRcdHZhciBkb2MgPSBjb250YWluZXIub3duZXJEb2N1bWVudCxcclxuXHRcdFx0cmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKSxcclxuXHRcdFx0c2VsID0gZG9jLmdldFNlbGVjdGlvbigpLFxyXG5cdFx0XHRvcHRpb25zID0gKCQoY29udGFpbmVyKS5kYXRhKCdrZXlib2FyZCcpIHx8IHt9KS5vcHRpb25zLFxyXG5cdFx0XHRzID0gc3RhcnQsXHJcblx0XHRcdGUgPSBlbmQsXHJcblx0XHRcdHRleHQgPSAnJyxcclxuXHRcdFx0cmVzdWx0ID0gZmluZE5vZGUoc3RhcnQgPT09ICdnZXRNYXgnID8gJ2VuZCcgOiBzdGFydCk7XHJcblx0XHRmdW5jdGlvbiBmaW5kTm9kZShvZmZzZXQpIHtcclxuXHRcdFx0aWYgKG9mZnNldCA9PT0gJ2VuZCcpIHtcclxuXHRcdFx0XHQvLyBTZXQgc29tZSB2YWx1ZSA+IGNvbnRlbnQgbGVuZ3RoOyBidXQgcmV0dXJuIG1heFxyXG5cdFx0XHRcdG9mZnNldCA9IGNvbnRhaW5lci5pbm5lckhUTUwubGVuZ3RoO1xyXG5cdFx0XHR9IGVsc2UgaWYgKG9mZnNldCA8IDApIHtcclxuXHRcdFx0XHRvZmZzZXQgPSAwO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBub2RlLCBjaGVjayxcclxuXHRcdFx0XHR0eHQgPSAnJyxcclxuXHRcdFx0XHRkb25lID0gZmFsc2UsXHJcblx0XHRcdFx0cG9zaXRpb24gPSAwLFxyXG5cdFx0XHRcdGxhc3QgPSAwLFxyXG5cdFx0XHRcdG1heCA9IDAsXHJcblx0XHRcdFx0bm9kZXMgPSAkLm1ha2VBcnJheShjb250YWluZXIuY2hpbGROb2Rlcyk7XHJcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZVRleHQodmFsKSB7XHJcblx0XHRcdFx0dHh0ICs9IHZhbCA/IG9wdGlvbnMgJiYgb3B0aW9ucy5yZXBsYWNlQ1IgfHwgJ1xcbicgOiAnJztcclxuXHRcdFx0XHRyZXR1cm4gdmFsID4gMDtcclxuXHRcdFx0fVxyXG5cdFx0XHRmdW5jdGlvbiBjaGVja0RvbmUoYWRqKSB7XHJcblx0XHRcdFx0dmFyIHZhbCA9IHBvc2l0aW9uICsgYWRqO1xyXG5cdFx0XHRcdGxhc3QgPSBtYXg7XHJcblx0XHRcdFx0bWF4ICs9IGFkajtcclxuXHRcdFx0XHRpZiAob2Zmc2V0IC0gdmFsID49IDApIHtcclxuXHRcdFx0XHRcdHBvc2l0aW9uID0gdmFsO1xyXG5cdFx0XHRcdFx0cmV0dXJuIG9mZnNldCAtIHBvc2l0aW9uIDw9IDA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBvZmZzZXQgLSB2YWwgPD0gMDtcclxuXHRcdFx0fVxyXG5cdFx0XHR3aGlsZSAoIWRvbmUgJiYgbm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0bm9kZSA9IG5vZGVzLnNoaWZ0KCk7XHJcblx0XHRcdFx0Ly8gQWRkIG9uZSBpZiB0aGUgcHJldmlvdXMgc2libGluZyB3YXMgYSBibG9jayBub2RlIChkaXYsIHAsIGV0YylcclxuXHRcdFx0XHRjaGVjayA9ICRrZXlib2FyZC5pc0Jsb2NrKGNvbnRhaW5lciwgbm9kZS5wcmV2aW91c1NpYmxpbmcpO1xyXG5cdFx0XHRcdGlmICh1cGRhdGVUZXh0KGNoZWNrKSAmJiBjaGVja0RvbmUoY2hlY2spKSB7XHJcblx0XHRcdFx0XHRkb25lID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gQWRkIG9uZSBpZiB3ZSdyZSBpbnNpZGUgYSBibG9jayBub2RlIChkaXYsIHAsIGV0YylcclxuXHRcdFx0XHRjaGVjayA9ICRrZXlib2FyZC5pc1RleHROb2RlKG5vZGUucHJldmlvdXNTaWJsaW5nKSAmJiAka2V5Ym9hcmQuaXNCbG9jayhjb250YWluZXIsIG5vZGUpO1xyXG5cdFx0XHRcdGlmICh1cGRhdGVUZXh0KGNoZWNrKSAmJiBjaGVja0RvbmUoY2hlY2spKSB7XHJcblx0XHRcdFx0XHRkb25lID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCRrZXlib2FyZC5pc1RleHROb2RlKG5vZGUpKSB7XHJcblx0XHRcdFx0XHR0eHQgKz0gbm9kZS50ZXh0Q29udGVudDtcclxuXHRcdFx0XHRcdGlmIChjaGVja0RvbmUobm9kZS5sZW5ndGgpKSB7XHJcblx0XHRcdFx0XHRcdGNoZWNrID0gb2Zmc2V0IC0gcG9zaXRpb24gPT09IDAgJiYgcG9zaXRpb24gLSBsYXN0ID49IDEgPyBub2RlLmxlbmd0aCA6IG9mZnNldCAtIHBvc2l0aW9uO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRcdG5vZGU6IG5vZGUsXHJcblx0XHRcdFx0XHRcdFx0b2Zmc2V0OiBjaGVjayxcclxuXHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogb2Zmc2V0LFxyXG5cdFx0XHRcdFx0XHRcdHRleHQ6IHR4dFxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoIWRvbmUgJiYgbm9kZS5jaGlsZE5vZGVzKSB7XHJcblx0XHRcdFx0XHRub2RlcyA9ICQubWFrZUFycmF5KG5vZGUuY2hpbGROb2RlcykuY29uY2F0KG5vZGVzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG5vZGVzLmxlbmd0aCA/XHJcblx0XHRcdFx0e25vZGU6IG5vZGUsIG9mZnNldDogb2Zmc2V0IC0gcG9zaXRpb24sIHBvc2l0aW9uOiBvZmZzZXQsIHRleHQ6IHR4dH0gOlxyXG5cdFx0XHRcdC8vIE9mZnNldCBpcyBsYXJnZXIgdGhhbiBjb250ZW50LCByZXR1cm4gbWF4XHJcblx0XHRcdFx0e25vZGU6IG5vZGUsIG9mZnNldDogbm9kZSAmJiBub2RlLmxlbmd0aCB8fCAwLCBwb3NpdGlvbjogbWF4LCB0ZXh0OiB0eHR9O1xyXG5cdFx0fVxyXG5cdFx0aWYgKHJlc3VsdC5ub2RlKSB7XHJcblx0XHRcdHMgPSByZXN1bHQucG9zaXRpb247IC8vIEFkanVzdCBpZiBzdGFydCA+IGNvbnRlbnQgbGVuZ3RoXHJcblx0XHRcdGlmIChzdGFydCA9PT0gJ2dldE1heCcpIHtcclxuXHRcdFx0XHRyZXR1cm4gcztcclxuXHRcdFx0fVxyXG5cdFx0XHRyYW5nZS5zZXRTdGFydChyZXN1bHQubm9kZSwgcmVzdWx0Lm9mZnNldCk7XHJcblx0XHRcdC8vIE9ubHkgZmluZCBlbmQgaWYgPiBzdGFydCBhbmQgaXMgZGVmaW5lZC4uLiB0aGlzIGFsbG93cyBwYXNzaW5nXHJcblx0XHRcdC8vIHNldEVkaXRhYmxlQ2FyZXQoZWwsICdlbmQnKSBvciBzZXRFZGl0YWJsZUNhcmV0KGVsLCAxMCwgJ2VuZCcpO1xyXG5cdFx0XHRpZiAodHlwZW9mIGVuZCAhPT0gJ3VuZGVmaW5lZCcgJiYgZW5kICE9PSBzdGFydCkge1xyXG5cdFx0XHRcdHJlc3VsdCA9IGZpbmROb2RlKGVuZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHJlc3VsdC5ub2RlKSB7XHJcblx0XHRcdFx0ZSA9IHJlc3VsdC5wb3NpdGlvbjsgLy8gQWRqdXN0IGlmIGVuZCA+IGNvbnRlbnQgbGVuZ3RoXHJcblx0XHRcdFx0cmFuZ2Uuc2V0RW5kKHJlc3VsdC5ub2RlLCByZXN1bHQub2Zmc2V0KTtcclxuXHRcdFx0XHR0ZXh0ID0gcyA9PT0gZSA/ICcnIDogcmVzdWx0LnRleHQuc3Vic3RyaW5nKHMsIGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcclxuXHRcdFx0c2VsLmFkZFJhbmdlKHJhbmdlKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHN0YXJ0OiBzLFxyXG5cdFx0XHRlbmQ6IGUsXHJcblx0XHRcdHRleHQ6IHRleHRcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0JGtleWJvYXJkLnJlcGxhY2VDb250ZW50ID0gZnVuY3Rpb24gKGVsLCBwYXJhbSkge1xyXG5cdFx0ZWwgPSAkKGVsKVswXTtcclxuXHRcdHZhciBub2RlLCBpLCBzdHIsXHJcblx0XHRcdHR5cGUgPSB0eXBlb2YgcGFyYW0sXHJcblx0XHRcdGNhcmV0ID0gJGtleWJvYXJkLmdldEVkaXRhYmxlQ2FyZXQoZWwpLnN0YXJ0LFxyXG5cdFx0XHRjaGFySW5kZXggPSAwLFxyXG5cdFx0XHRub2RlU3RhY2sgPSBbZWxdO1xyXG5cdFx0d2hpbGUgKChub2RlID0gbm9kZVN0YWNrLnBvcCgpKSkge1xyXG5cdFx0XHRpZiAoJGtleWJvYXJkLmlzVGV4dE5vZGUobm9kZSkpIHtcclxuXHRcdFx0XHRpZiAodHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0aWYgKGNhcmV0ID49IGNoYXJJbmRleCAmJiBjYXJldCA8PSBjaGFySW5kZXggKyBub2RlLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRub2RlLnRleHRDb250ZW50ID0gcGFyYW0obm9kZS50ZXh0Q29udGVudCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0Ly8gbWF5YmUgbm90IHRoZSBiZXN0IG1ldGhvZCwgYnV0IGl0IHdvcmtzIGZvciBzaW1wbGUgY2hhbmdlc1xyXG5cdFx0XHRcdFx0c3RyID0gcGFyYW0uc3Vic3RyaW5nKGNoYXJJbmRleCwgY2hhckluZGV4ICsgbm9kZS5sZW5ndGgpO1xyXG5cdFx0XHRcdFx0aWYgKHN0ciAhPT0gbm9kZS50ZXh0Q29udGVudCkge1xyXG5cdFx0XHRcdFx0XHRub2RlLnRleHRDb250ZW50ID0gc3RyO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjaGFySW5kZXggKz0gbm9kZS5sZW5ndGg7XHJcblx0XHRcdH0gZWxzZSBpZiAobm9kZSAmJiBub2RlLmNoaWxkTm9kZXMpIHtcclxuXHRcdFx0XHRpID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDtcclxuXHRcdFx0XHR3aGlsZSAoaS0tKSB7XHJcblx0XHRcdFx0XHRub2RlU3RhY2sucHVzaChub2RlLmNoaWxkTm9kZXNbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aSA9ICRrZXlib2FyZC5nZXRFZGl0YWJsZUNhcmV0KGVsKTtcclxuXHRcdCRrZXlib2FyZC5zZXRFZGl0YWJsZUNhcmV0KGVsLCBpLnN0YXJ0LCBpLnN0YXJ0KTtcclxuXHR9O1xyXG5cclxuXHQkLmZuLmtleWJvYXJkID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoISQodGhpcykuZGF0YSgna2V5Ym9hcmQnKSkge1xyXG5cdFx0XHRcdC8qanNoaW50IG5vbmV3OmZhbHNlICovXHJcblx0XHRcdFx0KG5ldyAkLmtleWJvYXJkKHRoaXMsIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0JC5mbi5nZXRrZXlib2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEoJ2tleWJvYXJkJyk7XHJcblx0fTtcclxuXHJcblx0LyogQ29weXJpZ2h0IChjKSAyMDEwIEMuIEYuLCBXb25nICg8YSBocmVmPVwiaHR0cDovL2Nsb3VkZ2VuLncwbmcuaGtcIj5DbG91ZGdlbiBFeGFtcGxldCBTdG9yZTwvYT4pXHJcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlOlxyXG5cdCAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0ICogSGlnaGx5IG1vZGlmaWVkIGZyb20gdGhlIG9yaWdpbmFsXHJcblx0ICovXHJcblxyXG5cdCQuZm4uY2FyZXQgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgbm9Gb2N1cykge1xyXG5cdFx0aWYgKFxyXG5cdFx0XHR0eXBlb2YgdGhpc1swXSA9PT0gJ3VuZGVmaW5lZCcgfHxcclxuXHRcdFx0dGhpcy5pcygnOmhpZGRlbicpIHx8XHJcblx0XHRcdHRoaXMuY3NzKCd2aXNpYmlsaXR5JykgPT09ICdoaWRkZW4nIHx8XHJcblx0XHRcdCEvKElOUFVUfFRFWFRBUkVBKS9pLnRlc3QodGhpc1swXS5ub2RlTmFtZSlcclxuXHRcdCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdHZhciBzZWxSYW5nZSwgcmFuZ2UsIHN0b3JlZF9yYW5nZSwgdHh0LCB2YWwsXHJcblx0XHRcdCRlbCA9IHRoaXMsXHJcblx0XHRcdGVsID0gJGVsWzBdLFxyXG5cdFx0XHRzZWxlY3Rpb24gPSBlbC5vd25lckRvY3VtZW50LnNlbGVjdGlvbixcclxuXHRcdFx0c1RvcCA9IGVsLnNjcm9sbFRvcCxcclxuXHRcdFx0c3MgPSBmYWxzZSxcclxuXHRcdFx0c3VwcG9ydENhcmV0ID0gdHJ1ZTtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHNzID0gJ3NlbGVjdGlvblN0YXJ0JyBpbiBlbDtcclxuXHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRzdXBwb3J0Q2FyZXQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGlmIChzdXBwb3J0Q2FyZXQgJiYgdHlwZW9mIHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRpZiAoIS8oZW1haWx8bnVtYmVyKS9pLnRlc3QoZWwudHlwZSkpIHtcclxuXHRcdFx0XHRpZiAoc3MpIHtcclxuXHRcdFx0XHRcdGVsLnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQ7XHJcblx0XHRcdFx0XHRlbC5zZWxlY3Rpb25FbmQgPSBlbmQ7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNlbFJhbmdlID0gZWwuY3JlYXRlVGV4dFJhbmdlKCk7XHJcblx0XHRcdFx0XHRzZWxSYW5nZS5jb2xsYXBzZSh0cnVlKTtcclxuXHRcdFx0XHRcdHNlbFJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc3RhcnQpO1xyXG5cdFx0XHRcdFx0c2VsUmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgZW5kIC0gc3RhcnQpO1xyXG5cdFx0XHRcdFx0c2VsUmFuZ2Uuc2VsZWN0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIG11c3QgYmUgdmlzaWJsZSBvciBJRTggY3Jhc2hlczsgSUU5IGluIGNvbXBhdGliaWxpdHkgbW9kZSB3b3JrcyBmaW5lIC0gaXNzdWUgIzU2XHJcblx0XHRcdGlmICghbm9Gb2N1cyAmJiAoJGVsLmlzKCc6dmlzaWJsZScpIHx8ICRlbC5jc3MoJ3Zpc2liaWxpdHknKSAhPT0gJ2hpZGRlbicpKSB7XHJcblx0XHRcdFx0ZWwuZm9jdXMoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbC5zY3JvbGxUb3AgPSBzVG9wO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdGlmICgvKGVtYWlsfG51bWJlcikvaS50ZXN0KGVsLnR5cGUpKSB7XHJcblx0XHRcdC8vIGZpeCBzdWdnZXN0ZWQgYnkgcmFkdWFuYXN0YXNlIChodHRwczovL2dpdGh1Yi5jb20vTW90dGllL0tleWJvYXJkL2lzc3Vlcy8xMDUjaXNzdWVjb21tZW50LTQwNDU2NTM1KVxyXG5cdFx0XHRzdGFydCA9IGVuZCA9ICRlbC52YWwoKS5sZW5ndGg7XHJcblx0XHR9IGVsc2UgaWYgKHNzKSB7XHJcblx0XHRcdHN0YXJ0ID0gZWwuc2VsZWN0aW9uU3RhcnQ7XHJcblx0XHRcdGVuZCA9IGVsLnNlbGVjdGlvbkVuZDtcclxuXHRcdH0gZWxzZSBpZiAoc2VsZWN0aW9uKSB7XHJcblx0XHRcdGlmIChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnVEVYVEFSRUEnKSB7XHJcblx0XHRcdFx0dmFsID0gJGVsLnZhbCgpO1xyXG5cdFx0XHRcdHJhbmdlID0gc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XHJcblx0XHRcdFx0c3RvcmVkX3JhbmdlID0gcmFuZ2UuZHVwbGljYXRlKCk7XHJcblx0XHRcdFx0c3RvcmVkX3JhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KGVsKTtcclxuXHRcdFx0XHRzdG9yZWRfcmFuZ2Uuc2V0RW5kUG9pbnQoJ0VuZFRvRW5kJywgcmFuZ2UpO1xyXG5cdFx0XHRcdC8vIHRoYW5rcyB0byB0aGUgYXdlc29tZSBjb21tZW50cyBpbiB0aGUgcmFuZ3kgcGx1Z2luXHJcblx0XHRcdFx0c3RhcnQgPSBzdG9yZWRfcmFuZ2UudGV4dC5yZXBsYWNlKC9cXHIvZywgJ1xcbicpLmxlbmd0aDtcclxuXHRcdFx0XHRlbmQgPSBzdGFydCArIHJhbmdlLnRleHQucmVwbGFjZSgvXFxyL2csICdcXG4nKS5sZW5ndGg7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFsID0gJGVsLnZhbCgpLnJlcGxhY2UoL1xcci9nLCAnXFxuJyk7XHJcblx0XHRcdFx0cmFuZ2UgPSBzZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS5kdXBsaWNhdGUoKTtcclxuXHRcdFx0XHRyYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCB2YWwubGVuZ3RoKTtcclxuXHRcdFx0XHRzdGFydCA9IChyYW5nZS50ZXh0ID09PSAnJyA/IHZhbC5sZW5ndGggOiB2YWwubGFzdEluZGV4T2YocmFuZ2UudGV4dCkpO1xyXG5cdFx0XHRcdHJhbmdlID0gc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZHVwbGljYXRlKCk7XHJcblx0XHRcdFx0cmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCAtdmFsLmxlbmd0aCk7XHJcblx0XHRcdFx0ZW5kID0gcmFuZ2UudGV4dC5sZW5ndGg7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGNhcmV0IHBvc2l0aW9uaW5nIG5vdCBzdXBwb3J0ZWRcclxuXHRcdFx0c3RhcnQgPSBlbmQgPSAoZWwudmFsdWUgfHwgJycpLmxlbmd0aDtcclxuXHRcdH1cclxuXHRcdHR4dCA9IChlbC52YWx1ZSB8fCAnJyk7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzdGFydDogc3RhcnQsXHJcblx0XHRcdGVuZDogZW5kLFxyXG5cdFx0XHR0ZXh0OiB0eHQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpLFxyXG5cdFx0XHRyZXBsYWNlOiBmdW5jdGlvbiAoc3RyKSB7XHJcblx0XHRcdFx0cmV0dXJuIHR4dC5zdWJzdHJpbmcoMCwgc3RhcnQpICsgc3RyICsgdHh0LnN1YnN0cmluZyhlbmQsIHR4dC5sZW5ndGgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHJldHVybiAka2V5Ym9hcmQ7XHJcblxyXG59KSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0galF1ZXJ5OyIsIi8qKlxyXG4gICAgICAgICAgICAgICBfIF9fX19fICAgICAgICAgICBfICAgICAgICAgIF8gICAgIF8gICAgICBcclxuICAgICAgICAgICAgICB8IHwgIF9fIFxcICAgICAgICAgKF8pICAgICAgICB8IHwgICB8IHwgICAgIFxyXG4gICAgICBfX18gX19fIHwgfCB8X18pIHxfX18gIF9fXyBfIF9fX19fXyBffCB8X18gfCB8IF9fXyBcclxuICAgICAvIF9fLyBfIFxcfCB8ICBfICAvLyBfIFxcLyBfX3wgfF8gIC8gX2AgfCAnXyBcXHwgfC8gXyBcXFxyXG4gICAgfCAoX3wgKF8pIHwgfCB8IFxcIFxcICBfXy9cXF9fIFxcIHwvIC8gKF98IHwgfF8pIHwgfCAgX18vXHJcbiAgICAgXFxfX19cXF9fXy98X3xffCAgXFxfXFxfX198fF9fXy9fL19fX1xcX18sX3xfLl9fL3xffFxcX19ffFxyXG5cdCBcclxuXHR2MS43IC0galF1ZXJ5IHBsdWdpbiBjcmVhdGVkIGJ5IEFsdmFybyBQcmlldG8gTGF1cm9iYVxyXG5cdFxyXG5cdExpY2VuY2VzOiBNSVQgJiBHUExcclxuXHRGZWVsIGZyZWUgdG8gdXNlIG9yIG1vZGlmeSB0aGlzIHBsdWdpbiBhcyBmYXIgYXMgbXkgZnVsbCBuYW1lIGlzIGtlcHRcdFxyXG4qL1xyXG5cclxuKGZ1bmN0aW9uKCQpeyBcdFxyXG5cdFxyXG5cdC8vSUU4IFBvbHlmaWxsXHJcblx0aWYoIUFycmF5LmluZGV4T2YpIHsgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihvYmopIHsgZm9yKHZhciBpPTA7IGk8dGhpcy5sZW5ndGg7aSsrKXtpZih0aGlzW2ldPT1vYmope3JldHVybiBpO319IHJldHVybiAtMTsgfX1cclxuXHRcclxuXHR2YXIgZCA9ICQoZG9jdW1lbnQpOyBcdFx0Ly93aW5kb3cgb2JqZWN0XHJcblx0dmFyIGggPSAkKFwiaGVhZFwiKTtcdFx0XHQvL2hlYWQgb2JqZWN0XHJcblx0dmFyIGRyYWcgPSBudWxsO1x0XHRcdC8vcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IGdyaXAgdGhhdCBpcyBiZWluZyBkcmFnZ2VkXHJcblx0dmFyIHRhYmxlcyA9IHt9O1x0XHRcdC8vb2JqZWN0IG9mIHRoZSBhbHJlYWR5IHByb2Nlc3NlZCB0YWJsZXMgKHRhYmxlLmlkIGFzIGtleSlcclxuXHR2YXJcdGNvdW50ID0gMDtcdFx0XHRcdC8vaW50ZXJuYWwgY291bnQgdG8gY3JlYXRlIHVuaXF1ZSBJRHMgd2hlbiBuZWVkZWQuXHRcclxuXHRcclxuXHQvL2NvbW1vbiBzdHJpbmdzIGZvciBwYWNraW5nXHJcblx0dmFyIElEID0gXCJpZFwiO1x0XHJcblx0dmFyIFBYID0gXCJweFwiO1xyXG5cdHZhciBTSUdOQVRVUkUgPVwiSkNvbFJlc2l6ZXJcIjtcclxuICAgIHZhciBGTEVYID0gXCJKQ0xSRmxleFwiO1xyXG5cdFxyXG5cdC8vc2hvcnQtY3V0c1xyXG5cdHZhciBJID0gcGFyc2VJbnQ7XHJcblx0dmFyIE0gPSBNYXRoO1xyXG5cdHZhciBpZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudC80LjAnKT4wO1xyXG5cdHZhciBTO1xyXG4gICAgdmFyIHBhZCA9IFwiXCJcclxuXHR0cnl7UyA9IHNlc3Npb25TdG9yYWdlO31jYXRjaChlKXt9XHQvL0ZpcmVmb3ggY3Jhc2hlcyB3aGVuIGV4ZWN1dGVkIGFzIGxvY2FsIGZpbGUgc3lzdGVtXHJcbiAgICBcclxuXHRcclxuXHQvL2FwcGVuZCByZXF1aXJlZCBDU1MgcnVsZXMgIFxyXG4gICAgaC5hcHBlbmQoXCI8c3R5bGUgdHlwZT0ndGV4dC9jc3MnPiAgLkpDb2xSZXNpemVye3RhYmxlLWxheW91dDpmaXhlZDt9IC5KQ29sUmVzaXplciA+IHRib2R5ID4gdHIgPiB0ZCwgLkpDb2xSZXNpemVyID4gdGJvZHkgPiB0ciA+IHRoe292ZXJmbG93OmhpZGRlbn0gIC5KUGFkZGluZyA+IHRib2R5ID4gdHIgPiB0ZCwgLkpQYWRkaW5nID4gdGJvZHkgPiB0ciA+IHRoe3BhZGRpbmctbGVmdDowIWltcG9ydGFudDsgcGFkZGluZy1yaWdodDowIWltcG9ydGFudDt9IC5KQ0xSZ3JpcHN7IGhlaWdodDowcHg7IHBvc2l0aW9uOnJlbGF0aXZlO30gLkpDTFJncmlwe21hcmdpbi1sZWZ0Oi01cHg7IHBvc2l0aW9uOmFic29sdXRlOyB6LWluZGV4OjU7IH0gLkpDTFJncmlwIC5KQ29sUmVzaXplcntwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOnJlZDtmaWx0ZXI6YWxwaGEob3BhY2l0eT0xKTtvcGFjaXR5OjA7d2lkdGg6MTBweDtoZWlnaHQ6MTAwJTtjdXJzb3I6IGNvbC1yZXNpemU7dG9wOjBweH0gLkpDTFJMYXN0R3JpcHtwb3NpdGlvbjphYnNvbHV0ZTsgd2lkdGg6MXB4OyB9IC5KQ0xSZ3JpcERyYWd7IGJvcmRlci1sZWZ0OjFweCBkb3R0ZWQgYmxhY2s7XHR9IC5KQ0xSRmxleHt3aWR0aDphdXRvIWltcG9ydGFudDt9IC5KQ0xSZ3JpcC5KQ0xSZGlzYWJsZWRHcmlwIC5KQ29sUmVzaXplcntjdXJzb3I6ZGVmYXVsdDsgZGlzcGxheTpub25lO308L3N0eWxlPlwiKTtcclxuXHJcblx0XHJcblx0LyoqXHJcblx0ICogRnVuY3Rpb24gdG8gYWxsb3cgY29sdW1uIHJlc2l6aW5nIGZvciB0YWJsZSBvYmplY3RzLiBJdCBpcyB0aGUgc3RhcnRpbmcgcG9pbnQgdG8gYXBwbHkgdGhlIHBsdWdpbi5cclxuXHQgKiBAcGFyYW0ge0RPTSBub2RlfSB0YiAtIHJlZmVyZW5jZSB0byB0aGUgRE9NIHRhYmxlIG9iamVjdCB0byBiZSBlbmhhbmNlZFxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHQtIHNvbWUgY3VzdG9taXphdGlvbiB2YWx1ZXNcclxuXHQgKi9cclxuXHR2YXIgaW5pdCA9IGZ1bmN0aW9uKCB0Yiwgb3B0aW9ucyl7XHRcclxuXHRcdHZhciB0ID0gJCh0Yik7XHRcdFx0XHQgICAgLy90aGUgdGFibGUgb2JqZWN0IGlzIHdyYXBwZWRcclxuICAgICAgICB0Lm9wdCA9IG9wdGlvbnM7ICAgICAgICAgICAgICAgIC8vZWFjaCB0YWJsZSBoYXMgaXRzIG93biBvcHRpb25zIGF2YWlsYWJsZSBhdCBhbnl0aW1lXHJcbiAgICAgICAgdC5tb2RlID0gb3B0aW9ucy5yZXNpemVNb2RlOyAgICAvL3Nob3J0Y3V0c1xyXG4gICAgICAgIHQuZGMgPSB0Lm9wdC5kaXNhYmxlZENvbHVtbnM7XHJcbiAgICAgICAgaWYodC5vcHQucmVtb3ZlUGFkZGluZykgdC5hZGRDbGFzcyhcIkpQYWRkaW5nXCIpO1xyXG5cdFx0aWYodC5vcHQuZGlzYWJsZSkgcmV0dXJuIGRlc3Ryb3kodCk7XHRcdFx0XHQvL3RoZSB1c2VyIGlzIGFza2luZyB0byBkZXN0cm95IGEgcHJldmlvdXNseSBjb2xSZXNpemVkIHRhYmxlXHJcblx0XHR2YXJcdGlkID0gdC5pZCA9IHQuYXR0cihJRCkgfHwgU0lHTkFUVVJFK2NvdW50Kys7XHQvL2l0cyBpZCBpcyBvYnRhaW5lZCwgaWYgbnVsbCBuZXcgb25lIGlzIGdlbmVyYXRlZFx0XHRcclxuXHRcdHQucCA9IHQub3B0LnBvc3RiYWNrU2FmZTsgXHRcdFx0XHRcdFx0XHQvL3Nob3J0LWN1dCB0byBkZXRlY3QgcG9zdGJhY2sgc2FmZSBcdFx0XHJcblx0XHRpZighdC5pcyhcInRhYmxlXCIpIHx8IHRhYmxlc1tpZF0gJiYgIXQub3B0LnBhcnRpYWxSZWZyZXNoKSByZXR1cm47IFx0XHQvL2lmIHRoZSBvYmplY3QgaXMgbm90IGEgdGFibGUgb3IgaWYgaXQgd2FzIGFscmVhZHkgcHJvY2Vzc2VkIHRoZW4gaXQgaXMgaWdub3JlZC5cclxuXHRcdGlmICh0Lm9wdC5ob3ZlckN1cnNvciAhPT0gJ2NvbC1yZXNpemUnKSBoLmFwcGVuZChcIjxzdHlsZSB0eXBlPSd0ZXh0L2Nzcyc+LkpDTFJncmlwIC5KQ29sUmVzaXplcjpob3ZlcntjdXJzb3I6XCIrIHQub3B0LmhvdmVyQ3Vyc29yICtcIiFpbXBvcnRhbnR9PC9zdHlsZT5cIik7ICAvL2lmIGhvdmVyQ3Vyc29yIGhhcyBiZWVuIHNldCwgYXBwZW5kIHRoZSBzdHlsZVxyXG4gICAgICAgIHQuYWRkQ2xhc3MoU0lHTkFUVVJFKS5hdHRyKElELCBpZCkuYmVmb3JlKCc8ZGl2IGNsYXNzPVwiSkNMUmdyaXBzXCIvPicpO1x0Ly90aGUgZ3JpcHMgY29udGFpbmVyIG9iamVjdCBpcyBhZGRlZC4gU2lnbmF0dXJlIGNsYXNzIGZvcmNlcyB0YWJsZSByZW5kZXJpbmcgaW4gZml4ZWQtbGF5b3V0IG1vZGUgdG8gcHJldmVudCBjb2x1bW4ncyBtaW4td2lkdGhcclxuXHRcdHQuZyA9IFtdOyB0LmMgPSBbXTsgdC53ID0gdC53aWR0aCgpOyB0LmdjID0gdC5wcmV2KCk7IHQuZj10Lm9wdC5maXhlZDtcdC8vdC5jIGFuZCB0LmcgYXJlIGFycmF5cyBvZiBjb2x1bW5zIGFuZCBncmlwcyByZXNwZWN0aXZlbHlcdFx0XHRcdFxyXG5cdFx0aWYob3B0aW9ucy5tYXJnaW5MZWZ0KSB0LmdjLmNzcyhcIm1hcmdpbkxlZnRcIiwgb3B0aW9ucy5tYXJnaW5MZWZ0KTsgIFx0Ly9pZiB0aGUgdGFibGUgY29udGFpbnMgbWFyZ2lucywgaXQgbXVzdCBiZSBzcGVjaWZpZWRcclxuXHRcdGlmKG9wdGlvbnMubWFyZ2luUmlnaHQpIHQuZ2MuY3NzKFwibWFyZ2luUmlnaHRcIiwgb3B0aW9ucy5tYXJnaW5SaWdodCk7ICBcdC8vc2luY2UgdGhlcmUgaXMgbm8gKGRpcmVjdCkgd2F5IHRvIG9idGFpbiBtYXJnaW4gdmFsdWVzIGluIGl0cyBvcmlnaW5hbCB1bml0cyAoJSwgZW0sIC4uLilcclxuXHRcdHQuY3MgPSBJKGllPyB0Yi5jZWxsU3BhY2luZyB8fCB0Yi5jdXJyZW50U3R5bGUuYm9yZGVyU3BhY2luZyA6dC5jc3MoJ2JvcmRlci1zcGFjaW5nJykpfHwyO1x0Ly90YWJsZSBjZWxsc3BhY2luZyAobm90IGV2ZW4galF1ZXJ5IGlzIGZ1bGx5IGNyb3NzLWJyb3dzZXIpXHJcblx0XHR0LmIgID0gSShpZT8gdGIuYm9yZGVyIHx8IHRiLmN1cnJlbnRTdHlsZS5ib3JkZXJMZWZ0V2lkdGggOnQuY3NzKCdib3JkZXItbGVmdC13aWR0aCcpKXx8MTtcdC8vb3V0ZXIgYm9yZGVyIHdpZHRoIChhZ2FpbiBjcm9zcy1icm93c2VyIGlzc3VlcylcclxuXHRcdC8vIGlmKCEodGIuc3R5bGUud2lkdGggfHwgdGIud2lkdGgpKSB0LndpZHRoKHQud2lkdGgoKSk7IC8vSSBhbSBub3QgYW4gSUUgZmFuIGF0IGFsbCwgYnV0IGl0IGlzIGEgcGl0eSB0aGF0IG9ubHkgSUUgaGFzIHRoZSBjdXJyZW50U3R5bGUgYXR0cmlidXRlIHdvcmtpbmcgYXMgZXhwZWN0ZWQuIEZvciB0aGlzIHJlYXNvbiBJIGNhbiBub3QgY2hlY2sgZWFzaWx5IGlmIHRoZSB0YWJsZSBoYXMgYW4gZXhwbGljaXQgd2lkdGggb3IgaWYgaXQgaXMgcmVuZGVyZWQgYXMgXCJhdXRvXCJcclxuXHRcdHRhYmxlc1tpZF0gPSB0OyBcdC8vdGhlIHRhYmxlIG9iamVjdCBpcyBzdG9yZWQgdXNpbmcgaXRzIGlkIGFzIGtleVx0XHJcblx0XHRjcmVhdGVHcmlwcyh0KTtcdFx0Ly9ncmlwcyBhcmUgY3JlYXRlZCBcclxuXHRcclxuXHR9O1xyXG5cclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgdG8gcmVtb3ZlIGFueSBlbmhhbmNlbWVudHMgcGVyZm9ybWVkIGJ5IHRoaXMgcGx1Z2luIG9uIGEgcHJldmlvdXNseSBwcm9jZXNzZWQgdGFibGUuXHJcblx0ICogQHBhcmFtIHtqUXVlcnkgcmVmfSB0IC0gdGFibGUgb2JqZWN0XHJcblx0ICovXHJcblx0dmFyIGRlc3Ryb3kgPSBmdW5jdGlvbih0KXtcclxuXHRcdHZhciBpZD10LmF0dHIoSUQpLCB0PXRhYmxlc1tpZF07XHRcdC8vaXRzIHRhYmxlIG9iamVjdCBpcyBmb3VuZFxyXG5cdFx0aWYoIXR8fCF0LmlzKFwidGFibGVcIikpIHJldHVybjtcdFx0XHQvL2lmIG5vbmUsIHRoZW4gaXQgd2Fzbid0IHByb2Nlc3NlZFx0IFxyXG5cdFx0dC5yZW1vdmVDbGFzcyhTSUdOQVRVUkUrXCIgXCIrRkxFWCkuZ2MucmVtb3ZlKCk7XHQvL2NsYXNzIGFuZCBncmlwcyBhcmUgcmVtb3ZlZFxyXG5cdFx0ZGVsZXRlIHRhYmxlc1tpZF07XHRcdFx0XHRcdFx0Ly9jbGVhbiB1cCBkYXRhXHJcblx0fTtcclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhbGwgdGhlIGdyaXBzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGFibGUgZ2l2ZW4gYnkgcGFyYW1ldGVycyBcclxuXHQgKiBAcGFyYW0ge2pRdWVyeSByZWZ9IHQgLSB0YWJsZSBvYmplY3RcclxuXHQgKi9cclxuXHR2YXIgY3JlYXRlR3JpcHMgPSBmdW5jdGlvbih0KXtcdFxyXG5cdFxyXG4gICAgICAgIHZhciB0aCA9IHQuZmluZChcIj50aGVhZD50cjpmaXJzdD50aCw+dGhlYWQ+dHI6Zmlyc3Q+dGRcIik7IC8vdGFibGUgaGVhZGVycyBhcmUgb2J0YWluZWRcclxuXHRcdGlmKCF0aC5sZW5ndGgpIHRoID0gdC5maW5kKFwiPnRib2R5PnRyOmZpcnN0PnRoLD50cjpmaXJzdD50aCw+dGJvZHk+dHI6Zmlyc3Q+dGQsID50cjpmaXJzdD50ZFwiKTtcdCAvL2J1dCBoZWFkZXJzIGNhbiBhbHNvIGJlIGluY2x1ZGVkIGluIGRpZmZlcmVudCB3YXlzXHJcblx0XHR0aCA9IHRoLmZpbHRlcihcIjp2aXNpYmxlXCIpO1x0XHRcdFx0XHQvL2ZpbHRlciBpbnZpc2libGUgY29sdW1uc1xyXG5cdFx0dC5jZyA9IHQuZmluZChcImNvbFwiKTsgXHRcdFx0XHRcdFx0Ly9hIHRhYmxlIGNhbiBhbHNvIGNvbnRhaW4gYSBjb2xncm91cCB3aXRoIGNvbCBlbGVtZW50c1x0XHRcclxuXHRcdHQubG4gPSB0aC5sZW5ndGg7XHRcdFx0XHRcdFx0XHQvL3RhYmxlIGxlbmd0aCBpcyBzdG9yZWRcdFxyXG5cdFx0aWYodC5wICYmIFMgJiYgU1t0LmlkXSltZW1lbnRvKHQsdGgpO1x0XHQvL2lmICdwb3N0YmFja1NhZmUnIGlzIGVuYWJsZWQgYW5kIHRoZXJlIGlzIGRhdGEgZm9yIHRoZSBjdXJyZW50IHRhYmxlLCBpdHMgY29sb3VtbiBsYXlvdXQgaXMgcmVzdG9yZWRcclxuXHRcdHRoLmVhY2goZnVuY3Rpb24oaSl7XHRcdFx0XHRcdFx0Ly9pdGVyYXRlIHRocm91Z2ggdGhlIHRhYmxlIGNvbHVtbiBoZWFkZXJzXHRcdFx0XHJcblx0XHRcdHZhciBjID0gJCh0aGlzKTsgXHRcdFx0XHRcdFx0Ly9qcXVlcnkgd3JhcCBmb3IgdGhlIGN1cnJlbnQgY29sdW1uXHRcdFxyXG4gICAgICAgICAgICB2YXIgZGMgPSB0LmRjLmluZGV4T2YoaSkhPS0xOyAgICAgICAgICAgLy9pcyB0aGlzIGEgZGlzYWJsZWQgY29sdW1uP1xyXG5cdFx0XHR2YXIgZyA9ICQodC5nYy5hcHBlbmQoJzxkaXYgY2xhc3M9XCJKQ0xSZ3JpcFwiPjwvZGl2PicpWzBdLmxhc3RDaGlsZCk7IC8vYWRkIHRoZSB2aXN1YWwgbm9kZSB0byBiZSB1c2VkIGFzIGdyaXBcclxuICAgICAgICAgICAgZy5hcHBlbmQoZGMgPyBcIlwiOiB0Lm9wdC5ncmlwSW5uZXJIdG1sKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCInK1NJR05BVFVSRSsnXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIGlmKGkgPT0gdC5sbi0xKXsgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZSBjdXJyZW50IGdyaXAgaXMgdGhlIGxhcyBvbmUgXHJcbiAgICAgICAgICAgICAgICBnLmFkZENsYXNzKFwiSkNMUkxhc3RHcmlwXCIpOyAgICAgICAgIC8vYWRkIGEgZGlmZmVyZW50IGNzcyBjbGFzcyB0byBzdGx5ZSBpdCBpbiBhIGRpZmZlcmVudCB3YXkgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICBpZih0LmYpIGcuaHRtbChcIlwiKTsgICAgICAgICAgICAgICAgIC8vaWYgdGhlIHRhYmxlIHJlc2l6aW5nIG1vZGUgaXMgc2V0IHRvIGZpeGVkLCB0aGUgbGFzdCBncmlwIGlzIHJlbW92ZWQgc2luY2UgdGFibGUgd2l0aCBjYW4gbm90IGNoYW5nZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGcuYmluZCgndG91Y2hzdGFydCBtb3VzZWRvd24nLCBvbkdyaXBNb3VzZURvd24pOyAvL2JpbmQgdGhlIG1vdXNlZG93biBldmVudCB0byBzdGFydCBkcmFnZ2luZyBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICghZGMpeyBcclxuICAgICAgICAgICAgICAgIC8vaWYgbm9ybWFsIGNvbHVtbiBiaW5kIHRoZSBtb3VzZWRvd24gZXZlbnQgdG8gc3RhcnQgZHJhZ2dpbmcsIGlmIGRpc2FibGVkIHRoZW4gYXBwbHkgaXRzIGNzcyBjbGFzc1xyXG4gICAgICAgICAgICAgICAgZy5yZW1vdmVDbGFzcygnSkNMUmRpc2FibGVkR3JpcCcpLmJpbmQoJ3RvdWNoc3RhcnQgbW91c2Vkb3duJywgb25HcmlwTW91c2VEb3duKTsgICAgICBcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBnLmFkZENsYXNzKCdKQ0xSZGlzYWJsZWRHcmlwJyk7IFxyXG4gICAgICAgICAgICB9XHJcblxyXG5cdFx0XHRnLnQgPSB0OyBnLmkgPSBpOyBnLmMgPSBjO1x0Yy53ID1jLndpZHRoKCk7XHRcdC8vc29tZSB2YWx1ZXMgYXJlIHN0b3JlZCBpbiB0aGUgZ3JpcCdzIG5vZGUgZGF0YSBhcyBzaG9ydGN1dFxyXG5cdFx0XHR0LmcucHVzaChnKTsgdC5jLnB1c2goYyk7XHRcdFx0XHRcdFx0Ly90aGUgY3VycmVudCBncmlwIGFuZCBjb2x1bW4gYXJlIGFkZGVkIHRvIGl0cyB0YWJsZSBvYmplY3RcclxuXHRcdFx0Yy53aWR0aChjLncpLnJlbW92ZUF0dHIoXCJ3aWR0aFwiKTtcdFx0XHRcdC8vdGhlIHdpZHRoIG9mIHRoZSBjb2x1bW4gaXMgY29udmVydGVkIGludG8gcGl4ZWwtYmFzZWQgbWVhc3VyZW1lbnRzXHJcblx0XHRcdGcuZGF0YShTSUdOQVRVUkUsIHtpOmksIHQ6dC5hdHRyKElEKSwgbGFzdDogaSA9PSB0LmxuLTF9KTtcdCAvL2dyaXAgaW5kZXggYW5kIGl0cyB0YWJsZSBuYW1lIGFyZSBzdG9yZWQgaW4gdGhlIEhUTUwgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHR9KTsgXHRcclxuXHRcdHQuY2cucmVtb3ZlQXR0cihcIndpZHRoXCIpO1x0Ly9yZW1vdmUgdGhlIHdpZHRoIGF0dHJpYnV0ZSBmcm9tIGVsZW1lbnRzIGluIHRoZSBjb2xncm91cCBcclxuXHJcblx0XHR0LmZpbmQoJ3RkLCB0aCcpLm5vdCh0aCkubm90KCd0YWJsZSB0aCwgdGFibGUgdGQnKS5lYWNoKGZ1bmN0aW9uKCl7ICBcclxuXHRcdFx0JCh0aGlzKS5yZW1vdmVBdHRyKCd3aWR0aCcpO1x0Ly90aGUgd2lkdGggYXR0cmlidXRlIGlzIHJlbW92ZWQgZnJvbSBhbGwgdGFibGUgY2VsbHMgd2hpY2ggYXJlIG5vdCBuZXN0ZWQgaW4gb3RoZXIgdGFibGVzIGFuZCBkb250IGJlbG9uZyB0byB0aGUgaGVhZGVyXHJcblx0XHR9KTtcdFx0XHJcbiAgICAgICAgaWYoIXQuZil7XHJcbiAgICAgICAgICAgIHQucmVtb3ZlQXR0cignd2lkdGgnKS5hZGRDbGFzcyhGTEVYKTsgLy9pZiBub3QgZml4ZWQsIGxldCB0aGUgdGFibGUgZ3JvdyBhcyBuZWVkZWRcclxuICAgICAgICB9XHJcbiAgICAgICAgc3luY0dyaXBzKHQpOyBcdFx0XHRcdC8vdGhlIGdyaXBzIGFyZSBwb3NpdGlvbmVkIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB0YWJsZSBsYXlvdXRcdFx0XHRcclxuICAgICAgICAvL3RoZXJlIGlzIGEgc21hbGwgcHJvYmxlbSwgc29tZSBjZWxscyBpbiB0aGUgdGFibGUgY291bGQgY29udGFpbiBkaW1lbnNpb24gdmFsdWVzIGludGVyZmVyaW5nIHdpdGggdGhlIFxyXG4gICAgICAgIC8vd2lkdGggdmFsdWUgc2V0IGJ5IHRoaXMgcGx1Z2luLiBUaG9zZSB2YWx1ZXMgYXJlIHJlbW92ZWRcclxuXHRcdFxyXG5cdH07XHJcblx0XHJcbiAgICBcclxuXHQvKipcclxuXHQgKiBGdW5jdGlvbiB0byBhbGxvdyB0aGUgcGVyc2lzdGVuY2Ugb2YgY29sdW1ucyBkaW1lbnNpb25zIGFmdGVyIGEgYnJvd3NlciBwb3N0YmFjay4gSXQgaXMgYmFzZWQgaW5cclxuXHQgKiB0aGUgSFRNTDUgc2Vzc2lvblN0b3JhZ2Ugb2JqZWN0LCB3aGljaCBjYW4gYmUgZW11bGF0ZWQgZm9yIG9sZGVyIGJyb3dzZXJzIHVzaW5nIHNlc3Npb25zdG9yYWdlLmpzXHJcblx0ICogQHBhcmFtIHtqUXVlcnkgcmVmfSB0IC0gdGFibGUgb2JqZWN0XHJcblx0ICogQHBhcmFtIHtqUXVlcnkgcmVmfSB0aCAtIHJlZmVyZW5jZSB0byB0aGUgZmlyc3Qgcm93IGVsZW1lbnRzIChvbmx5IHNldCBpbiBkZXNlcmlhbGl6YXRpb24pXHJcblx0ICovXHJcblx0dmFyIG1lbWVudG8gPSBmdW5jdGlvbih0LCB0aCl7IFxyXG5cdFx0dmFyIHcsbT0wLGk9MCxhdXggPVtdLHR3O1xyXG5cdFx0aWYodGgpe1x0XHRcdFx0XHRcdFx0XHRcdFx0Ly9pbiBkZXNlcmlhbGl6YXRpb24gbW9kZSAoYWZ0ZXIgYSBwb3N0YmFjaylcclxuXHRcdFx0dC5jZy5yZW1vdmVBdHRyKFwid2lkdGhcIik7XHJcblx0XHRcdGlmKHQub3B0LmZsdXNoKXsgU1t0LmlkXSA9XCJcIjsgcmV0dXJuO30gXHQvL2lmIGZsdXNoIGlzIGFjdGl2YXRlZCwgc3RvcmVkIGRhdGEgaXMgcmVtb3ZlZFxyXG5cdFx0XHR3ID0gU1t0LmlkXS5zcGxpdChcIjtcIik7XHRcdFx0XHRcdC8vY29sdW1uIHdpZHRocyBpcyBvYnRhaW5lZFxyXG5cdFx0XHR0dyA9IHdbdC5sbisxXTtcclxuICAgICAgICAgICAgaWYoIXQuZiAmJiB0dyl7XHRcdFx0XHRcdFx0XHQvL2lmIG5vdCBmaXhlZCBhbmQgdGFibGUgd2lkdGggZGF0YSBhdmFpbGFibGUgaXRzIHNpemUgaXMgcmVzdG9yZWRcclxuICAgICAgICAgICAgICAgIHQud2lkdGgodHcqPTEpO1xyXG4gICAgICAgICAgICAgICAgaWYodC5vcHQub3ZlcmZsb3cpIHtcdFx0XHRcdC8vaWYgb3ZlcmZvbHcgZmxhZyBpcyBzZXQsIHJlc3RvcmUgdGFibGUgd2lkdGggYWxzbyBhcyB0YWJsZSBtaW4td2lkdGhcclxuICAgICAgICAgICAgICAgICAgICB0LmNzcygnbWluLXdpZHRoJywgdHcgKyBQWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdC53ID0gdHc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHRcdFx0Zm9yKDtpPHQubG47aSsrKXtcdFx0XHRcdFx0XHQvL2ZvciBlYWNoIGNvbHVtblxyXG5cdFx0XHRcdGF1eC5wdXNoKDEwMCp3W2ldL3dbdC5sbl0rXCIlXCIpOyBcdC8vd2lkdGggaXMgc3RvcmVkIGluIGFuIGFycmF5IHNpbmNlIGl0IHdpbGwgYmUgcmVxdWlyZWQgYWdhaW4gYSBjb3VwbGUgb2YgbGluZXMgYWhlYWRcclxuXHRcdFx0XHR0aC5lcShpKS5jc3MoXCJ3aWR0aFwiLCBhdXhbaV0gKTsgXHQvL2VhY2ggY29sdW1uIHdpZHRoIGluICUgaXMgcmVzdG9yZWRcclxuXHRcdFx0fVx0XHRcdFxyXG5cdFx0XHRmb3IoaT0wO2k8dC5sbjtpKyspXHJcblx0XHRcdFx0dC5jZy5lcShpKS5jc3MoXCJ3aWR0aFwiLCBhdXhbaV0pO1x0Ly90aGlzIGNvZGUgaXMgcmVxdWlyZWQgaW4gb3JkZXIgdG8gY3JlYXRlIGFuIGlubGluZSBDU1MgcnVsZSB3aXRoIGhpZ2hlciBwcmVjZWRlbmNlIHRoYW4gYW4gZXhpc3RpbmcgQ1NTIGNsYXNzIGluIHRoZSBcImNvbFwiIGVsZW1lbnRzXHJcblx0XHR9ZWxzZXtcdFx0XHRcdFx0XHRcdC8vaW4gc2VyaWFsaXphdGlvbiBtb2RlIChhZnRlciByZXNpemluZyBhIGNvbHVtbilcclxuXHRcdFx0U1t0LmlkXSA9XCJcIjtcdFx0XHRcdC8vY2xlYW4gdXAgcHJldmlvdXMgZGF0YVxyXG5cdFx0XHRmb3IoO2kgPCB0LmMubGVuZ3RoOyBpKyspe1x0Ly9pdGVyYXRlIHRocm91Z2ggY29sdW1uc1xyXG5cdFx0XHRcdHcgPSB0LmNbaV0ud2lkdGgoKTtcdFx0Ly93aWR0aCBpcyBvYnRhaW5lZFxyXG5cdFx0XHRcdFNbdC5pZF0gKz0gdytcIjtcIjtcdFx0Ly93aWR0aCBpcyBhcHBlbmRlZCB0byB0aGUgc2Vzc2lvblN0b3JhZ2Ugb2JqZWN0IHVzaW5nIElEIGFzIGtleVxyXG5cdFx0XHRcdG0rPXc7XHRcdFx0XHRcdC8vY2FycmlhZ2UgaXMgdXBkYXRlZCB0byBvYnRhaW4gdGhlIGZ1bGwgc2l6ZSB1c2VkIGJ5IGNvbHVtbnNcclxuXHRcdFx0fVxyXG5cdFx0XHRTW3QuaWRdKz1tO1x0XHRcdFx0XHRcdFx0Ly90aGUgbGFzdCBpdGVtIG9mIHRoZSBzZXJpYWxpemVkIHN0cmluZyBpcyB0aGUgdGFibGUncyBhY3RpdmUgYXJlYSAod2lkdGgpLCBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly90byBiZSBhYmxlIHRvIG9idGFpbiAlIHdpZHRoIHZhbHVlIG9mIGVhY2ggY29sdW1ucyB3aGlsZSBkZXNlcmlhbGl6aW5nXHJcblx0XHRcdGlmKCF0LmYpIFNbdC5pZF0gKz0gXCI7XCIrdC53aWR0aCgpOyBcdC8vaWYgbm90IGZpeGVkLCB0YWJsZSB3aWR0aCBpcyBzdG9yZWRcclxuXHRcdH1cdFxyXG5cdH07XHJcblx0XHJcblx0XHJcblx0LyoqXHJcblx0ICogRnVuY3Rpb24gdGhhdCBwbGFjZXMgZWFjaCBncmlwIGluIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB0YWJsZSBsYXlvdXRcdCBcclxuXHQgKiBAcGFyYW0ge2pRdWVyeSByZWZ9IHQgLSB0YWJsZSBvYmplY3RcclxuXHQgKi9cclxuXHR2YXIgc3luY0dyaXBzID0gZnVuY3Rpb24gKHQpe1x0XHJcblx0XHR0LmdjLndpZHRoKHQudyk7XHRcdFx0Ly90aGUgZ3JpcCdzIGNvbnRhaW5lciB3aWR0aCBpcyB1cGRhdGVkXHRcdFx0XHRcclxuXHRcdGZvcih2YXIgaT0wOyBpPHQubG47IGkrKyl7XHQvL2ZvciBlYWNoIGNvbHVtblxyXG5cdFx0XHR2YXIgYyA9IHQuY1tpXTsgXHRcdFx0XHJcblx0XHRcdHQuZ1tpXS5jc3Moe1x0XHRcdC8vaGVpZ2h0IGFuZCBwb3NpdGlvbiBvZiB0aGUgZ3JpcCBpcyB1cGRhdGVkIGFjY29yZGluZyB0byB0aGUgdGFibGUgbGF5b3V0XHJcblx0XHRcdFx0bGVmdDogYy5vZmZzZXQoKS5sZWZ0IC0gdC5vZmZzZXQoKS5sZWZ0ICsgYy5vdXRlcldpZHRoKGZhbHNlKSArIHQuY3MgLyAyICsgUFgsXHJcblx0XHRcdFx0aGVpZ2h0OiB0Lm9wdC5oZWFkZXJPbmx5PyB0LmNbMF0ub3V0ZXJIZWlnaHQoZmFsc2UpIDogdC5vdXRlckhlaWdodChmYWxzZSlcdFx0XHRcdFxyXG5cdFx0XHR9KTtcdFx0XHRcclxuXHRcdH0gXHRcclxuXHR9O1xyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdC8qKlxyXG5cdCogVGhpcyBmdW5jdGlvbiB1cGRhdGVzIGNvbHVtbidzIHdpZHRoIGFjY29yZGluZyB0byB0aGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBpbmNyZW1lbnQgb2YgdGhlIGdyaXAgYmVpbmdcclxuXHQqIGRyYWdnZWQuIFRoZSBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIHdoaWxlIGRyYWdnaW5nIGlmIGxpdmVEcmFnZ2luZyBpcyBlbmFibGVkIGFuZCBhbHNvIGZyb20gdGhlIG9uR3JpcERyYWdPdmVyXHJcblx0KiBldmVudCBoYW5kbGVyIHRvIHN5bmNocm9uaXplIGdyaXAncyBwb3NpdGlvbiB3aXRoIHRoZWlyIHJlbGF0ZWQgY29sdW1ucy5cclxuXHQqIEBwYXJhbSB7alF1ZXJ5IHJlZn0gdCAtIHRhYmxlIG9iamVjdFxyXG5cdCogQHBhcmFtIHtudW1iZXJ9IGkgLSBpbmRleCBvZiB0aGUgZ3JpcCBiZWluZyBkcmFnZ2VkXHJcblx0KiBAcGFyYW0ge2Jvb2x9IGlzT3ZlciAtIHRvIGlkZW50aWZ5IHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIGNhbGxlZCBmcm9tIHRoZSBvbkdyaXBEcmFnT3ZlciBldmVudFx0XHJcblx0Ki9cclxuXHR2YXIgc3luY0NvbHMgPSBmdW5jdGlvbih0LGksaXNPdmVyKXtcclxuXHRcdHZhciBpbmMgPSBkcmFnLngtZHJhZy5sLCBjID0gdC5jW2ldLCBjMiA9IHQuY1tpKzFdOyBcdFx0XHRcclxuXHRcdHZhciB3ID0gYy53ICsgaW5jO1x0dmFyIHcyPSBjMi53LSBpbmM7XHQvL3RoZWlyIG5ldyB3aWR0aCBpcyBvYnRhaW5lZFx0XHRcdFx0XHRcclxuXHRcdGMud2lkdGgoIHcgKyBQWCk7XHRcdFx0XHJcblx0XHR0LmNnLmVxKGkpLndpZHRoKCB3ICsgUFgpOyBcclxuICAgICAgICBpZih0LmYpeyAvL2lmIGZpeGVkIG1vZGVcclxuICAgICAgICAgICAgYzIud2lkdGgodzIgKyBQWCk7XHJcbiAgICAgICAgICAgIHQuY2cuZXEoaSsxKS53aWR0aCggdzIgKyBQWCk7XHJcbiAgICAgICAgfWVsc2UgaWYodC5vcHQub3ZlcmZsb3cpIHtcdFx0XHRcdC8vaWYgb3ZlcmZsb3cgaXMgc2V0LCBpbmNyaW1lbnQgbWluLXdpZHRoIHRvIGZvcmNlIG92ZXJmbG93XHJcbiAgICAgICAgICAgIHQuY3NzKCdtaW4td2lkdGgnLCB0LncgKyBpbmMpO1xyXG4gICAgICAgIH1cclxuXHRcdGlmKGlzT3Zlcil7XHJcbiAgICAgICAgICAgIGMudz13OyBcclxuICAgICAgICAgICAgYzIudz0gdC5mID8gdzIgOiBjMi53O1xyXG4gICAgICAgIH1cclxuXHR9O1xyXG5cclxuXHRcclxuXHQvKipcclxuXHQqIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyBhbGwgY29sdW1ucyB3aWR0aCBhY2NvcmRpbmcgdG8gaXRzIHJlYWwgd2lkdGguIEl0IG11c3QgYmUgdGFrZW4gaW50byBhY2NvdW50IHRoYXQgdGhlIFxyXG5cdCogc3VtIG9mIGFsbCBjb2x1bW5zIGNhbiBleGNlZWQgdGhlIHRhYmxlIHdpZHRoIGluIHNvbWUgY2FzZXMgKGlmIGZpeGVkIGlzIHNldCB0byBmYWxzZSBhbmQgdGFibGUgaGFzIHNvbWUga2luZCBcclxuXHQqIG9mIG1heC13aWR0aCkuXHJcblx0KiBAcGFyYW0ge2pRdWVyeSByZWZ9IHQgLSB0YWJsZSBvYmplY3RcdFxyXG5cdCovXHJcblx0dmFyIGFwcGx5Qm91bmRzID0gZnVuY3Rpb24odCl7XHJcbiAgICAgICAgdmFyIHcgPSAkLm1hcCh0LmMsIGZ1bmN0aW9uKGMpe1x0XHRcdC8vb2J0YWluIHJlYWwgd2lkdGhzXHJcbiAgICAgICAgICAgIHJldHVybiBjLndpZHRoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdC53aWR0aCh0LncgPSB0LndpZHRoKCkpLnJlbW92ZUNsYXNzKEZMRVgpO1x0Ly9wcmV2ZW50IHRhYmxlIHdpZHRoIGNoYW5nZXNcclxuICAgICAgICAkLmVhY2godC5jLCBmdW5jdGlvbihpLGMpe1xyXG4gICAgICAgICAgICBjLndpZHRoKHdbaV0pLncgPSB3W2ldO1x0XHRcdFx0Ly9zZXQgY29sdW1uIHdpZHRocyBhcHBseWluZyBib3VuZHMgKHRhYmxlJ3MgbWF4LXdpZHRoKVxyXG4gICAgICAgIH0pO1xyXG5cdFx0dC5hZGRDbGFzcyhGTEVYKTtcdFx0XHRcdFx0XHQvL2FsbG93IHRhYmxlIHdpZHRoIGNoYW5nZXNcclxuXHR9O1xyXG5cdFxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEV2ZW50IGhhbmRsZXIgdXNlZCB3aGlsZSBkcmFnZ2luZyBhIGdyaXAuIEl0IGNoZWNrcyBpZiB0aGUgbmV4dCBncmlwJ3MgcG9zaXRpb24gaXMgdmFsaWQgYW5kIHVwZGF0ZXMgaXQuIFxyXG5cdCAqIEBwYXJhbSB7ZXZlbnR9IGUgLSBtb3VzZW1vdmUgZXZlbnQgYmluZGVkIHRvIHRoZSB3aW5kb3cgb2JqZWN0XHJcblx0ICovXHJcblx0dmFyIG9uR3JpcERyYWcgPSBmdW5jdGlvbihlKXtcdFxyXG5cdFx0aWYoIWRyYWcpIHJldHVybjsgXHJcbiAgICAgICAgdmFyIHQgPSBkcmFnLnQ7XHRcdC8vdGFibGUgb2JqZWN0IHJlZmVyZW5jZSBcclxuICAgICAgICB2YXIgb2UgPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlcztcclxuICAgICAgICB2YXIgb3ggPSBvZSA/IG9lWzBdLnBhZ2VYIDogZS5wYWdlWDsgICAgLy9vcmlnaW5hbCBwb3NpdGlvbiAodG91Y2ggb3IgbW91c2UpXHJcbiAgICAgICAgdmFyIHggPSAgb3ggLSBkcmFnLm94ICsgZHJhZy5sO1x0ICAgICAgICAvL25leHQgcG9zaXRpb24gYWNjb3JkaW5nIHRvIGhvcml6b250YWwgbW91c2UgcG9zaXRpb24gaW5jcmVtZW50XHJcblx0XHR2YXIgbXcgPSB0Lm9wdC5taW5XaWR0aCwgaSA9IGRyYWcuaSA7XHQvL2NlbGwncyBtaW4gd2lkdGhcclxuXHRcdHZhciBsID0gdC5jcyoxLjUgKyBtdyArIHQuYjtcclxuICAgICAgICB2YXIgbGFzdCA9IGkgPT0gdC5sbi0xOyAgICAgICAgICAgICAgICAgXHRcdFx0Ly9jaGVjayBpZiBpdCBpcyB0aGUgbGFzdCBjb2x1bW4ncyBncmlwICh1c3VhbGx5IGhpZGRlbilcclxuICAgICAgICB2YXIgbWluID0gaT8gdC5nW2ktMV0ucG9zaXRpb24oKS5sZWZ0K3QuY3MrbXc6IGw7XHQvL21pbiBwb3NpdGlvbiBhY2NvcmRpbmcgdG8gdGhlIGNvbnRpZ3VvdXMgY2VsbHNcclxuXHRcdHZhciBtYXggPSB0LmYgPyBcdC8vZml4ZWQgbW9kZT9cclxuXHRcdFx0aSA9PSB0LmxuLTE/IFxyXG5cdFx0XHRcdHQudy1sOiBcclxuXHRcdFx0XHR0LmdbaSsxXS5wb3NpdGlvbigpLmxlZnQtdC5jcy1tdzpcclxuXHRcdFx0SW5maW5pdHk7IFx0XHRcdFx0XHRcdFx0XHQvL21heCBwb3NpdGlvbiBhY2NvcmRpbmcgdG8gdGhlIGNvbnRpZ3VvdXMgY2VsbHMgXHJcblx0XHR4ID0gTS5tYXgobWluLCBNLm1pbihtYXgsIHgpKTtcdFx0XHRcdC8vYXBwbHkgYm91bmRpbmdcdFx0XHJcblx0XHRkcmFnLnggPSB4O1x0IGRyYWcuY3NzKFwibGVmdFwiLCAgeCArIFBYKTsgXHQvL2FwcGx5IHBvc2l0aW9uIGluY3JlbWVudFx0XHJcbiAgICAgICAgaWYobGFzdCl7XHRcdFx0XHRcdFx0XHRcdFx0Ly9pZiBpdCBpcyB0aGUgbGFzdCBncmlwXHJcbiAgICAgICAgICAgIHZhciBjID0gdC5jW2RyYWcuaV07XHRcdFx0XHRcdC8vd2lkdGggb2YgdGhlIGxhc3QgY29sdW1uIGlzIG9idGFpbmVkXHJcblx0XHRcdGRyYWcudyA9IGMudyArIHgtIGRyYWcubDsgICAgICAgICBcclxuICAgICAgICB9ICAgICAgICAgICAgICBcclxuXHRcdGlmKHQub3B0LmxpdmVEcmFnKXsgXHRcdFx0Ly9pZiBsaXZlRHJhZyBpcyBlbmFibGVkXHJcblx0XHRcdGlmKGxhc3Qpe1xyXG5cdFx0XHQgICAgYy53aWR0aChkcmFnLncpO1xyXG4gICAgICAgICAgICAgICAgaWYoIXQuZiAmJiB0Lm9wdC5vdmVyZmxvdyl7XHRcdFx0Ly9pZiBvdmVyZmxvdyBpcyBzZXQsIGluY3JpbWVudCBtaW4td2lkdGggdG8gZm9yY2Ugb3ZlcmZsb3dcclxuICAgICAgICAgICAgICAgICAgIHQuY3NzKCdtaW4td2lkdGgnLCB0LncgKyB4IC0gZHJhZy5sKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0LncgPSB0LndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHN5bmNDb2xzKHQsaSk7IFx0XHRcdC8vY29sdW1ucyBhcmUgc3luY2hyb25pemVkXHJcblx0XHRcdH1cclxuXHRcdFx0c3luY0dyaXBzKHQpO1xyXG5cdFx0XHR2YXIgY2IgPSB0Lm9wdC5vbkRyYWc7XHRcdFx0XHRcdFx0XHQvL2NoZWNrIGlmIHRoZXJlIGlzIGFuIG9uRHJhZyBjYWxsYmFja1xyXG5cdFx0XHRpZiAoY2IpIHsgZS5jdXJyZW50VGFyZ2V0ID0gdFswXTsgY2IoZSk7IH1cdFx0Ly9pZiBhbnksIGl0IGlzIGZpcmVkXHRcdFx0XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7IFx0Ly9wcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoaWxlIGRyYWdnaW5nXHRcdFx0XHRcclxuXHR9O1xyXG5cdFxyXG5cclxuXHQvKipcclxuXHQgKiBFdmVudCBoYW5kbGVyIGZpcmVkIHdoZW4gdGhlIGRyYWdnaW5nIGlzIG92ZXIsIHVwZGF0aW5nIHRhYmxlIGxheW91dFxyXG4gICAgICogQHBhcmFtIHtldmVudH0gZSAtIGdyaXAncyBkcmFnIG92ZXIgZXZlbnRcclxuXHQgKi9cclxuXHR2YXIgb25HcmlwRHJhZ092ZXIgPSBmdW5jdGlvbihlKXtcdFxyXG5cdFx0XHJcblx0XHRkLnVuYmluZCgndG91Y2hlbmQuJytTSUdOQVRVUkUrJyBtb3VzZXVwLicrU0lHTkFUVVJFKS51bmJpbmQoJ3RvdWNobW92ZS4nK1NJR05BVFVSRSsnIG1vdXNlbW92ZS4nK1NJR05BVFVSRSk7XHJcblx0XHQkKFwiaGVhZCA6bGFzdC1jaGlsZFwiKS5yZW1vdmUoKTsgXHRcdFx0XHQvL3JlbW92ZSB0aGUgZHJhZ2dpbmcgY3Vyc29yIHN0eWxlXHRcclxuXHRcdGlmKCFkcmFnKSByZXR1cm47XHJcblx0XHRkcmFnLnJlbW92ZUNsYXNzKGRyYWcudC5vcHQuZHJhZ2dpbmdDbGFzcyk7XHRcdC8vcmVtb3ZlIHRoZSBncmlwJ3MgZHJhZ2dpbmcgY3NzLWNsYXNzXHJcbiAgICAgICAgaWYgKCEoZHJhZy54IC0gZHJhZy5sID09IDApKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gZHJhZy50O1xyXG4gICAgICAgICAgICB2YXIgY2IgPSB0Lm9wdC5vblJlc2l6ZTsgXHQgICAgLy9nZXQgc29tZSB2YWx1ZXNcdFxyXG4gICAgICAgICAgICB2YXIgaSA9IGRyYWcuaTsgICAgICAgICAgICAgICAgIC8vY29sdW1uIGluZGV4XHJcbiAgICAgICAgICAgIHZhciBsYXN0ID0gaSA9PSB0LmxuLTE7ICAgICAgICAgLy9jaGVjayBpZiBpdCBpcyB0aGUgbGFzdCBjb2x1bW4ncyBncmlwICh1c3VhbGx5IGhpZGRlbilcclxuICAgICAgICAgICAgdmFyIGMgPSB0LmdbaV0uYzsgICAgICAgICAgICAgICAvL3RoZSBjb2x1bW4gYmVpbmcgZHJhZ2dlZFxyXG4gICAgICAgICAgICBpZihsYXN0KXtcclxuICAgICAgICAgICAgICAgIGMud2lkdGgoZHJhZy53KTtcclxuICAgICAgICAgICAgICAgIGMudyA9IGRyYWcudztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBzeW5jQ29scyh0LCBpLCB0cnVlKTtcdC8vdGhlIGNvbHVtbnMgYXJlIHVwZGF0ZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighdC5mKSBhcHBseUJvdW5kcyh0KTtcdC8vaWYgbm90IGZpeGVkIG1vZGUsIHRoZW4gYXBwbHkgYm91bmRzIHRvIG9idGFpbiByZWFsIHdpZHRoIHZhbHVlc1xyXG4gICAgICAgICAgICBzeW5jR3JpcHModCk7XHRcdFx0XHQvL3RoZSBncmlwcyBhcmUgdXBkYXRlZFxyXG4gICAgICAgICAgICBpZiAoY2IpIHsgZS5jdXJyZW50VGFyZ2V0ID0gdFswXTsgY2IoZSk7IH1cdC8vaWYgdGhlcmUgaXMgYSBjYWxsYmFjayBmdW5jdGlvbiwgaXQgaXMgZmlyZWRcclxuICAgICAgICAgICAgaWYodC5wICYmIFMpIG1lbWVudG8odCk7IFx0Ly9pZiBwb3N0YmFja1NhZmUgaXMgZW5hYmxlZCBhbmQgdGhlcmUgaXMgc2Vzc2lvblN0b3JhZ2Ugc3VwcG9ydCwgdGhlIG5ldyBsYXlvdXQgaXMgc2VyaWFsaXplZCBhbmQgc3RvcmVkXHJcbiAgICAgICAgfVxyXG5cdFx0ZHJhZyA9IG51bGw7ICAgLy9zaW5jZSB0aGUgZ3JpcCdzIGRyYWdnaW5nIGlzIG92ZXJcdFx0XHRcdFx0XHRcdFx0XHRcclxuXHR9O1x0XHJcblx0XHJcblx0XHJcblx0LyoqXHJcblx0ICogRXZlbnQgaGFuZGxlciBmaXJlZCB3aGVuIHRoZSBncmlwJ3MgZHJhZ2dpbmcgaXMgYWJvdXQgdG8gc3RhcnQuIEl0cyBtYWluIGdvYWwgaXMgdG8gc2V0IHVwIGV2ZW50cyBcclxuXHQgKiBhbmQgc3RvcmUgc29tZSB2YWx1ZXMgdXNlZCB3aGlsZSBkcmFnZ2luZy5cclxuICAgICAqIEBwYXJhbSB7ZXZlbnR9IGUgLSBncmlwJ3MgbW91c2Vkb3duIGV2ZW50XHJcblx0ICovXHJcblx0dmFyIG9uR3JpcE1vdXNlRG93biA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0dmFyIG8gPSAkKHRoaXMpLmRhdGEoU0lHTkFUVVJFKTtcdFx0XHQvL3JldHJpZXZlIGdyaXAncyBkYXRhXHJcblx0XHR2YXIgdCA9IHRhYmxlc1tvLnRdLCAgZyA9IHQuZ1tvLmldO1x0XHRcdC8vc2hvcnRjdXRzIGZvciB0aGUgdGFibGUgYW5kIGdyaXAgb2JqZWN0c1xyXG4gICAgICAgIHZhciBvZSA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzOyAgICAgICAgICAgLy90b3VjaCBvciBtb3VzZSBldmVudD9cclxuICAgICAgICBnLm94ID0gb2U/IG9lWzBdLnBhZ2VYOiBlLnBhZ2VYOyAgICAgICAgICAgIC8vdGhlIGluaXRpYWwgcG9zaXRpb24gaXMga2VwdFxyXG5cdFx0Zy5sID0gZy5wb3NpdGlvbigpLmxlZnQ7XHJcbiAgICAgICAgZy54ID0gZy5sO1xyXG4gICAgICAgIFxyXG5cdFx0ZC5iaW5kKCd0b3VjaG1vdmUuJytTSUdOQVRVUkUrJyBtb3VzZW1vdmUuJytTSUdOQVRVUkUsIG9uR3JpcERyYWcgKS5iaW5kKCd0b3VjaGVuZC4nK1NJR05BVFVSRSsnIG1vdXNldXAuJytTSUdOQVRVUkUsIG9uR3JpcERyYWdPdmVyKTtcdC8vbW91c2Vtb3ZlIGFuZCBtb3VzZXVwIGV2ZW50cyBhcmUgYm91bmRcclxuXHRcdGguYXBwZW5kKFwiPHN0eWxlIHR5cGU9J3RleHQvY3NzJz4qe2N1cnNvcjpcIisgdC5vcHQuZHJhZ0N1cnNvciArXCIhaW1wb3J0YW50fTwvc3R5bGU+XCIpOyBcdC8vY2hhbmdlIHRoZSBtb3VzZSBjdXJzb3JcclxuXHRcdGcuYWRkQ2xhc3ModC5vcHQuZHJhZ2dpbmdDbGFzcyk7IFx0Ly9hZGQgdGhlIGRyYWdnaW5nIGNsYXNzICh0byBhbGxvdyBzb21lIHZpc3VhbCBmZWVkYmFjaylcdFx0XHRcdFxyXG5cdFx0ZHJhZyA9IGc7XHRcdFx0XHRcdFx0XHQvL3RoZSBjdXJyZW50IGdyaXAgaXMgc3RvcmVkIGFzIHRoZSBjdXJyZW50IGRyYWdnaW5nIG9iamVjdFxyXG5cdFx0aWYodC5jW28uaV0ubCkgZm9yKHZhciBpPTAsYzsgaTx0LmxuOyBpKyspeyBjPXQuY1tpXTsgYy5sID0gZmFsc2U7IGMudz0gYy53aWR0aCgpOyB9IFx0Ly9pZiB0aGUgY29sdW0gaXMgbG9ja2VkIChhZnRlciBicm93c2VyIHJlc2l6ZSksIHRoZW4gYy53IG11c3QgYmUgdXBkYXRlZFx0XHRcclxuXHRcdHJldHVybiBmYWxzZTsgXHQvL3ByZXZlbnQgdGV4dCBzZWxlY3Rpb25cclxuXHR9O1xyXG4gICAgXHJcbiAgICBcclxuXHQvKipcclxuXHQgKiBFdmVudCBoYW5kbGVyIGZpcmVkIHdoZW4gdGhlIGJyb3dzZXIgaXMgcmVzaXplZC4gVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRvIHVwZGF0ZVxyXG5cdCAqIHRhYmxlIGxheW91dCBhY2NvcmRpbmcgdG8gdGhlIGJyb3dzZXIncyBzaXplIHN5bmNocm9uaXppbmcgcmVsYXRlZCBncmlwcyBcclxuXHQgKi9cclxuXHR2YXIgb25SZXNpemUgPSBmdW5jdGlvbigpe1xyXG5cdFx0Zm9yKHZhciB0IGluIHRhYmxlcyl7XHJcbiAgICAgICAgICAgIGlmKCB0YWJsZXMuaGFzT3duUHJvcGVydHkoIHQgKSApIHtcclxuICAgICAgICAgICAgICAgIHQgPSB0YWJsZXNbdF07XHJcbiAgICAgICAgICAgICAgICB2YXIgaSwgbXc9MDtcclxuICAgICAgICAgICAgICAgIHQucmVtb3ZlQ2xhc3MoU0lHTkFUVVJFKTsgICAvL2ZpcmVmb3ggZG9lc24ndCBsaWtlIGxheW91dC1maXhlZCBpbiBzb21lIGNhc2VzXHJcbiAgICAgICAgICAgICAgICBpZiAodC5mKSB7ICAgICAgICAgICAgICAgICAgLy9pbiBmaXhlZCBtb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgdC53ID0gdC53aWR0aCgpOyAgICAgICAgLy9pdHMgbmV3IHdpZHRoIGlzIGtlcHRcclxuICAgICAgICAgICAgICAgICAgICBmb3IoaT0wOyBpPHQubG47IGkrKykgbXcrPSB0LmNbaV0udztcdFx0XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jZWxsIHJlbmRlcmluZyBpcyBub3QgYXMgdHJpdmlhbCBhcyBpdCBtaWdodCBzZWVtLCBhbmQgaXQgaXMgc2xpZ2h0bHkgZGlmZmVyZW50IGZvclxyXG4gICAgICAgICAgICAgICAgICAgIC8vZWFjaCBicm93c2VyLiBJbiB0aGUgYmVnaW5uaW5nIGkgaGFkIGEgYmlnIHN3aXRjaCBmb3IgZWFjaCBicm93c2VyLCBidXQgc2luY2UgdGhlIGNvZGVcclxuICAgICAgICAgICAgICAgICAgICAvL3dhcyBleHRyZW1lbHkgdWdseSBub3cgSSB1c2UgYSBkaWZmZXJlbnQgYXBwcm9hY2ggd2l0aCBzZXZlcmFsIHJlLWZsb3dzLiBUaGlzIHdvcmtzIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vcHJldHR5IHdlbGwgYnV0IGl0J3MgYSBiaXQgc2xvd2VyLiBGb3Igbm93LCBsZXRzIGtlZXAgdGhpbmdzIHNpbXBsZS4uLiAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcihpPTA7IGk8dC5sbjsgaSsrKSB0LmNbaV0uY3NzKFwid2lkdGhcIiwgTS5yb3VuZCgxMDAwKnQuY1tpXS53L213KS8xMCArIFwiJVwiKS5sPXRydWU7IFxyXG4gICAgICAgICAgICAgICAgICAgIC8vYy5sIGxvY2tzIHRoZSBjb2x1bW4sIHRlbGxpbmcgdXMgdGhhdCBpdHMgYy53IGlzIG91dGRhdGVkXHRcdFx0XHRcdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXsgICAgIC8vaW4gbm9uIGZpeGVkLXNpemVkIHRhYmxlc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5Qm91bmRzKHQpOyAgICAgICAgIC8vYXBwbHkgdGhlIG5ldyBib3VuZHMgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodC5tb2RlID09ICdmbGV4JyAmJiB0LnAgJiYgUyl7ICAgLy9pZiBwb3N0YmFja1NhZmUgaXMgZW5hYmxlZCBhbmQgdGhlcmUgaXMgc2Vzc2lvblN0b3JhZ2Ugc3VwcG9ydCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVtZW50byh0KTsgICAgICAgICAgICAgICAgICAgICAvL3RoZSBuZXcgbGF5b3V0IGlzIHNlcmlhbGl6ZWQgYW5kIHN0b3JlZCBmb3IgJ2ZsZXgnIHRhYmxlc1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN5bmNHcmlwcyh0LmFkZENsYXNzKFNJR05BVFVSRSkpO1xyXG4gICAgICAgICAgICB9XHJcblx0XHR9IFxyXG5cdFx0XHJcblx0fTtcdFx0XHJcblxyXG5cclxuXHQvL2JpbmQgcmVzaXplIGV2ZW50LCB0byB1cGRhdGUgZ3JpcHMgcG9zaXRpb24gXHJcblx0JCh3aW5kb3cpLmJpbmQoJ3Jlc2l6ZS4nK1NJR05BVFVSRSwgb25SZXNpemUpOyBcclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBwbHVnaW4gaXMgYWRkZWQgdG8gdGhlIGpRdWVyeSBsaWJyYXJ5XHJcblx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSAgYW4gb2JqZWN0IHRoYXQgaG9sZHMgc29tZSBiYXNpYyBjdXN0b21pemF0aW9uIHZhbHVlcyBcclxuXHQgKi9cclxuICAgICQuZm4uZXh0ZW5kKHsgIFxyXG4gICAgICAgIGNvbFJlc2l6YWJsZTogZnVuY3Rpb24ob3B0aW9ucykgeyAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcclxuXHRcdFx0XHJcblx0XHRcdFx0Ly9hdHRyaWJ1dGVzOlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXNpemVNb2RlOiAnZml0JywgICAgICAgICAgICAgICAgICAgIC8vbW9kZSBjYW4gYmUgJ2ZpdCcsICdmbGV4JyBvciAnb3ZlcmZsb3cnXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2luZ0NsYXNzOiAnSkNMUmdyaXBEcmFnJyxcdC8vY3NzLWNsYXNzIHVzZWQgd2hlbiBhIGdyaXAgaXMgYmVpbmcgZHJhZ2dlZCAoZm9yIHZpc3VhbCBmZWVkYmFjayBwdXJwb3NlcylcclxuXHRcdFx0XHRncmlwSW5uZXJIdG1sOiAnJyxcdFx0XHRcdC8vaWYgaXQgaXMgcmVxdWlyZWQgdG8gdXNlIGEgY3VzdG9tIGdyaXAgaXQgY2FuIGJlIGRvbmUgdXNpbmcgc29tZSBjdXN0b20gSFRNTFx0XHRcdFx0XHJcblx0XHRcdFx0bGl2ZURyYWc6IGZhbHNlLFx0XHRcdFx0Ly9lbmFibGVzIHRhYmxlLWxheW91dCB1cGRhdGluZyB3aGlsZSBkcmFnZ2luZ1x0XHJcblx0XHRcdFx0bWluV2lkdGg6IDE1LCBcdFx0XHRcdFx0Ly9taW5pbXVtIHdpZHRoIHZhbHVlIGluIHBpeGVscyBhbGxvd2VkIGZvciBhIGNvbHVtbiBcclxuXHRcdFx0XHRoZWFkZXJPbmx5OiBmYWxzZSxcdFx0XHRcdC8vc3BlY2lmaWVzIHRoYXQgdGhlIHNpemUgb2YgdGhlIHRoZSBjb2x1bW4gcmVzaXppbmcgYW5jaG9ycyB3aWxsIGJlIGJvdW5kZWQgdG8gdGhlIHNpemUgb2YgdGhlIGZpcnN0IHJvdyBcclxuXHRcdFx0XHRob3ZlckN1cnNvcjogXCJjb2wtcmVzaXplXCIsICBcdFx0Ly9jdXJzb3IgdG8gYmUgdXNlZCBvbiBncmlwIGhvdmVyXHJcblx0XHRcdFx0ZHJhZ0N1cnNvcjogXCJjb2wtcmVzaXplXCIsICBcdFx0Ly9jdXJzb3IgdG8gYmUgdXNlZCB3aGlsZSBkcmFnZ2luZ1xyXG5cdFx0XHRcdHBvc3RiYWNrU2FmZTogZmFsc2UsIFx0XHRcdC8vd2hlbiBpdCBpcyBlbmFibGVkLCB0YWJsZSBsYXlvdXQgY2FuIHBlcnNpc3QgYWZ0ZXIgcG9zdGJhY2sgb3IgcGFnZSByZWZyZXNoLiBJdCByZXF1aXJlcyBicm93c2VycyB3aXRoIHNlc3Npb25TdG9yYWdlIHN1cHBvcnQgKGl0IGNhbiBiZSBlbXVsYXRlZCB3aXRoIHNlc3Npb25TdG9yYWdlLmpzKS4gXHJcblx0XHRcdFx0Zmx1c2g6IGZhbHNlLCBcdFx0XHRcdFx0Ly93aGVuIHBvc3RiYWtTYWZlIGlzIGVuYWJsZWQsIGFuZCBpdCBpcyByZXF1aXJlZCB0byBwcmV2ZW50IGxheW91dCByZXN0b3JhdGlvbiBhZnRlciBwb3N0YmFjaywgJ2ZsdXNoJyB3aWxsIHJlbW92ZSBpdHMgYXNzb2NpYXRlZCBsYXlvdXQgZGF0YSBcclxuXHRcdFx0XHRtYXJnaW5MZWZ0OiBudWxsLFx0XHRcdFx0Ly9pbiBjYXNlIHRoZSB0YWJsZSBjb250YWlucyBhbnkgbWFyZ2lucywgY29sUmVzaXphYmxlIG5lZWRzIHRvIGtub3cgdGhlIHZhbHVlcyB1c2VkLCBlLmcuIFwiMTAlXCIsIFwiMTVlbVwiLCBcIjVweFwiIC4uLlxyXG5cdFx0XHRcdG1hcmdpblJpZ2h0OiBudWxsLCBcdFx0XHRcdC8vaW4gY2FzZSB0aGUgdGFibGUgY29udGFpbnMgYW55IG1hcmdpbnMsIGNvbFJlc2l6YWJsZSBuZWVkcyB0byBrbm93IHRoZSB2YWx1ZXMgdXNlZCwgZS5nLiBcIjEwJVwiLCBcIjE1ZW1cIiwgXCI1cHhcIiAuLi5cclxuXHRcdFx0XHRkaXNhYmxlOiBmYWxzZSxcdFx0XHRcdFx0Ly9kaXNhYmxlcyBhbGwgdGhlIGVuaGFuY2VtZW50cyBwZXJmb3JtZWQgaW4gYSBwcmV2aW91c2x5IGNvbFJlc2l6ZWQgdGFibGVcdFxyXG5cdFx0XHRcdHBhcnRpYWxSZWZyZXNoOiBmYWxzZSxcdFx0XHQvL2NhbiBiZSB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGggcG9zdGJhY2tTYWZlIHdoZW4gdGhlIHRhYmxlIGlzIGluc2lkZSBvZiBhbiB1cGRhdGVQYW5lbCxcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkQ29sdW1uczogW10sICAgICAgICAgICAgLy9jb2x1bW4gaW5kZXhlcyB0byBiZSBleGNsdWRlZFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlUGFkZGluZzogdHJ1ZSwgICAgICAgICAgIC8vZm9yIHNvbWUgdXNlcyAoc3VjaCBhcyBtdWx0aXBsZSByYW5nZSBzbGlkZXIpLCBpdCBpcyBhZHZpc2VkIHRvIHNldCB0aGlzIG1vZGlmaWVyIHRvIHRydWUsIGl0IHdpbGwgcmVtb3ZlIHBhZGRpbmcgZnJvbSB0aGUgaGVhZGVyIGNlbGxzLlxyXG5cclxuXHRcdFx0XHQvL2V2ZW50czpcclxuXHRcdFx0XHRvbkRyYWc6IG51bGwsIFx0XHRcdFx0XHQvL2NhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGZpcmVkIGR1cmluZyB0aGUgY29sdW1uIHJlc2l6aW5nIHByb2Nlc3MgaWYgbGl2ZURyYWcgaXMgZW5hYmxlZFxyXG5cdFx0XHRcdG9uUmVzaXplOiBudWxsXHRcdFx0XHRcdC8vY2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiB0aGUgZHJhZ2dpbmcgcHJvY2VzcyBpcyBvdmVyXHJcbiAgICAgICAgICAgIH1cdFx0XHRcclxuXHRcdFx0dmFyIG9wdGlvbnMgPSAgJC5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1x0XHRcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vc2luY2Ugbm93IHRoZXJlIGFyZSAzIGRpZmZlcmVudCB3YXlzIG9mIHJlc2l6aW5nIGNvbHVtbnMsIEkgY2hhbmdlZCB0aGUgZXh0ZXJuYWwgaW50ZXJmYWNlIHRvIG1ha2UgaXQgY2xlYXJcclxuICAgICAgICAgICAgLy9jYWxsaW5nIGl0ICdyZXNpemVNb2RlJyBidXQgYWxzbyB0byByZW1vdmUgdGhlIFwiZml4ZWRcIiBhdHRyaWJ1dGUgd2hpY2ggd2FzIGNvbmZ1c2luZyBmb3IgbWFueSBwZW9wbGVcclxuICAgICAgICAgICAgb3B0aW9ucy5maXhlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIG9wdGlvbnMub3ZlcmZsb3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgc3dpdGNoKG9wdGlvbnMucmVzaXplTW9kZSl7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdmbGV4Jzogb3B0aW9ucy5maXhlZCA9IGZhbHNlOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ292ZXJmbG93Jzogb3B0aW9ucy5maXhlZCA9IGZhbHNlOyBvcHRpb25zLm92ZXJmbG93ID0gdHJ1ZTsgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHRcdFx0XHRcclxuICAgICAgICAgICAgIFx0aW5pdCggdGhpcywgb3B0aW9ucyk7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSkoalF1ZXJ5KTtcclxuXHJcbiIsInZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9kaWFsb2cuY3NzXCIpO1xuXG5pZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbn1cblxudmFyIG9wdGlvbnMgPSB7fVxuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZiAoY29udGVudC5sb2NhbHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIEltcG9ydHNcbnZhciBnZXRVcmwgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzBfX18gPSBnZXRVcmwocmVxdWlyZShcIi4uL2ZvbnRzL1JvYm90by1SZWd1bGFyLnR0ZlwiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18xX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuLi9pbWFnZXMvaWNvbi9pY29uX3ZrZXlib2FyZC5wbmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMl9fXyA9IGdldFVybChyZXF1aXJlKFwiLi4vaW1hZ2VzL2ljb24vaWNvbi1kb3duLnBuZ1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18zX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuLi9pbWFnZXMvaWNvbi9pY29uX3ZrZXlib2FyZF9hY3RpdmUucG5nXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzRfX18gPSBnZXRVcmwocmVxdWlyZShcIi4uL2ltYWdlcy9pY29uL2ljb24tY2VydC5wbmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNV9fXyA9IGdldFVybChyZXF1aXJlKFwiLi4vaW1hZ2VzL2ljb24vaWNvbi1xdWVzdGlvbi5wbmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNl9fXyA9IGdldFVybChyZXF1aXJlKFwiLi4vaW1hZ2VzL2ljb24vaWNvbi1mYXEucG5nXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzdfX18gPSBnZXRVcmwocmVxdWlyZShcIi4uL2ltYWdlcy9pY29uL2ljb24tZmluZC1jZXJ0LnBuZ1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX184X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuLi9pbWFnZXMvaWNvbi9pY29uLWRlbGV0ZS1jZXJ0LnBuZ1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX185X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuLi9pbWFnZXMvaWNvbi9pY29uLWNsb3NlLnBuZ1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18xMF9fXyA9IGdldFVybChyZXF1aXJlKFwiLi4vaW1hZ2VzL2ljb24vaWNvbi1icm93c2VyLnBuZ1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18xMV9fXyA9IGdldFVybChyZXF1aXJlKFwiLi4vaW1hZ2VzL2ljb24vaWNvbi1kcm9wem9uZS5wbmdcIikpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiBjeXJpbGxpYy1leHQgKi9cXHJcXG5cXHJcXG5AZm9udC1mYWNlIHtcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nO1xcclxcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XFxyXFxuICAgIHNyYzogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fICsgXCIpIGZvcm1hdCgndHJ1ZXR5cGUnKTtcXHJcXG4gICAgdW5pY29kZS1yYW5nZTogVSswMDAwLTAwN0Y7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIge1xcclxcbiAgICAtLWJsdWU6ICMwMDdiZmY7XFxyXFxuICAgIC0taW5kaWdvOiAjNjYxMGYyO1xcclxcbiAgICAtLXB1cnBsZTogIzZmNDJjMTtcXHJcXG4gICAgLS1waW5rOiAjZTgzZThjO1xcclxcbiAgICAtLXJlZDogI2RjMzU0NTtcXHJcXG4gICAgLS1vcmFuZ2U6ICNmZDdlMTQ7XFxyXFxuICAgIC0teWVsbG93OiAjZmZjMTA3O1xcclxcbiAgICAtLWdyZWVuOiAjMjhhNzQ1O1xcclxcbiAgICAtLXRlYWw6ICMyMGM5OTc7XFxyXFxuICAgIC0tY3lhbjogIzE3YTJiODtcXHJcXG4gICAgLS13aGl0ZTogI2ZmZjtcXHJcXG4gICAgLS1ncmF5OiAjNmM3NTdkO1xcclxcbiAgICAtLWdyYXktZGFyazogIzM0M2E0MDtcXHJcXG4gICAgLS1wcmltYXJ5OiAjMDA3YmZmO1xcclxcbiAgICAtLXNlY29uZGFyeTogIzZjNzU3ZDtcXHJcXG4gICAgLS1zdWNjZXNzOiAjMjhhNzQ1O1xcclxcbiAgICAtLWluZm86ICMxN2EyYjg7XFxyXFxuICAgIC0td2FybmluZzogI2ZmYzEwNztcXHJcXG4gICAgLS1kYW5nZXI6ICNkYzM1NDU7XFxyXFxuICAgIC0tbGlnaHQ6ICNmOGY5ZmE7XFxyXFxuICAgIC0tZGFyazogIzM0M2E0MDtcXHJcXG4gICAgLS1icmVha3BvaW50LXhzOiAwO1xcclxcbiAgICAtLWJyZWFrcG9pbnQtc206IDU3NnB4O1xcclxcbiAgICAtLWJyZWFrcG9pbnQtbWQ6IDc2OHB4O1xcclxcbiAgICAtLWJyZWFrcG9pbnQtbGc6IDk5MnB4O1xcclxcbiAgICAtLWJyZWFrcG9pbnQteGw6IDEyMDBweDtcXHJcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTJweDtcXHJcXG4gICAgbGluZS1oZWlnaHQ6IDE7XFxyXFxuICAgIGNvbG9yOiBibGFjaztcXHJcXG4gICAgei1pbmRleDogOTk5ODtcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzogMHB4O1xcclxcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgKixcXHJcXG4jc2VjdWtpdC13cmFwcGVyICo6OmJlZm9yZSxcXHJcXG4jc2VjdWtpdC13cmFwcGVyICo6OmFmdGVyIHtcXHJcXG4gICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIGhyIHtcXHJcXG4gICAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxyXFxuICAgIGhlaWdodDogMDtcXHJcXG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XFxyXFxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XFxyXFxuICAgIHdpZHRoOiBpbmhlcml0O1xcclxcbiAgICBoZWlnaHQ6IDA7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgaDEsXFxyXFxuI3NlY3VraXQtd3JhcHBlciBoMixcXHJcXG4jc2VjdWtpdC13cmFwcGVyIGgzLFxcclxcbiNzZWN1a2l0LXdyYXBwZXIgaDQsXFxyXFxuI3NlY3VraXQtd3JhcHBlciBoNSxcXHJcXG4jc2VjdWtpdC13cmFwcGVyIGg2IHtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcXHJcXG4gICAgbWFyZ2luLXRvcDogMDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMC44M2VtO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIHAge1xcclxcbiAgICBtYXJnaW4tdG9wOiAwO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIGE6aG92ZXIge1xcclxcbiAgICBjb2xvcjogIzAwNTZiMyAhaW1wb3J0YW50O1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgYTpub3QoW2hyZWZdKTpub3QoW3RhYmluZGV4XSkge1xcclxcbiAgICBjb2xvcjogaW5oZXJpdDtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIGE6bm90KFtocmVmXSk6bm90KFt0YWJpbmRleF0pOmhvdmVyLFxcclxcbmE6bm90KFtocmVmXSk6bm90KFt0YWJpbmRleF0pOmZvY3VzIHtcXHJcXG4gICAgY29sb3I6IGluaGVyaXQ7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciBhOm5vdChbaHJlZl0pOm5vdChbdGFiaW5kZXhdKTpmb2N1cyB7XFxyXFxuICAgIG91dGxpbmU6IDA7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgdGFibGUge1xcclxcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIHRoIHtcXHJcXG4gICAgdGV4dC1hbGlnbjogaW5oZXJpdC1jZW50ZXI7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgbGFiZWwge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciBidXR0b246Zm9jdXMge1xcclxcbiAgICBvdXRsaW5lOiAxcHggZG90dGVkO1xcclxcbiAgICBvdXRsaW5lOiA1cHggYXV0byAtd2Via2l0LWZvY3VzLXJpbmctY29sb3I7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgaW5wdXQsXFxyXFxuI3NlY3VraXQtd3JhcHBlciBidXR0b24sXFxyXFxuI3NlY3VraXQtd3JhcHBlciBzZWxlY3QsXFxyXFxuI3NlY3VraXQtd3JhcHBlciBvcHRncm91cCxcXHJcXG4jc2VjdWtpdC13cmFwcGVyIHRleHRhcmVhIHtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcXHJcXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xcclxcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciBidXR0b24sXFxyXFxuI3NlY3VraXQtd3JhcHBlciBpbnB1dCB7XFxyXFxuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIGJ1dHRvbixcXHJcXG4jc2VjdWtpdC13cmFwcGVyIHNlbGVjdCB7XFxyXFxuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIHNlbGVjdCB7XFxyXFxuICAgIHdvcmQtd3JhcDogbm9ybWFsO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIGJ1dHRvbixcXHJcXG5bdHlwZT1cXFwiYnV0dG9uXFxcIl0sXFxyXFxuW3R5cGU9XFxcInJlc2V0XFxcIl0sXFxyXFxuW3R5cGU9XFxcInN1Ym1pdFxcXCJdIHtcXHJcXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgYnV0dG9uOm5vdCg6ZGlzYWJsZWQpLFxcclxcblt0eXBlPVxcXCJidXR0b25cXFwiXTpub3QoOmRpc2FibGVkKSxcXHJcXG5bdHlwZT1cXFwicmVzZXRcXFwiXTpub3QoOmRpc2FibGVkKSxcXHJcXG5bdHlwZT1cXFwic3VibWl0XFxcIl06bm90KDpkaXNhYmxlZCkge1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgYnV0dG9uOjotbW96LWZvY3VzLWlubmVyLFxcclxcblt0eXBlPVxcXCJidXR0b25cXFwiXTo6LW1vei1mb2N1cy1pbm5lcixcXHJcXG5bdHlwZT1cXFwicmVzZXRcXFwiXTo6LW1vei1mb2N1cy1pbm5lcixcXHJcXG5bdHlwZT1cXFwic3VibWl0XFxcIl06Oi1tb3otZm9jdXMtaW5uZXIge1xcclxcbiAgICBwYWRkaW5nOiAwO1xcclxcbiAgICBib3JkZXItc3R5bGU6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyB7XFxyXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gICAgdG9wOiA0MCU7XFxyXFxuICAgIGxlZnQ6IDUwJTtcXHJcXG4gICAgei1pbmRleDogOTk5OTtcXHJcXG4gICAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIC1tcy1mbGV4LXdyYXA6IHdyYXA7XFxyXFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXHJcXG4gICAgbWFyZ2luLXRvcDogLTI4MHB4O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6IC0xNXB4O1xcclxcbiAgICBtYXJnaW4tbGVmdDogLTIzMHB4O1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4vKiBTZWxlY3QgQ2VydGlmaWNhdGUgKi9cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIHtcXHJcXG4gICAgd2lkdGg6IDQ2MHB4O1xcclxcbiAgICBoZWlnaHQ6IDU2MHB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjdGN0Y4O1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxyXFxuICAgIGJveC1zaGFkb3c6IDAgMCAxcHggIzExMTExMTtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuc2VsZWN0LWNlcnRpZmljYXRlLWhlYWRlciB7XFxyXFxuICAgIGhlaWdodDogNTBweDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI2NmFiNztcXHJcXG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xcclxcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5zZWxlY3QtY2VydGlmaWNhdGUtaGVhZGVyIGgxIHtcXHJcXG4gICAgcGFkZGluZy10b3A6IDE3cHg7XFxyXFxuICAgIHBhZGRpbmctbGVmdDogNDBweDtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDUwMCAhaW1wb3J0YW50O1xcclxcbiAgICBtYXJnaW4tdG9wOiAwO1xcclxcbiAgICBmb250LXNpemU6IDE2cHg7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuYmFubmVyLXdyYXBwZXIge1xcclxcbiAgICBoZWlnaHQ6IDEwMHB4O1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAzNnB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIge1xcclxcbiAgICBwYWRkaW5nOiAwIDQwcHg7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuc2VsZWN0LWNlcnRpZmljYXRlLXdyYXBwZXIgLmNvbnRlbnQtd3JhcHBlciAua2ljYS1idXR0b24ge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQwNkJCMjtcXHJcXG4gICAgcGFkZGluZzogN3B4IDlweCA3cHggM3B4O1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxyXFxuICAgIGZsb2F0OiByaWdodDtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBibGluaztcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5raWNhLWJ1dHRvblttYXJnaW4tcmlnaHRdIHtcXHJcXG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmtpY2EtYnV0dG9uIGkge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxyXFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxyXFxuICAgIG1hcmdpbjogMCA2cHg7XFxyXFxufVxcclxcblxcclxcblxcclxcbi5raWNhLWJ1dHRvbi13cmFwcGVyIHtcXHJcXG4gICAgcG9zaXRpb246cmVsYXRpdmU7XFxyXFxuICAgIGhlaWdodDogMzZweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5raWNhLWJ1dHRvbiBzcGFuIHtcXHJcXG4gICAgbGluZS1oZWlnaHQ6IDIwcHg7XFxyXFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOiAtMC4yNXB4O1xcclxcbiAgICBjb2xvcjogIzIyMjIyMjtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIGgyIHtcXHJcXG4gICAgZm9udC1zaXplOiAxNHB4O1xcclxcbiAgICBmb250LXdlaWdodDogYm9sZDtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6IC0wLjI1cHg7XFxyXFxuICAgIGNvbG9yOiAjMzMzMzMzO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmNlcnQtbGlzdC1sYWJlbCB7XFxyXFxuICAgIHBhZGRpbmctdG9wOiAyOHB4O1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzogLTAuNHB4O1xcclxcbiAgICBtYXJnaW4tdG9wOiAxMS42MjBweDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMTEuNjIwcHg7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuc2VsZWN0LWNlcnRpZmljYXRlLXdyYXBwZXIgLmNvbnRlbnQtd3JhcHBlciAuY2VydC1wYXNzd29yZC1sYWJlbCB7XFxyXFxuICAgIG1hcmdpbi10b3A6IDQwcHggIWltcG9ydGFudDtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6IC0wLjI1cHg7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuc2VsZWN0LWNlcnRpZmljYXRlLXdyYXBwZXIgLmNvbnRlbnQtd3JhcHBlciAuY2VydC1saXN0IHtcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQwNkJCMjtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xcclxcbiAgICBoZWlnaHQ6IDEwMHB4O1xcclxcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcclxcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMTFweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5jZXJ0LWxpc3QgdGFibGUge1xcclxcbiAgICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgYm9yZGVyLXdpZHRoOiAwO1xcclxcbiAgICBib3JkZXItc3BhY2luZzogMDtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5jZXJ0LWxpc3QgdGFibGUgdGgge1xcclxcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcclxcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzQwNkJCMjtcXHJcXG4gICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNDA2QkIyO1xcclxcbiAgICBoZWlnaHQ6IDI0cHg7XFxyXFxuICAgIHBhZGRpbmc6IDAgNXB4O1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuc2VsZWN0LWNlcnRpZmljYXRlLXdyYXBwZXIgLmNvbnRlbnQtd3JhcHBlciAuY2VydC1saXN0IHRhYmxlIHRoIHNwYW4ge1xcclxcbiAgICBmb250LXNpemU6IDEycHg7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmNlcnQtbGlzdCB0YWJsZSB0aDpmaXJzdC1jaGlsZCB7XFxyXFxuICAgIGJvcmRlci1sZWZ0OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmNlcnQtbGlzdCB0YWJsZSB0ZCB7XFxyXFxuICAgIGJhY2tncm91bmQ6ICNmZmY7XFxyXFxuICAgIGhlaWdodDogMjRweDtcXHJcXG4gICAgcGFkZGluZzogMCA1cHg7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmNlcnQtbGlzdCB0YWJsZSB0ZCBzcGFuIHtcXHJcXG4gICAgZm9udC1zaXplOiAxMnB4O1xcclxcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBwYWRkaW5nLWJvdHRvbTogMXB4O1xcclxcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcclxcbiAgICAtby10ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXHJcXG4gICAgLW1zLXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcclxcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXHJcXG4gICAgd29yZC13cmFwOiBub3JtYWw7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuc2VsZWN0LWNlcnRpZmljYXRlLXdyYXBwZXIgLmNvbnRlbnQtd3JhcHBlciAuY2VydC1saXN0IHRhYmxlIHRkIGkge1xcclxcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmNlcnQtbGlzdCB0YWJsZSB0cltjbGFzcz1cXFwiYWN0aXZlXFxcIl0gdGQge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA2QkIyO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmNlcnQtbGlzdCB0YWJsZSB0cltjbGFzcz1cXFwiYWN0aXZlXFxcIl0gdGQgc3BhbiB7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5pbnB1dC1wYXNzd29yZC1mb3JtIC5jZXJ0LXFsYWxmcWpzZ2gge1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxyXFxuICAgIHBhZGRpbmctYm90dG9tOiA0cHg7XFxyXFxuICAgIHBhZGRpbmctbGVmdDogN3B4O1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYjBiMGIwO1xcclxcbiAgICBib3JkZXItY29sb3I6ICM0MDZCQjI7XFxyXFxuICAgIHBhZGRpbmc6IDAgNXB4O1xcclxcbiAgICBoZWlnaHQ6IDMwcHg7XFxyXFxuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5pbnB1dC1wYXNzd29yZC1mb3JtIC5jZXJ0LXFsYWxmcWpzZ2g6ZGlzYWJsZWQge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmlucHV0LXBhc3N3b3JkLWZvcm0gLmNlcnQtcWxhbGZxanNnaDpkaXNhYmxlZDo6cGxhY2Vob2xkZXIge1xcclxcbiAgICBjb2xvcjogZGltZ3JheTtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5pbnB1dC1wYXNzd29yZC1mb3JtIC5jZXJ0LXFsYWxmcWpzZ2g6OnBsYWNlaG9sZGVyIHtcXHJcXG4gICAgY29sb3I6IGxpZ2h0Z3JleTtcXHJcXG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5idXR0b24td3JhcHBlciB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgcGFkZGluZy10b3A6IDVweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciBidXR0b24ge1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XFxyXFxuICAgIGJvcmRlcjogbm9uZTtcXHJcXG4gICAgaGVpZ2h0OiAyOHB4O1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgd2lkdGg6IDgzcHggIWltcG9ydGFudDtcXHJcXG4gICAgbWFyZ2luOiAxMHB4IDYuNXB4IDVweCAxMHB4ICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuc2VsZWN0LWNlcnRpZmljYXRlLXdyYXBwZXIgLmNvbmZpcm0tYnV0dG9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI2NmFiNyAhaW1wb3J0YW50O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6IDVweCAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jYW5jZWwtYnV0dG9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Y3RjdGOCAhaW1wb3J0YW50O1xcclxcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMjY2YWI3ICFpbXBvcnRhbnQ7XFxyXFxuICAgIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiA1cHggIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuLyogRW5kIFNlbGVjdCBDZXJ0aWZpY2F0ZSAqL1xcclxcblxcclxcblxcclxcbi8qIEJyb3dzZXIgQ2VydGlmaWNhdGUgR3VpZGUgKi9cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciB7XFxyXFxuICAgIGhlaWdodDogNTYwcHg7XFxyXFxuICAgIHdpZHRoOiAzMzdweDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxyXFxuICAgIGJveC1zaGFkb3c6IDAgMCAwLjQ1cHggIzQ0NDA0MDtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1oZWFkZXIge1xcclxcbiAgICBoZWlnaHQ6IDEzNXB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjY2YWI3O1xcclxcbiAgICBwYWRkaW5nOiAwIDMwcHg7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWhlYWRlciAuY2xvc2Uge1xcclxcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXHJcXG4gICAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIC1tcy1mbGV4LXdyYXA6IHdyYXA7XFxyXFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXHJcXG4gICAgZmxvYXQ6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWhlYWRlciAuY2xvc2UgYSB7XFxyXFxuICAgIG1hcmdpbjogMTRweCAwIDdweCBhdXRvO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1oZWFkZXIgaDEge1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOiAtMXB4O1xcclxcbiAgICBmb250LXNpemU6IDE5cHg7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA0MDAgIWltcG9ydGFudDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGNvbG9yOiAjRjJGRkVEO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAxOHB4ICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWhlYWRlciAudGV4dCB7XFxyXFxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcclxcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgLW1zLWZsZXgtd3JhcDogd3JhcDtcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1oZWFkZXIgLnRleHQgaDIge1xcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIHRleHQtYWxpZ246IGxlZnQ7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA0MDAgIWltcG9ydGFudDtcXHJcXG4gICAgZm9udC1zaXplOiAxMnB4O1xcclxcbiAgICBtYXJnaW4tdG9wOiAycHggIWltcG9ydGFudDtcXHJcXG4gICAgd2lkdGg6IDIxMnB4O1xcclxcbiAgICBsaW5lLWhlaWdodDogMTVweDtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1jb250ZW50cyB7XFxyXFxuICAgIHBhZGRpbmc6IDAgMzBweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMgaHIge1xcclxcbiAgICBtYXJnaW46IDI1cHggLTI1cHggMTVweCAtMjVweDtcXHJcXG4gICAgYm9yZGVyOiAwO1xcclxcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1jb250ZW50cyBoMiB7XFxyXFxuICAgIHRleHQtYWxpZ246IGxlZnQ7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcclxcbiAgICBmb250LXNpemU6IDEzcHg7XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOiAtMC4yNXB4O1xcclxcbiAgICBsaW5lLWhlaWdodDogMTlweDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGNvbG9yOiAjMzMzMzMzO1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgbWFyZ2luOiAxMXB4IDAgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMgLmJyb3dzZXItZ3VpZGUtc3RlcHMtd3JhcHBlciB7XFxyXFxuICAgIHBhZGRpbmc6IDA7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWNvbnRlbnRzIC5icm93c2VyLWd1aWRlLXN0ZXBzLXdyYXBwZXIgLnN0ZXAtd3JhcHBlciB7XFxyXFxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcclxcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgLW1zLWZsZXgtd3JhcDogd3JhcDtcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAycHhcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMgLmJyb3dzZXItZ3VpZGUtc3RlcHMtd3JhcHBlciAuc3RlcC13cmFwcGVyIC5zdGVwLW51bWJlciB7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogMC4zNXJlbTtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcXHJcXG4gICAgbGluZS1oZWlnaHQ6IDE7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXHJcXG4gICAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xcclxcbiAgICAtd2Via2l0LXRyYW5zaXRpb246IGNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIC13ZWJraXQtYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dDtcXHJcXG4gICAgdHJhbnNpdGlvbjogY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJhY2tncm91bmQtY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgLXdlYmtpdC1ib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0O1xcclxcbiAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0O1xcclxcbiAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0LCAtd2Via2l0LWJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0MDZCQjI7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgZm9udC1zaXplOiA3cHg7XFxyXFxuICAgIHdpZHRoOiAxMnB4O1xcclxcbiAgICBoZWlnaHQ6IDEycHg7XFxyXFxuICAgIG1hcmdpbjogM3B4IDEzcHggMCAwO1xcclxcbiAgICBwYWRkaW5nLXRvcDogMS43cHg7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWNvbnRlbnRzIC5icm93c2VyLWd1aWRlLXN0ZXBzLXdyYXBwZXIgLnN0ZXAtd3JhcHBlciAuc3RlcC10ZXh0IHtcXHJcXG4gICAgZm9udC1zaXplOiAxMXB4O1xcclxcbiAgICBsaW5lLWhlaWdodDogMTdweDtcXHJcXG4gICAgd2lkdGg6IDI1MnB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1jb250ZW50cyAuYnJvd3Nlci1ndWlkZS1zdGVwcy13cmFwcGVyIC5zdGVwLXdyYXBwZXIgLnN0ZXAtdGV4dC5zdWIge1xcclxcbiAgICBtYXJnaW46IDZweCAwIDAgMjZweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMgLmJyb3dzZXItZ3VpZGUtc3RlcHMtd3JhcHBlciAuc3RlcC13cmFwcGVyIC5zdGVwLXRleHQudy0xMDAge1xcclxcbiAgICBmb250LXdlaWdodDogMTAwO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMgLmRldGFpbC1ndWlkZS13cmFwcGVyIHtcXHJcXG4gICAgbWFyZ2luLXRvcDogOXB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1jb250ZW50cyAuZGV0YWlsLWd1aWRlLXdyYXBwZXIgYSB7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogYmxpbms7XFxyXFxufVxcclxcblxcclxcbi5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWNvbnRlbnRzIC5kZXRhaWwtZ3VpZGUtd3JhcHBlciAub3Blbi1kZXRhaWwtZ3VpZGUtd3JhcHBlciAuYmFkZ2Uge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDAuMzVyZW07XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxyXFxuICAgIGxpbmUtaGVpZ2h0OiAxO1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxyXFxuICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXHJcXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBjb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCAtd2Via2l0LWJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XFxyXFxuICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIC13ZWJraXQtYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dDtcXHJcXG4gICAgdHJhbnNpdGlvbjogY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJhY2tncm91bmQtY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dDtcXHJcXG4gICAgdHJhbnNpdGlvbjogY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJhY2tncm91bmQtY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dCwgLXdlYmtpdC1ib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmNiZWMwO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxuICAgIGZvbnQtc2l6ZTogOHB4O1xcclxcbiAgICB3aWR0aDogMTJweDtcXHJcXG4gICAgaGVpZ2h0OiAxMnB4O1xcclxcbiAgICBtYXJnaW46IDNweCAxM3B4IDAgMDtcXHJcXG4gICAgcGFkZGluZy10b3A6IDEuN3B4O1xcclxcbiAgICBwYWRkaW5nLWxlZnQ6IDEuMXB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1jb250ZW50cyAuZGV0YWlsLWd1aWRlLXdyYXBwZXIgLm9wZW4tZGV0YWlsLWd1aWRlLXdyYXBwZXIgLnRleHQge1xcclxcbiAgICBjb2xvcjogIzQwNkJCMjtcXHJcXG4gICAgZm9udC1zaXplOiAxMXB4O1xcclxcbiAgICBmb250LXdlaWdodDogNjAwO1xcclxcbn1cXHJcXG5cXHJcXG4ud2VibnBraS13cmFwcGVyIC5wZngtcGFzc3dvcmQtd3JhcHBlciB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgbGVmdDogNTAlO1xcclxcbiAgICB0b3A6IDUwJTtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IC0xMzhweDtcXHJcXG4gICAgbWFyZ2luLXRvcDogLTIzOHB4O1xcclxcbiAgICB6LWluZGV4OiAxMjAwMTtcXHJcXG4gICAgd2lkdGg6IDI2N3B4O1xcclxcbiAgICBoZWlnaHQ6IDIzNXB4O1xcclxcbiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XFxyXFxuICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcclxcbiAgICBvcGFjaXR5OiAxO1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDNkM2QzO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxyXFxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDVweCByZ2JhKDEyLCAxMSwgMTEsIDAuMjUpO1xcclxcbn1cXHJcXG5cXHJcXG4ud2VibnBraS13cmFwcGVyIC5wZngtcGFzc3dvcmQtd3JhcHBlciAucGZ4LXBhc3N3b3JkLWhlYWRlciB7XFxyXFxuICAgIG1hcmdpbi10b3A6IDI1cHg7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XFxyXFxufVxcclxcblxcclxcbi53ZWJucGtpLXdyYXBwZXIgLnBmeC1wYXNzd29yZC13cmFwcGVyIC5wZngtcGFzc3dvcmQtaGVhZGVyIHNwYW4ge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBmb250LXNpemU6IDE4cHg7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxyXFxufVxcclxcblxcclxcbi53ZWJucGtpLXdyYXBwZXIgLnBmeC1wYXNzd29yZC13cmFwcGVyIC5wZngtcGFzc3dvcmQtYm9keSB7XFxyXFxuICAgIGJhY2tncm91bmQ6ICNmM2Y2ZmE7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMmUyZTI7XFxyXFxuICAgIHBhZGRpbmc6IDEycHggMTJweDtcXHJcXG59XFxyXFxuXFxyXFxuLndlYm5wa2ktd3JhcHBlciAucGZ4LXBhc3N3b3JkLXdyYXBwZXIgLnBmeC1wYXNzd29yZC1ib2R5IHNwYW4ge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBmb250LXNpemU6IDEzcHg7XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOiAtMC4yNXB4O1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi53ZWJucGtpLXdyYXBwZXIgLnBmeC1wYXNzd29yZC13cmFwcGVyIC5wZngtcGFzc3dvcmQtYm9keSAucGZ4LXBhc3N3b3JkLWlucHV0IHtcXHJcXG4gICAgbWFyZ2luLXRvcDogMTZweDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuLndlYm5wa2ktd3JhcHBlciAucGZ4LXBhc3N3b3JkLXdyYXBwZXIgLnBmeC1wYXNzd29yZC1ib2R5IC5wZngtcGFzc3dvcmQtaW5wdXQgLnBmeC1xbGFsZnFqc2doIHtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYjBiMGIwO1xcclxcbiAgICBib3JkZXItY29sb3I6ICM0MDZCQjI7XFxyXFxuICAgIHBhZGRpbmc6IDAgNXB4O1xcclxcbiAgICBoZWlnaHQ6IDMwcHg7XFxyXFxuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXHJcXG59XFxyXFxuXFxyXFxuLndlYm5wa2ktd3JhcHBlciAucGZ4LXBhc3N3b3JkLXdyYXBwZXIgLnBmeC1wYXNzd29yZC1mb290ZXIge1xcclxcbiAgICBtYXJnaW4tdG9wOiA4cHg7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDhweDtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyXFxyXFxufVxcclxcblxcclxcbi53ZWJucGtpLXdyYXBwZXIgLnBmeC1wYXNzd29yZC13cmFwcGVyIC5wZngtcGFzc3dvcmQtZm9vdGVyIGJ1dHRvbiB7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBoZWlnaHQ6IDI4cHg7XFxyXFxuICAgIGNvbG9yOiAjZmZmO1xcclxcbiAgICB3aWR0aDogODNweCAhaW1wb3J0YW50O1xcclxcbiAgICBtYXJnaW46IDEwcHg7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcXHJcXG4gICAgbWFyZ2luLXJpZ2h0OiA2LjVweCAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4ud2VibnBraS13cmFwcGVyIC5wZngtcGFzc3dvcmQtd3JhcHBlciAucGZ4LXBhc3N3b3JkLWZvb3RlciAuY29uZmlybS1idXR0b24ge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjY2YWI3ICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi53ZWJucGtpLXdyYXBwZXIgLnBmeC1wYXNzd29yZC13cmFwcGVyIC5wZngtcGFzc3dvcmQtZm9vdGVyIC5jYW5jZWwtYnV0dG9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Y3RjdGOCAhaW1wb3J0YW50O1xcclxcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMjY2YWI3ICFpbXBvcnRhbnQ7XFxyXFxuICAgIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi53ZWJucGtpLXdyYXBwZXIgLmRpbSB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICB6LWluZGV4OiAxMjAwMDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxyXFxuICAgIG9wYWNpdHk6IC42O1xcclxcbiAgICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NTApO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4vKiBmaW5kIGNlcnRpZmljYXRlICovXFxyXFxuXFxyXFxuLmZpbmQtcGZ4LXdyYXBwZXIgLmRpbSB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICB6LWluZGV4OiAxMDAwMDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxyXFxuICAgIG9wYWNpdHk6IC41O1xcclxcbiAgICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NTApO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG4uZmluZC1wZngtd3JhcHBlciAuZmluZC1wZngtY29udGFpbmVyIHtcXHJcXG4gICAgd2lkdGg6IDM5NHB4O1xcclxcbiAgICBoZWlnaHQ6IDQwMHB4O1xcclxcbiAgICBiYWNrZ3JvdW5kOiAjRjdGN0Y4O1xcclxcbiAgICB6LWluZGV4OiAxMDAwMTtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6IDUwJTtcXHJcXG4gICAgbGVmdDogNTAlO1xcclxcbiAgICBtYXJnaW4tbGVmdDogLTE5N3B4O1xcclxcbiAgICBtYXJnaW4tdG9wOiAtMjU0cHg7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXHJcXG59XFxyXFxuXFxyXFxuLmZpbmQtcGZ4LXdyYXBwZXIgLmZpbmQtcGZ4LWhlYWRlciB7XFxyXFxuICAgIGhlaWdodDogNDZweDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI2NmFiNztcXHJcXG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xcclxcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uZmluZC1wZngtd3JhcHBlciAuZmluZC1wZngtaGVhZGVyIHNwYW4ge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcclxcbiAgICBmb250LXNpemU6IDE0cHg7XFxyXFxuICAgIHBhZGRpbmctdG9wOiAxN3B4O1xcclxcbiAgICBwYWRkaW5nLWxlZnQ6IDQzcHg7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmZpbmQtcGZ4LXdyYXBwZXIgLmNvbnZlcnQtcGZ4LXdyYXBwZXIge1xcclxcbiAgICBwYWRkaW5nOiAyNXB4IDI1cHggMTJweCAyNXB4O1xcclxcbiAgICBtYXJnaW46IDI4cHggMjhweCAxNnB4IDI4cHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxyXFxuICAgIGJvcmRlcjogc29saWQ7XFxyXFxuICAgIGJvcmRlci13aWR0aDogMXB4O1xcclxcbiAgICBib3JkZXItY29sb3I6ICMyNjZBQjc7XFxyXFxufVxcclxcblxcclxcbi5maW5kLXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC1oZWFkZXIge1xcclxcbiAgICBtYXJnaW46IDAgNXB4IDE1cHggMHB4O1xcclxcbiAgICBwYWRkaW5nLWxlZnQ6IDExcHg7XFxyXFxufVxcclxcblxcclxcbi5maW5kLXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC1oZWFkZXIgc3BhbiB7XFxyXFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTNweDtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IDE0cHg7XFxyXFxufVxcclxcblxcclxcbi5maW5kLXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC1kb3dubG9hZCB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMjJweDtcXHJcXG59XFxyXFxuXFxyXFxuLmZpbmQtcGZ4LXdyYXBwZXIgLmNvbnZlcnQtcGZ4LXdyYXBwZXIgLmNvbnZlcnQtcGZ4LWRvd25sb2FkIGEge1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNGMEYzRjk7XFxyXFxuICAgIHdpZHRoOiAyMThweDtcXHJcXG4gICAgaGVpZ2h0OiAzMnB4O1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIHBhZGRpbmctdG9wOiA5cHg7XFxyXFxufVxcclxcblxcclxcbi5maW5kLXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC1kb3dubG9hZCBzcGFuIHtcXHJcXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxyXFxuICAgIGNvbG9yOiAjMjY2YWI3O1xcclxcbiAgICBtYXJnaW4tbGVmdDogN3B4O1xcclxcbn1cXHJcXG5cXHJcXG4uZmluZC1wZngtd3JhcHBlciAuY29udmVydC1wZngtd3JhcHBlciAuY29udmVydC1wZngtc3RlcC13cmFwcGVyIHtcXHJcXG4gICAgcGFkZGluZzogMCA3cHg7XFxyXFxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcclxcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgLW1zLWZsZXgtd3JhcDogd3JhcDtcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4XFxyXFxufVxcclxcblxcclxcbi5maW5kLXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC13cmFwcGVyIC5jb252ZXJ0LXBmeC1zdGVwLXdyYXBwZXIgLnN0ZXAtdGV4dCB7XFxyXFxuICAgIHdpZHRoOiAyNDJweDtcXHJcXG4gICAgZm9udC1zaXplOiAxMXB4O1xcclxcbiAgICBsaW5lLWhlaWdodDogMTNweDtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6IC0wLjdweDtcXHJcXG59XFxyXFxuXFxyXFxuLmZpbmQtcGZ4LXdyYXBwZXIgLmNvbnZlcnQtcGZ4LXdyYXBwZXIgLmNvbnZlcnQtcGZ4LXN0ZXAtd3JhcHBlciAuc3RlcC10ZXh0IHNwYW4ge1xcclxcbiAgICBjb2xvcjogIzI2NmFiNztcXHJcXG59XFxyXFxuXFxyXFxuLmZpbmQtcGZ4LXdyYXBwZXIgLmNvbnZlcnQtcGZ4LXdyYXBwZXIgLnN0ZXAtbnVtYmVyIHtcXHJcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAwLjM1cmVtO1xcclxcbiAgICBmb250LXdlaWdodDogNzAwO1xcclxcbiAgICBsaW5lLWhlaWdodDogMTtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcclxcbiAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxyXFxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJhY2tncm91bmQtY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgLXdlYmtpdC1ib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0O1xcclxcbiAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCAtd2Via2l0LWJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XFxyXFxuICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XFxyXFxuICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQsIC13ZWJraXQtYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQwNkJCMjtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICBmb250LXNpemU6IDdweDtcXHJcXG4gICAgd2lkdGg6IDEycHg7XFxyXFxuICAgIGhlaWdodDogMTJweDtcXHJcXG4gICAgbWFyZ2luOiAwIDEycHggMCAwO1xcclxcbiAgICBwYWRkaW5nLXRvcDogMS43cHg7XFxyXFxufVxcclxcblxcclxcbi5maW5kLXBmeC13cmFwcGVyIC5maW5kLXBmeC1mb290ZXIge1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5maW5kLXBmeC13cmFwcGVyIC5maW5kLXBmeC1mb290ZXIgYnV0dG9uIHtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xcclxcbiAgICBib3JkZXI6IG5vbmU7XFxyXFxuICAgIGhlaWdodDogMjZweDtcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxuICAgIHdpZHRoOiA5M3B4ICFpbXBvcnRhbnQ7XFxyXFxuICAgIG1hcmdpbjogMCA1cHggIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuLmZpbmQtcGZ4LXdyYXBwZXIgLmZpbmQtcGZ4LWZvb3RlciAuY29uZmlybS1idXR0b24ge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjY2YWI3ICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi5maW5kLXBmeC13cmFwcGVyIC5maW5kLXBmeC1mb290ZXIgLmNhbmNlbC1idXR0b24ge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjdGN0Y4ICFpbXBvcnRhbnQ7XFxyXFxuICAgIGJvcmRlcjogc29saWQgMXB4ICMyNjZhYjcgIWltcG9ydGFudDtcXHJcXG4gICAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuLyogQ3VzdG9taXNlIENTUyAqL1xcclxcblxcclxcbi5raWNhLWQtbm9uZSB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciAuYnJvd3Nlci1kZXRhaWwtZ3VpZGUge1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiA2NTBweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciAuaWNvbi12a2V5Ym9hcmQge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxyXFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiAtMzZweDtcXHJcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18xX19fICsgXCIpO1xcclxcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcclxcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcclxcbiAgICB3aWR0aDogMjlweDtcXHJcXG4gICAgaGVpZ2h0OiAxOHB4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIC5pY29uLWRvd24ge1xcclxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzJfX18gKyBcIik7XFxyXFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxyXFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXHJcXG4gICAgd2lkdGg6IDE1cHg7XFxyXFxuICAgIGhlaWdodDogMTVweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciAuaWNvbi12a2V5Ym9hcmQuYWN0aXZlIHtcXHJcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18zX19fICsgXCIpO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIC5pY29uLWNlcnQge1xcclxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzRfX18gKyBcIik7XFxyXFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yIGVwZWF0O1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGZsb2F0OiBsZWZ0O1xcclxcbiAgICBtYXJnaW4tbGVmdDogN3B4O1xcclxcbiAgICB3aWR0aDogMTZweDtcXHJcXG4gICAgaGVpZ2h0OiAxM3B4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIC5pY29uLXF1ZXN0aW9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX181X19fICsgXCIpO1xcclxcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIHdpZHRoOiAxN3B4O1xcclxcbiAgICBoZWlnaHQ6IDE3cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgLmljb24tZmFxIHtcXHJcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX182X19fICsgXCIpO1xcclxcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcclxcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxyXFxuICAgIHdpZHRoOiAxOHB4O1xcclxcbiAgICBoZWlnaHQ6IDE4cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgLmljb24tZmluZC1jZXJ0IHtcXHJcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX183X19fICsgXCIpO1xcclxcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcclxcbiAgICB3aWR0aDogMjRweDtcXHJcXG4gICAgaGVpZ2h0OiAxOHB4OyBcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciAuaWNvbi1kZWxldGUtY2VydCB7XFxyXFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fOF9fXyArIFwiKTtcXHJcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXHJcXG4gICAgd2lkdGg6IDI0cHg7XFxyXFxuICAgIGhlaWdodDogMThweDtcXHJcXG59XFxyXFxuI3NlY3VraXQtd3JhcHBlciAuaWNvbi1jbG9zZSB7XFxyXFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fOV9fXyArIFwiKTtcXHJcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXHJcXG4gICAgd2lkdGg6IDE1cHg7XFxyXFxuICAgIGhlaWdodDogMTVweDtcXHJcXG4gICAgZmxvYXQ6IHJpZ2h0O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIC5pY29uLWJyb3dzZXIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzEwX19fICsgXCIpO1xcclxcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcclxcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcclxcbiAgICBoZWlnaHQ6IDM1cHg7XFxyXFxuICAgIHdpZHRoOiAzNXB4O1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIG1hcmdpbi1yaWdodDogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciAuYmctbGlnaHQtYmx1ZSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNGMEY1RkYgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciAub3Blbi1ndWlkZSB7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiAtNDAwcHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgLmRyb3B6b25lLXdyYXBwZXIge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIG1hcmdpbi10b3A6IDI1cHg7XFxyXFxuICAgIHdpZHRoOiAzODBweDtcXHJcXG4gICAgaGVpZ2h0OiA3NHB4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIC5kcm9wem9uZS13cmFwcGVyIC5kcm9wem9uZS1pY29uIHtcXHJcXG4gICAgd2lkdGg6IDgwcHg7XFxyXFxuICAgIGhlaWdodDogNjJweDtcXHJcXG4gICAgZmxvYXQ6IGxlZnQ7XFxyXFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMTFfX18gKyBcIik7XFxyXFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6IDEycHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgLmRyb3B6b25lLXdyYXBwZXIgLmRyb3B6b25lLWNvbW1lbnQge1xcclxcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcXHJcXG4gICAgd2lkdGg6IDMwMHB4O1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxuICAgIHBhZGRpbmctdG9wOiA1cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgLmRyb3B6b25lLXdyYXBwZXIgLmRyb3B6b25lLWNvbW1lbnQgc3BhbiB7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBtYXJnaW46IDdweCAwO1xcclxcbiAgICBmb250LXNpemU6IDExcHg7XFxyXFxuICAgIGNvbG9yOiAjOTE5MTkxO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIC5kZXRhaWwtZ3VpZGUge1xcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIHotaW5kZXg6IDEwMDAzO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgIGRpc3BsYXk6IGluaXRpYWw7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxuICAgIG92ZXJmbG93OiBhdXRvO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMCwgMCk7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40KTtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlciAuZGV0YWlsLWd1aWRlLWNvbnRlbnQge1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbm9uZTtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICB3aWR0aDogNzk3cHg7XFxyXFxuICAgIGhlaWdodDogMTAwdmg7XFxyXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gICAgdG9wOiA0NSU7XFxyXFxuICAgIGxlZnQ6IDUwJTtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IC00MDBweDtcXHJcXG4gICAgbWFyZ2luLXRvcDogLTQwMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyIC5jbG9zZS1kZXRhaWwtZ3VpZGUge1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgZmxvYXQ6IHJpZ2h0O1xcclxcbiAgICBmb250LXNpemU6IDUwcHg7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6IC01cHg7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXIgLmNsb3NlLWRldGFpbC1ndWlkZTpob3ZlcixcXHJcXG4jc2VjdWtpdC13cmFwcGVyIC5jbG9zZS1kZXRhaWwtZ3VpZGU6Zm9jdXMge1xcclxcbiAgICBjb2xvcjogYmxhY2s7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4udmstY29udGFpbmVyIHtcXHJcXG4gICAgcGFkZGluZzogMC43cmVtIDAuNXJlbSAwLjVyZW0gMC41cmVtICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi52ay1idXR0b24ge1xcclxcbiAgICBoZWlnaHQ6IDJyZW0gIWltcG9ydGFudDtcXHJcXG4gICAgbGluZS1oZWlnaHQ6IDJyZW0gIWltcG9ydGFudDtcXHJcXG4gICAgbWluLXdpZHRoOiAycmVtICFpbXBvcnRhbnQ7XFxyXFxuICAgIG1hcmdpbjogMC4xcmVtIWltcG9ydGFudDtcXHJcXG4gICAgYmFja2dyb3VuZDogIzQ0NCAhaW1wb3J0YW50O1xcclxcbiAgICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuLnZrLWJ1dHRvbi1lbnRlciB7XFxyXFxuICAgIGJhY2tncm91bmQ6ICMyNjZhYjcgIWltcG9ydGFudDtcXHJcXG4gICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi52ay1idXR0b24tc2hpZnQtZG93biB7XFxyXFxuICAgIGJhY2tncm91bmQ6IGRhcmtncmF5ICFpbXBvcnRhbnQ7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4udmstYnV0dG9uIHNwYW4ge1xcclxcbiAgICBmb250LXNpemU6IDFyZW0gIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuLyogRlIgKi9cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImZyXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciB7XFxyXFxuICAgIGhlaWdodDogNTk0cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwiZnJcXFwiXSAuc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmNlcnQtbGlzdC1sYWJlbCB7XFxyXFxuICAgIHBhZGRpbmctdG9wOiA1NnB4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImZyXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5jZXJ0LXBhc3N3b3JkLWxhYmVsIHtcXHJcXG4gICAgbWFyZ2luLXRvcDogNDBweCAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImZyXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuY29udGVudC13cmFwcGVyIC5jZXJ0LWxpc3QgdGFibGUgdGgge1xcclxcbiAgICBwYWRkaW5nOiAwIDRweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJmclxcXCJdIC5zZWN1a2l0LWRpYWxvZyAuc2VsZWN0LWNlcnRpZmljYXRlLXdyYXBwZXIgLmNvbnRlbnQtd3JhcHBlciAuY2VydC1saXN0IHRhYmxlIHRoIHNwYW4ge1xcclxcbiAgICBmb250LXNpemU6IDExcHg7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwiZnJcXFwiXSAuc2VjdWtpdC1kaWFsb2cgLnNlbGVjdC1jZXJ0aWZpY2F0ZS13cmFwcGVyIC5jb250ZW50LXdyYXBwZXIgLmlucHV0LXBhc3N3b3JkLWZvcm0gLmNlcnQtcWxhbGZxanNnaCB7XFxyXFxuICAgIHBhZGRpbmc6IDAgMCAwIDdweDtcXHJcXG4gICAgZm9udC1zaXplOiAxMXB4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImZyXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciBidXR0b24ge1xcclxcbiAgICBtYXJnaW46IDEwcHggNC41cHggNXB4IDhweCAhaW1wb3J0YW50XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwiZnJcXFwiXSAuc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciB7XFxyXFxuICAgIGhlaWdodDogNTk0cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwiZnJcXFwiXSAuc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1oZWFkZXIge1xcclxcbiAgICBoZWlnaHQ6IDEzMHB4O1xcclxcbiAgICBwYWRkaW5nOiAwIDI1cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwiZnJcXFwiXSAuc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1oZWFkZXIgaDEge1xcclxcbiAgICBmb250LXNpemU6IDE2cHg7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDE2cHggIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJmclxcXCJdIC5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWhlYWRlciAudGV4dCBoMiB7XFxyXFxuICAgIG1hcmdpbi10b3A6IDAgIWltcG9ydGFudDtcXHJcXG4gICAgd2lkdGg6IDIzNnB4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImZyXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMge1xcclxcbiAgICBwYWRkaW5nOiAwIDI1cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwiZnJcXFwiXSAuc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1jb250ZW50cyBociB7XFxyXFxuICAgIG1hcmdpbjogNXB4IC0yNXB4IDVweCAtMjVweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJmclxcXCJdIC5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWNvbnRlbnRzIGgyIHtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcXHJcXG4gICAgbGluZS1oZWlnaHQ6IDE2cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwiZnJcXFwiXSAuc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1jb250ZW50cyAuYnJvd3Nlci1ndWlkZS1zdGVwcy13cmFwcGVyIHtcXHJcXG4gICAgcGFkZGluZzogMDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJmclxcXCJdIC5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWNvbnRlbnRzIC5icm93c2VyLWd1aWRlLXN0ZXBzLXdyYXBwZXIgLnN0ZXAtd3JhcHBlciAuc3RlcC10ZXh0IHtcXHJcXG4gICAgbGluZS1oZWlnaHQ6IDE0cHg7XFxyXFxuICAgIHdpZHRoOiAyNjJweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJmclxcXCJdIC5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWNvbnRlbnRzIC5kZXRhaWwtZ3VpZGUtd3JhcHBlciB7XFxyXFxuICAgIG1hcmdpbi10b3A6IDE0cHg7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwiZnJcXFwiXSAuc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1jb250ZW50cyAuZGV0YWlsLWd1aWRlLXdyYXBwZXIgYSB7XFxyXFxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcclxcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgLW1zLWZsZXgtd3JhcDogd3JhcDtcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImZyXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMgLmRldGFpbC1ndWlkZS13cmFwcGVyIC5vcGVuLWRldGFpbC1ndWlkZS13cmFwcGVyIC50ZXh0IHtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcXHJcXG4gICAgd2lkdGg6IDI2MnB4O1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTFweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJmclxcXCJdIC53ZWJucGtpLXdyYXBwZXIgLnBmeC1wYXNzd29yZC13cmFwcGVyIC5wZngtcGFzc3dvcmQtaGVhZGVyIHNwYW4ge1xcclxcbiAgICBmb250LXdlaWdodDogNTAwO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImZyXFxcIl0gLmJyb3dzZXItZGV0YWlsLWd1aWRlIHtcXHJcXG4gICAgaGVpZ2h0OiA3OTdweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJmclxcXCJdIC5pY29uLWJyb3dzZXIge1xcclxcbiAgICBtYXJnaW4tdG9wOiA0cHg7XFxyXFxufVxcclxcblxcclxcblxcclxcbi8qIGtvICovXFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJrb1xcXCJdIC5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWNvbnRlbnRzIC5icm93c2VyLWd1aWRlLXN0ZXBzLXdyYXBwZXIgLnN0ZXAtd3JhcHBlciB7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDdweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJrb1xcXCJdIGgxLFxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwia29cXFwiXSBoMixcXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImtvXFxcIl0gaDMsXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJrb1xcXCJdIGg0LFxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwia29cXFwiXSBoNSxcXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImtvXFxcIl0gaDYge1xcclxcbiAgICBmb250LXdlaWdodDogYm9sZDtcXHJcXG4gICAgbWFyZ2luLXRvcDogMDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMC44M2VtO1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImtvXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5zZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlciAuc2VsZWN0LWNlcnRpZmljYXRlLWhlYWRlciBoMSB7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbiNzZWN1a2l0LXdyYXBwZXJbbGFuZz1cXFwia29cXFwiXSAuc2VjdWtpdC1kaWFsb2cgLmJyb3dzZXItZ3VpZGUtd3JhcHBlciAuYnJvd3Nlci1ndWlkZS1oZWFkZXIgaDEge1xcclxcbiAgICBjbGVhcjogYm90aDtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJrb1xcXCJdIC53ZWJucGtpLXdyYXBwZXIgLnBmeC1wYXNzd29yZC13cmFwcGVyIHtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IC0xNTBweDtcXHJcXG4gICAgd2lkdGg6IDMwMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImtvXFxcIl0gLndlYm5wa2ktd3JhcHBlciAucGZ4LXBhc3N3b3JkLXdyYXBwZXIgLnBmeC1wYXNzd29yZC1ib2R5IHtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMjVweDtcXHJcXG59XFxyXFxuXFxyXFxuI3NlY3VraXQtd3JhcHBlcltsYW5nPVxcXCJrb1xcXCJdIC5zZWN1a2l0LWRpYWxvZyAuYnJvd3Nlci1ndWlkZS13cmFwcGVyIC5icm93c2VyLWd1aWRlLWhlYWRlciAudGV4dCBoMiB7XFxyXFxuICAgIHdpZHRoOiAyMjZweCAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImtvXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMgaHIge1xcclxcbiAgICBtYXJnaW46IDEzcHggLTI1cHggNXB4IC0yNXB4O1xcclxcbn1cXHJcXG5cXHJcXG4jc2VjdWtpdC13cmFwcGVyW2xhbmc9XFxcImtvXFxcIl0gLnNlY3VraXQtZGlhbG9nIC5icm93c2VyLWd1aWRlLXdyYXBwZXIgLmJyb3dzZXItZ3VpZGUtY29udGVudHMgLmJyb3dzZXItZ3VpZGUtc3RlcHMtd3JhcHBlciAuc3RlcC13cmFwcGVyIHsgICAgXFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHhcXHJcXG59XFxyXFxuXFxyXFxuLnN3YWwyLWNvbnRhaW5lciB7XFxyXFxuICAgIHotaW5kZXg6IDEwMDAwICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi5zd2FsMi10aXRsZSB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS4yMjVlbSAhaW1wb3J0YW50O1xcclxcbiAgICBtYXJnaW46IDAgMCAxZW0gIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuLnN3YWwyLWNvbnRlbnQge1xcclxcbiAgICBmb250LXNpemU6IDAuODc1ZW0gIWltcG9ydGFudDtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDYwMCAhaW1wb3J0YW50O1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzogMC4wMTI1ZW0gIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuLnN3YWwyLXBvcHVwIHtcXHJcXG4gICAgd2lkdGg6IDI2ZW0gIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuXCIsIFwiXCJdKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmwsIG5lZWRRdW90ZXMpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlLCBuby1wYXJhbS1yZWFzc2lnblxuICB1cmwgPSB1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsO1xuXG4gIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB1cmw7XG4gIH0gLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG5cblxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSB8fCBuZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKSwgXCJcXFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMTFlYWJjYTIyNTEzMjVjZmM1NTg5YzljNmZiNTdiNDYudHRmXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY2JlZGQ1MGZjYzEzZjkyNDA1ZDQ1MGFmMzg1ZDdjNWIucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOWYzMzE0NDQyNjg3M2IxZGIwZDM1MmIxYWRiMDQ0ZDIucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYWEyYWFjYzlhODQwYmI5Mzg4NjYyYTU4Zjc5NDI3OGQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMzkyMDYxYTI5ODkzOGNiMDhhNGMxNTg1ZjFkNGJjMzYucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNzM5Y2ExOTA2MmIzYWUwYTk1ZGM0OGJhNzYyZTNmNzIucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYzY5Y2Q4Mzc1YTJkYWU3ZmM4NjQxZTQyZjExNWMwMzAucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYTUyNGNhM2MwMzQyYTE4OGExYWQzMzk2ODMwNzBmZWEucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMWEwYTY3NGFmYjVmNzA4NzIzZmJhNWNmZTUwNzViZGMucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNGJhNGI3MTZkNDNmNTkzM2RjZTc5NTAyYTQyM2IxYWEucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDkzMzZiOTcxYTViZjQyMjUzMTJiMTc2ZmIxMTc2NjQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNTc1ZjQwZmVlMGY2MzdmZjBjZGJhOWEzZmQ2ODNlZDgucG5nXCI7IiwidmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2tleWJvYXJkLWJhc2ljLmNzc1wiKTtcblxuaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG59XG5cbnZhciBvcHRpb25zID0ge31cblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYgKGNvbnRlbnQubG9jYWxzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG59XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qICoqKiBrZXlib2FyZCBsaWdodCB0aGVtZSAqKipcXHJcXG4gIGZvciB3aGVuIGpRdWVyeSBVSSB0aGVtZXMgYXJlIG5vdCBiZWluZyB1c2VkXFxyXFxuICBTZWUgaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvTW90dGllL2pzaDAzNzdrL1xcclxcbiAqL1xcclxcbi51aS1rZXlib2FyZCB7XFxyXFxuICAgIGJhY2tncm91bmQ6ICNGRkY7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMyOTI5Mjk7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XFxyXFxuICAgIGJveC1zaGFkb3c6IDJweCAycHggMnB4IGdyYXk7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgZm9udC1zaXplOjE4cHg7XFxyXFxuICAgIHBhZGRpbmc6IC4zZW07XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgbGVmdDogMDtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICB6LWluZGV4OiA4NjAwMDtcXHJcXG4gICAgLyogc2VlIGlzc3VlICM0ODQgKi9cXHJcXG4gICAgLW1zLXRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xcclxcbiAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcXHJcXG59XFxyXFxuXFxyXFxuLnVpLWtleWJvYXJkMiB7XFxyXFxuXFx0LyogYWRqdXN0IG92ZXJhbGwga2V5Ym9hcmQgc2l6ZSB1c2luZyBcXFwiZm9udC1zaXplXFxcIiAqL1xcclxcblxcdGZvbnQtc2l6ZTogMTRweDtcXHJcXG5cXHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuXFx0YmFja2dyb3VuZDogI2ZlZmVmZTtcXHJcXG5cXHRib3JkZXI6IDFweCBzb2xpZCAjYWFhO1xcclxcblxcdHBhZGRpbmc6IDRweDtcXHJcXG5cXHJcXG5cXHQvKiBpbmNsdWRlIHRoZSBmb2xsb3dpbmcgc2V0dGluZyB0byBwbGFjZSB0aGVcXHJcXG5cXHRrZXlib2FyZCBhdCB0aGUgYm90dG9tIG9mIHRoZSBicm93c2VyIHdpbmRvdyAqL1xcclxcblxcdHdpZHRoOiAxMDAlO1xcclxcblxcdGhlaWdodDogYXV0bztcXHJcXG5cXHRsZWZ0OiAwcHg7XFxyXFxuXFx0dG9wOiBhdXRvO1xcclxcblxcdGJvdHRvbTogMHB4O1xcclxcblxcdHBvc2l0aW9uOiBmaXhlZDtcXHJcXG5cXHR3aGl0ZS1zcGFjZTogbm93cmFwO1xcclxcblxcdG92ZXJmbG93LXg6IGF1dG87XFxyXFxuXFx0Lyogc2VlIGlzc3VlICM0ODQgKi9cXHJcXG5cXHQtbXMtdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XFxyXFxuXFx0dG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XFxyXFxufVxcclxcbi51aS1rZXlib2FyZC1oYXMtZm9jdXMge1xcclxcblxcdHotaW5kZXg6IDg2MDAxO1xcclxcbn1cXHJcXG4udWkta2V5Ym9hcmQtYnV0dG9uIHtcXHJcXG5cXHRib3JkZXI6IDFweCBzb2xpZCAjYWFhO1xcclxcblxcdHBhZGRpbmc6IDAgMC41ZW07XFxyXFxuXFx0bWFyZ2luOiAxcHg7XFxyXFxuXFx0bWluLXdpZHRoOiAzZW07XFxyXFxuXFx0aGVpZ2h0OiAzZW07XFxyXFxuXFx0bGluZS1oZWlnaHQ6IDNlbTtcXHJcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcclxcblxcdGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xcclxcblxcdGNvbG9yOiAjMzMzO1xcclxcblxcdHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG5cXHRib3JkZXItcmFkaXVzOiA1cHg7XFxyXFxuXFx0LXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDNweCAwIHJnYmEoMCwgMCwgMCwgMC41KTtcXHJcXG5cXHRib3gtc2hhZG93OiAxcHggMXB4IDNweCAwIHJnYmEoMCwgMCwgMCwgMC41KTtcXHJcXG5cXHRiYWNrZ3JvdW5kOiB3aGl0ZTtcXHJcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgtOTBkZWcsIHdoaXRlIDAlLCAjZTNlM2UzIDEwMCUpO1xcclxcblxcdGJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KC05MGRlZywgd2hpdGUgMCUsICNlM2UzZTMgMTAwJSk7XFxyXFxuXFx0Y3Vyc29yOiBwb2ludGVyO1xcclxcblxcdG92ZXJmbG93OiBoaWRkZW47XFxyXFxuXFx0LW1vei11c2VyLWZvY3VzOiBpZ25vcmU7XFxyXFxufVxcclxcbi51aS1rZXlib2FyZC1idXR0b246bm90KFtkaXNhYmxlZF0pOmhvdmVyIHtcXHJcXG5cXHRiYWNrZ3JvdW5kOiAjZWVlO1xcclxcblxcdGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KC05MGRlZywgI2YyZjJmMiAwJSwgI2QzZDNkMyAxMDAlKTtcXHJcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCgtOTBkZWcsICNmMmYyZjIgMCUsICNkM2QzZDMgMTAwJSk7XFxyXFxufVxcclxcbi51aS1rZXlib2FyZC1idXR0b246bm90KFtkaXNhYmxlZF0pOmFjdGl2ZSB7XFxyXFxuXFx0YmFja2dyb3VuZDogI2RkZDtcXHJcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgtOTBkZWcsICNlNWU1ZTUgMCUsICNkM2QzZDMgMTAwJSk7XFxyXFxuXFx0YmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQoLTkwZGVnLCAjZTVlNWU1IDAlLCAjZDNkM2QzIDEwMCUpO1xcclxcbn1cXHJcXG4udWkta2V5Ym9hcmQtYnV0dG9uIHNwYW4ge1xcclxcblxcdGRpc3BsYXk6IGJsb2NrO1xcclxcblxcdHdpZHRoOiAxMDAlO1xcclxcblxcdGZvbnQtc2l6ZTogMS4yZW07XFxyXFxuXFx0dGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG4vKiBtYWtlIGFjdGlvbiBrZXlzIGV4dHJhLXdpZGUgKi9cXHJcXG4udWkta2V5Ym9hcmQtYWN0aW9ua2V5Om5vdCgudWkta2V5Ym9hcmQtZGVjKTpub3QoLnVpLWtleWJvYXJkLWNvbWJvKSB7XFxyXFxuXFx0bWluLXdpZHRoOiA2ZW07XFxyXFxufVxcclxcbi51aS1rZXlib2FyZC1zcGFjZSB7XFxyXFxuXFx0d2lkdGg6IDE1ZW07XFxyXFxufVxcclxcbi51aS1rZXlib2FyZC1hY3Rpb25rZXk6bm90KC51aS1rZXlib2FyZC1kZWMpOm5vdCgudWkta2V5Ym9hcmQtY29tYm8pIHNwYW4ge1xcclxcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG5cXHR0b3A6IDBweDtcXHJcXG5cXHRsZWZ0OiAwcHg7XFxyXFxufVxcclxcbi51aS1rZXlib2FyZC1wbGFjZWhvbGRlciB7XFxyXFxuXFx0Y29sb3I6ICM4ODg7XFxyXFxufVxcclxcbi8qIGRpc2FibGVkIG9yIHJlYWRvbmx5IGlucHV0cywgb3IgdXNlIGlucHV0W2Rpc2FibGVkPSdkaXNhYmxlZCddIHsgY29sb3I6ICNmMDA7IH0gKi9cXHJcXG4udWkta2V5Ym9hcmQtbm9rZXlib2FyZCB7XFxyXFxuXFx0Y29sb3I6ICM4ODg7XFxyXFxuXFx0Ym9yZGVyLWNvbG9yOiAjODg4O1xcclxcbn1cXHJcXG4udWkta2V5Ym9hcmQtc3BhY2VyIHtcXHJcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuXFx0d2lkdGg6IDFweDtcXHJcXG5cXHRoZWlnaHQ6IDA7XFxyXFxuXFx0Y3Vyc29yOiBkZWZhdWx0O1xcclxcbn1cXHJcXG4udWkta2V5Ym9hcmQtTkJTUCBzcGFuLCAudWkta2V5Ym9hcmQtWldTUCBzcGFuLCAudWkta2V5Ym9hcmQtWldOSiBzcGFuLCAudWkta2V5Ym9hcmQtWldKIHNwYW4sXFxyXFxuLnVpLWtleWJvYXJkLUxSTSBzcGFuLCAudWkta2V5Ym9hcmQtUkxNIHNwYW4ge1xcclxcblxcdGZvbnQtc2l6ZTogMC41ZW07XFxyXFxuXFx0bGluZS1oZWlnaHQ6IDEuNWVtO1xcclxcblxcdHdoaXRlLXNwYWNlOiBub3JtYWw7XFxyXFxufVxcclxcblxcclxcbi8qIGNvbWJvIGtleSBzdHlsaW5nIC0gdG9nZ2xlcyBkaWFjcml0aWNzIG9uL29mZiAqL1xcclxcbi51aS1rZXlib2FyZC1idXR0b24udWkta2V5Ym9hcmQtY29tYm8udWktc3RhdGUtZGVmYXVsdCB7XFxyXFxuXFx0LXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDNweCAwIHJnYmEoMjEzLCAxMzMsIDE4LCAwLjUpO1xcclxcblxcdCAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCAzcHggMCByZ2JhKDIxMywgMTMzLCAxOCwgMC41KTtcXHJcXG5cXHRib3JkZXItY29sb3I6ICNkNTg1MTI7XFxyXFxufVxcclxcbi51aS1rZXlib2FyZC1idXR0b24udWkta2V5Ym9hcmQtY29tYm8udWktc3RhdGUtYWN0aXZlIHtcXHJcXG5cXHQtd2Via2l0LWJveC1zaGFkb3c6IDFweCAxcHggM3B4IDAgcmdiYSgzOCwgMTU0LCAxODgsIDAuNSk7XFxyXFxuXFx0ICAgICAgICBib3gtc2hhZG93OiAxcHggMXB4IDNweCAwIHJnYmEoMzgsIDE1NCwgMTg4LCAwLjUpO1xcclxcblxcdGJvcmRlci1jb2xvcjogIzI2OWFiYztcXHJcXG59XFxyXFxuLyogKGluKXZhbGlkIGlucHV0cyAqL1xcclxcbmJ1dHRvbi51aS1rZXlib2FyZC1hY2NlcHQudWkta2V5Ym9hcmQtdmFsaWQtaW5wdXQge1xcclxcblxcdC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDFweCAzcHggMCByZ2JhKDU3LCAxMzIsIDU3LCAwLjUpO1xcclxcblxcdCAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCAzcHggMCByZ2JhKDU3LCAxMzIsIDU3LCAwLjUpO1xcclxcblxcdGJvcmRlci1jb2xvcjogIzM5ODQzOTtcXHJcXG59XFxyXFxuYnV0dG9uLnVpLWtleWJvYXJkLWFjY2VwdC51aS1rZXlib2FyZC12YWxpZC1pbnB1dDpub3QoW2Rpc2FibGVkXSk6aG92ZXIge1xcclxcblxcdGJvcmRlci1jb2xvcjogIzRjYWU0YztcXHJcXG59XFxyXFxuYnV0dG9uLnVpLWtleWJvYXJkLWFjY2VwdC51aS1rZXlib2FyZC1pbnZhbGlkLWlucHV0IHtcXHJcXG5cXHQtd2Via2l0LWJveC1zaGFkb3c6IDFweCAxcHggM3B4IDAgcmdiYSgxNzIsIDQxLCAzNywgMC41KTtcXHJcXG5cXHQgICAgICAgIGJveC1zaGFkb3c6IDFweCAxcHggM3B4IDAgcmdiYSgxNzIsIDQxLCAzNywgMC41KTtcXHJcXG5cXHRib3JkZXItY29sb3I6ICNhYzI5MjU7XFxyXFxufVxcclxcbmJ1dHRvbi51aS1rZXlib2FyZC1hY2NlcHQudWkta2V5Ym9hcmQtaW52YWxpZC1pbnB1dDpub3QoW2Rpc2FibGVkXSk6aG92ZXIge1xcclxcblxcdGJvcmRlci1jb2xvcjogI2Q0M2YzYTtcXHJcXG59XFxyXFxuLyogdW5sb2NrZWQgaWNvbiAoa2V5Ym9hcmQgZW5hYmxlZCkgKi9cXHJcXG5idXR0b24udWkta2V5Ym9hcmQtdG9nZ2xlIHNwYW4ge1xcclxcblxcdHdpZHRoOiAuOWVtO1xcclxcblxcdGhlaWdodDogLjllbTtcXHJcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuXFx0YmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXHJcXG5cXHRiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyO1xcclxcblxcdGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcXHJcXG5cXHQvKiBsaWdodCB0aGVtZSB1bmxvY2tlZCBpY29uIC0gZmlsbDogIzExMSAqL1xcclxcblxcdGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TUNJZ2FHVnBaMmgwUFNJeE1DSWdabWxzYkQwaUl6RXhNU0krUEhCaGRHZ2daRDBpVFRndU55dzBMalJJTnk0MVNEVXVNSFl0TVM0NVl6QXRNUzQwTFRFdU1TMHlMalV0TWk0MUxUSXVOV010TVM0MExEQXRNaTQxTERFdU1TMHlMalVzTWk0MWRqRXVPV2d4TGpJZ2RpMHhMamxqTUMwd0xqY3NNQzQyTFRFdU1pd3hMakl0TVM0eWN6RXVNaXd3TGpZc01TNHlMREV1TW5ZeExqbGpMVEF1Tnl3d0xURXVNaXd3TGpZdE1TNHlMREV1TWxZNExqZ2dZekFzTUM0M0xEQXVOaXd4TGpJc01TNHlMREV1TW1nMUxqQkRPUzQwTERFd0xERXdMRGt1TkN3eE1DdzRMamhXTlM0MlF6RXdMRFV1TUN3NUxqUXNOQzQwTERndU9DdzBMalI2SUUwMkxqWXNOeTQwZGpFdU1DQmpNQ3d3TGpJdE1DNHhMREF1TXkwd0xqTXNNQzR6VXpZdU1DdzRMallzTmk0d0xEZ3VORlkzTGpSakxUQXVNaTB3TGpFdE1DNHpMVEF1TXkwd0xqTXRNQzQxWXpBdE1DNHpMREF1TXkwd0xqWXNNQzQyTFRBdU5pQlROaTQ1TERZdU5pdzJMamtzTmk0NVF6WXVPU3czTGpFc05pNDRMRGN1TXl3MkxqWXNOeTQwZWlJdlBqd3ZjM1puUGc9PScpO1xcclxcbn1cXHJcXG4vKiBsb2NrZWQgaWNvbiAoa2V5Ym9hcmQgZGlzYWJsZWQpICovXFxyXFxuYnV0dG9uLnVpLWtleWJvYXJkLXRvZ2dsZS51aS1rZXlib2FyZC1kaXNhYmxlZCBzcGFuIHtcXHJcXG5cXHQvKiBsaWdodCB0aGVtZSBsb2NrZWQgaWNvbiAtIGZpbGw6ICMxMTEgKi9cXHJcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE1DSWdhR1ZwWjJoMFBTSXhNQ0lnWm1sc2JEMGlJekV4TVNJK1BIQmhkR2dnWkQwaVRUY3VOQ0EwTGpSV01pNDFZekF0TVM0MExURXVNUzB5TGpVdE1pNDFMVEl1TldNdE1TNDBJREF0TWk0MUlERXVNUzB5TGpVZ01pNDFkakV1T1NCakxUQXVOeUF3TFRFdU1pQXdMalV0TVM0eUlERXVNbll6TGpGRE1TNHpJRGt1TkNBeExqZ2dNVEFnTWk0MUlERXdhRFF1T1dNd0xqY2dNQ0F4TGpJdE1DNDJJREV1TWkweExqSldOUzQySUVNNExqY2dOQzQ1SURndU1TQTBMalFnTnk0MElEUXVOSG9nVFRVdU15QTNMalIyTVM0d1l6QWdNQzR5TFRBdU1TQXdMak10TUM0eklEQXVNMk10TUM0eUlEQXRNQzR6TFRBdU1TMHdMak10TUM0elZqY3VOQ0JqTFRBdU1pMHdMakV0TUM0ekxUQXVNeTB3TGpNdE1DNDFZekF0TUM0eklEQXVNeTB3TGpZZ01DNDJMVEF1Tm1Nd0xqTWdNQ0F3TGpZZ01DNHpJREF1TmlBd0xqWWdRelV1TmlBM0xqRWdOUzQxSURjdU15QTFMak1nTnk0MGVpQk5OaTR5SURRdU5FZ3pMamRXTWk0MVl6QXRNQzQzSURBdU5TMHhMaklnTVM0eUxURXVNbU13TGpjZ01DQXhMaklnTUM0MklERXVNaUF4TGpJZ1ZqUXVOSG9pTHo0OEwzTjJaejQ9Jyk7XFxyXFxufVxcclxcbi51aS1rZXlib2FyZC51aS1rZXlib2FyZC1kaXNhYmxlZCBidXR0b246bm90KC51aS1rZXlib2FyZC10b2dnbGUpLCAudWkta2V5Ym9hcmQudWkta2V5Ym9hcmQtZGlzYWJsZWQgaW5wdXQge1xcclxcblxcdG9wYWNpdHk6IDAuNTtcXHJcXG59XFxyXFxuXFxyXFxuLyoqKiBBbHQtS2V5cyBQb3B1cCBleHRlbnNpb24gKioqL1xcclxcbi8qIGNsaWNrYWJsZSBvdmVybGF5IG9uIHRvcCBvZiBrZXlib2FyZCB0byBoaWRlIHRoZSBwb3B1cCAqL1xcclxcbi51aS1rZXlib2FyZC1vdmVybGF5IHtcXHJcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuXFx0dG9wOiAwO1xcclxcblxcdGxlZnQ6IDA7XFxyXFxuXFx0Ym90dG9tOiAwO1xcclxcblxcdHJpZ2h0OiAwO1xcclxcblxcdGJhY2tncm91bmQ6IHJnYmEoMjM4LCAyMzgsIDIzOCwgMC41KTtcXHJcXG59XFxyXFxuLyogdGhlIGFjdHVhbCBwb3B1cCBzdHlsaW5nLCBjbGFzcyBuYW1lcyBmcm9tIHRoZSBjc3MuY29udGFpbmVyIG9wdGlvbiBhcmUgYWxzbyBhZGRlZCAqL1xcclxcbi51aS1rZXlib2FyZC1wb3B1cCB7XFxyXFxuXFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcblxcdC8qIGRlZmF1bHQgYnV0dG9ucyBhcmUgMmVtIHdpZGUgKyAuMWVtIG1hcmdpbiBvbiBlaXRoZXIgc2lkZSAoc2V0IGluIC51aS1rZXlib2FyZC1idXR0b24gZGVmaW5pdGlvbik7XFxyXFxuXFx0c28gdXNlIG11bHRpcGxlcyBvZiAyLjJlbVxcdGZvciBhIG1heC13aWR0aCBpZiB5b3UgZG9uJ3Qgd2FudCBhbnkgZXh0cmEgd2hpdGUgc3BhY2Ugb24gdGhlIHNpZGVzLFxcclxcblxcdGUuZy4gNSBidXR0b25zICogMi4yZW0gPSAxMWVtLCA2IGJ1dHRvbnMgKiAyLjJlbSA9IDEzLjJlbSwgZXRjICovXFxyXFxuXFx0bWF4LXdpZHRoOiAyMmVtO1xcclxcblxcdC8qIDEwIGJ1dHRvbnMgKi9cXHJcXG59XFxyXFxuLnVpLWtleWJvYXJkLnVpLWtleWJvYXJkLXBvcHVwLW9wZW4gLnVpLWtleWJvYXJkLWtleXNldCAudWkta2V5Ym9hcmQtYnV0dG9uIHtcXHJcXG5cXHQvKiBEaXNhYmxlIGtleXMgdW5kZXIgb3ZlcmxheSB3aGlsZSBwb3B1cCBpcyBvcGVuIC0gc2VlICM2NTQgKi9cXHJcXG5cXHRwb2ludGVyLWV2ZW50czogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLyoqKiBDYXJldCBleHRlbnNpb24gZGVmaW5pdGlvbiAqKiovXFxyXFxuLyogbWFyZ2luLXRvcCA9PiBpcyBhZGRlZCB0byB0aGUgY2FyZXQgaGVpZ2h0ICh0b3AgJiBib3R0b20pICovXFxyXFxuLnVpLWtleWJvYXJkLWNhcmV0IHtcXHJcXG5cXHRiYWNrZ3JvdW5kOiAjYzAwO1xcclxcblxcdHdpZHRoOiAxcHg7XFxyXFxuXFx0bWFyZ2luLXRvcDogM3B4O1xcclxcbn1cXHJcXG5cXHJcXG4vKioqIEV4dGVuZGVyIGtleWJvYXJkIGV4dGVuc2lvbiAqKiovXFxyXFxuZGl2LnVpLWtleWJvYXJkLWV4dGVuZGVyIHtcXHJcXG5cXHRtYXJnaW4tbGVmdDogNXB4O1xcclxcblxcdG1hcmdpbi1yaWdodDogMTBweDtcXHJcXG59XFxyXFxuYnV0dG9uLnVpLWtleWJvYXJkLWV4dGVuZGVyIHNwYW4ge1xcclxcblxcdHdpZHRoOiAuOWVtO1xcclxcblxcdGhlaWdodDogLjllbTtcXHJcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuXFx0bWFyZ2luLWJvdHRvbTogM3B4O1xcclxcblxcdGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxyXFxuXFx0YmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcXHJcXG5cXHRiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxyXFxuXFx0LyogbGlnaHQgdGhlbWUgZXh0ZW5kZXIgaWNvbiAtIGZpbGw6ICMxMTEgKi9cXHJcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE5pSWdhR1ZwWjJoMFBTSXhOaUlnYzNSNWJHVTlJbVpwYkd3Nkl6RXhNU0krUEdjK1BIQmhkR2dnYzNSNWJHVTlJbVpwYkd3NmJtOXVaVHR6ZEhKdmEyVTZJekV4TVNJZ1pEMGlUU0F3TGpVc05DNDFJREUxTGpVc05DNDFJREUxTGpVc01UVXVOU0F3TGpVc01UVXVOU0JhSWo0OEwzQmhkR2crUEhKbFkzUWdkMmxrZEdnOUlqSWlJR2hsYVdkb2REMGlNaUlnZUQwaU1pSWdlVDBpTmlJK1BDOXlaV04wUGp4eVpXTjBJSGRwWkhSb1BTSXlJaUJvWldsbmFIUTlJaklpSUhnOUlqVWlJSGs5SWpZaVBqd3ZjbVZqZEQ0OGNtVmpkQ0IzYVdSMGFEMGlNaUlnYUdWcFoyaDBQU0l5SWlCNFBTSTRJaUI1UFNJMklqNDhMM0psWTNRK1BIQmhkR2dnWkQwaWJTQXhNU3cySURNc01DQXdMRFVnTFRJc01DQXdMQzB6SUMweExEQWdlaUkrUEM5d1lYUm9Qanh5WldOMElIZHBaSFJvUFNJeUlpQm9aV2xuYUhROUlqSWlJSGc5SWpFeUlpQjVQU0l4TWlJK1BDOXlaV04wUGp4eVpXTjBJSGRwWkhSb1BTSTJJaUJvWldsbmFIUTlJaklpSUhnOUlqVWlJSGs5SWpFeUlqNDhMM0psWTNRK1BISmxZM1FnZDJsa2RHZzlJaklpSUdobGFXZG9kRDBpTWlJZ2VEMGlPU0lnZVQwaU9TSStQQzl5WldOMFBqeHlaV04wSUhkcFpIUm9QU0l5SWlCb1pXbG5hSFE5SWpJaUlIZzlJallpSUhrOUlqa2lQand2Y21WamRENDhjbVZqZENCM2FXUjBhRDBpTWlJZ2FHVnBaMmgwUFNJeUlpQjRQU0l5SWlCNVBTSXhNaUkrUEM5eVpXTjBQanh5WldOMElIZHBaSFJvUFNJeklpQm9aV2xuYUhROUlqSWlJSGc5SWpJaUlIazlJamtpUGp3dmNtVmpkRDQ4TDJjK1BDOXpkbWMrJyk7XFxyXFxufVxcclxcblwiLCBcIlwiXSk7XG4iLCJmdW5jdGlvbiBib3hlcygpIHtcclxuICAgIHZhciBvYmplY3QgPSB7fTtcclxuXHJcbiAgICBvYmplY3QubWFpbiA9ICc8ZGl2IGNsYXNzPVwic2VjdWtpdC1kaWFsb2dcIiBpZD1cInNlY3VraXQtZGlhbG9nXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJzZWxlY3QtY2VydGlmaWNhdGUtd3JhcHBlclwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic2VsZWN0LWNlcnRpZmljYXRlLWhlYWRlclwiPicgK1xyXG4gICAgICAgICc8aDE+JyArIEtJQ0FfQ09SUFVTLlNFTEVDVF9DRVJUX0hFQURFUiArICc8L2gxPicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImJhbm5lci13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxpbWcgc3JjPVwiJyArIHdlYm5wa2lfY29uZmlnLnBhdGggKyAnL2Fzc2V0cy9iYW5uZXIvZGVmYXVsdF9iYW5uZXIucG5nXCIgYWx0PVwiQSBXb3JsZCBvZiBUcnVzdCBLSUNBXCI+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGVudC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxhIGNsYXNzPVwia2ljYS1idXR0b25cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgb25jbGljaz1cIktJQ0FfRElBTE9HLm9wZW5HdWlkZSgpXCI+JyArXHJcbiAgICAgICAgJzxpIGNsYXNzPVwiaWNvbi1xdWVzdGlvblwiPjwvaT4nICtcclxuICAgICAgICAnPHNwYW4+JyArIEtJQ0FfQ09SUFVTLkJVVFRPTl9PUEVOX0dVSURFICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPC9hPicgK1xyXG4gICAgICAgICc8aDIgY2xhc3M9XCJjZXJ0LWxpc3QtbGFiZWxcIj4nICsgS0lDQV9DT1JQVVMuQ0VSVF9UQUJMRV9MQUJFTCArICc8L2gyPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY2VydC1saXN0XCIgb25kcmFnb3Zlcj1cIktJQ0FfRElBTE9HLm9uRHJhZ092ZXJDZXJ0KGV2ZW50KVwiIG9uZHJhZ2xlYXZlPVwiS0lDQV9ESUFMT0cub25EcmFnTGVhdmVDZXJ0KGV2ZW50KVwiIG9uZHJvcD1cIktJQ0FfRElBTE9HLm9uRHJvcENlcnQoZXZlbnQpXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkcm9wem9uZS13cmFwcGVyIGtpY2EtZC1ub25lXCIgaWQ9XCJkcm9wem9uZS13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkcm9wem9uZS1pY29uXCI+PC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkcm9wem9uZS1jb21tZW50XCI+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwiXCJkcm9wem9uZS1jb21tZW50LXRleHQ+JyArIEtJQ0FfQ09SUFVTLkRST1BaT05FX1RFWFRfMSArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwiXCJkcm9wem9uZS1jb21tZW50LXRleHQ+JyArIEtJQ0FfQ09SUFVTLkRST1BaT05FX1RFWFRfMiArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwiXCJkcm9wem9uZS1jb21tZW50LXRleHQ+JyArIEtJQ0FfQ09SUFVTLkRST1BaT05FX1RFWFRfMyArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPHRhYmxlIGlkPVwiY2VydC1saXN0LXRhYmxlXCI+JyArXHJcbiAgICAgICAgJzx0aGVhZD4nICtcclxuICAgICAgICAnPHRyPicgK1xyXG4gICAgICAgICc8dGggc2NvcGU9XCJjb2xcIj4nICtcclxuICAgICAgICAnPHNwYW4+JyArIEtJQ0FfQ09SUFVTLkNFUlRfVEFCTEVfVEhFQUQxICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPC90aD4nICtcclxuICAgICAgICAnPHRoIHNjb3BlPVwiY29sXCI+JyArXHJcbiAgICAgICAgJzxzcGFuPicgKyBLSUNBX0NPUlBVUy5DRVJUX1RBQkxFX1RIRUFEMiArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvdGg+JyArXHJcbiAgICAgICAgJzx0aCBzY29wZT1cImNvbFwiPicgK1xyXG4gICAgICAgICc8c3Bhbj4nICsgS0lDQV9DT1JQVVMuQ0VSVF9UQUJMRV9USEVBRDMgKyAnPC9zcGFuPicgK1xyXG4gICAgICAgICc8L3RoPicgK1xyXG4gICAgICAgICc8dGggc2NvcGU9XCJjb2xcIj4nICtcclxuICAgICAgICAnPHNwYW4+JyArIEtJQ0FfQ09SUFVTLkNFUlRfVEFCTEVfVEhFQUQ0ICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPC90aD4nICtcclxuICAgICAgICAnPC90cj4nICtcclxuICAgICAgICAnPC90aGVhZD4nICtcclxuICAgICAgICAnPHRib2R5IGlkPVwiY2VydC1saXN0XCI+JyArXHJcbiAgICAgICAgJzwvdGJvZHk+JyArXHJcbiAgICAgICAgJzwvdGFibGU+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v7LaU6rCALy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v67KE7Yq8IDLqsJzrpbwgZGl266GcIOustuyWtOyVvCDrkJjripTrjbAsIOustuydhCDrlYwg67CY65Oc7IucIOuGkuydtOqwgCDsu6jthZDsuKDsl5Ag66ee6rKMIOyImOygle2VtOyVvCDtlahcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImtpY2EtYnV0dG9uLXdyYXBwZXJcIj4nK1xyXG4gICAgICAgICc8YSBjbGFzcz1cImtpY2EtYnV0dG9uIGJnLWxpZ2h0LWJsdWVcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgb25jbGljaz1cIktJQ0FfRElBTE9HLm9wZW5GaW5kQ2VydCgpO1wiPicgK1xyXG4gICAgICAgICc8aSBjbGFzcz1cImljb24tZmluZC1jZXJ0XCI+PC9pPicgK1xyXG4gICAgICAgICc8c3Bhbj4nICsgS0lDQV9DT1JQVVMuQlVUVE9OX0ZJTkRfQ0VSVElGSUNBVEUgKyAnPC9zcGFuPicgK1xyXG4gICAgICAgICc8L2E+JyArXHJcbiAgICAgICAgXHJcbiAgICAgICAgJzxhIGNsYXNzPVwia2ljYS1idXR0b24gYmctbGlnaHQtYmx1ZVwiIG1hcmdpbi1yaWdodCBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgb25jbGljaz1cIktJQ0FfTUFOQUdFTUVOVF9BUEkuZGVsZXRlQ2VydGlmaWNhdGUoKVwiPicgK1xyXG4gICAgICAgICc8aSBjbGFzcz1cImljb24tZGVsZXRlLWNlcnRcIj48L2k+JyArXHJcbiAgICAgICAgJzxzcGFuPicgKyBLSUNBX0NPUlBVUy5CVVRUT05fREVMRVRFX0NFUlRJRklDQVRFICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPC9hPicgK1xyXG4gICAgICAgICc8L2Rpdj4nK1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgJzxoMiBjbGFzcz1cImNlcnQtcGFzc3dvcmQtbGFiZWxcIj4nICsgS0lDQV9DT1JQVVMuQ0VSVF9QV0RfTEFCRUwgKyAnPC9oMj4nICtcclxuICAgICAgICAnPGZvcm0gY2xhc3M9XCJpbnB1dC1wYXNzd29yZC1mb3JtXCIgbmFtZT1cImZvcm1QYXNzd29yZEUyRU1heDhcIiBvbmtleWRvd249XCJyZXR1cm4gZXZlbnQua2V5ICE9IFxcJ0VudGVyXFwnO1wiIGF1dG9jb21wbGV0ZT1cIm9mZlwiPicgK1xyXG4gICAgICAgICc8aW5wdXQgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj4nICtcclxuICAgICAgICAnPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPVwiZGlzcGxheTpub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+JyArXHJcbiAgICAgICAgJzxpbnB1dCBjbGFzcz1cImNlcnQtcWxhbGZxanNnaFwiIHR5cGU9XCJwYXNzd29yZFwiIGlkPVwicWxhbGZxanNnaFwiIG5hbWU9XCJQYXNzd29yZEUyRU1heDhcIiBwbGFjZWhvbGRlcj1cIicgKyBLSUNBX0NPUlBVUy5DRVJUX1BXRF9QTEFDRUhPTERFUiArICdcIiBhdXRvY29tcGxldGU9XCJvZmZcIj4nICtcclxuICAgICAgICAnPGEgY2xhc3M9XCJpY29uLXZrZXlib2FyZFwiIGlkPVwidmtleWJvYXJkLXRvZ2dsZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgb25jbGljaz1cIktJQ0FfRElBTE9HLnRvZ2dsZVZpcnR1YWxLZXlib2FyZCgpXCI+PC9hPicgK1xyXG4gICAgICAgICc8L2Zvcm0+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJidXR0b24td3JhcHBlclwiPicgK1xyXG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwiY29uZmlybS1idXR0b25cIiBpZCA9XCJzZWxlY3QtY2VydGlmaWNhdGUtY29uZmlybVwiPicgKyBLSUNBX0NPUlBVUy5CVVRUT05fQ09ORklSTSArICc8L2J1dHRvbj4nICtcclxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImNhbmNlbC1idXR0b25cIiBvbmNsaWNrPVwiS0lDQV9ESUFMT0cuY2xvc2VTZWxlY3RDZXJ0aWZpY2F0ZURpYWxvZygpXCI+JyArIEtJQ0FfQ09SUFVTLkJVVFRPTl9DQU5DRUwgKyAnPC9idXR0b24+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJicm93c2VyLWd1aWRlLXdyYXBwZXIga2ljYS1kLW5vbmVcIiBpZD1cImJyb3dzZXItZ3VpZGUtd3JhcHBlclwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiYnJvd3Nlci1ndWlkZS1oZWFkZXJcIj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImNsb3NlXCI+JyArXHJcbiAgICAgICAgJzxhIGNsYXNzPVwiaHRtbDUtZ3VpZGUtY2xvc2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgb25jbGljaz1cIktJQ0FfRElBTE9HLmNsb3NlR3VpZGUoKVwiPicgK1xyXG4gICAgICAgICc8aSBjbGFzcz1cImljb24tY2xvc2VcIj48L2k+JyArXHJcbiAgICAgICAgJzwvYT4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxoMT4nICsgS0lDQV9DT1JQVVMuQlJPV1NFUl9HVUlERV9USVRMRSArICc8L2gxPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidGV4dFwiPicgK1xyXG4gICAgICAgICc8aSBjbGFzcz1cImljb24tYnJvd3NlclwiPjwvaT4nICtcclxuICAgICAgICAnPGgyPicgKyBLSUNBX0NPUlBVUy5CUk9XU0VSX0dVSURFX1NVQl9USVRMRSArICc8L2gyPicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJicm93c2VyLWd1aWRlLWNvbnRlbnRzXCI+JyArXHJcbiAgICAgICAgJzxoMj4nICsgS0lDQV9DT1JQVVMuQlJPV1NFUl9HVUlERV9TVE9SRV9DRVJUX0xBQkVMICsgJzwvaDI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJicm93c2VyLWd1aWRlLXN0ZXBzLXdyYXBwZXJcIj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cInN0ZXAtd3JhcHBlclwiPicgK1xyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInN0ZXAtbnVtYmVyXCI+MTwvc3Bhbj4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzdGVwLXRleHRcIj4nICsgS0lDQV9DT1JQVVMuQlJPV1NFUl9HVUlERV9TVE9SRV9DRVJUX1NURVAxICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzdGVwLXRleHQgc3ViXCI+JyArIEtJQ0FfQ09SUFVTLkJST1dTRVJfR1VJREVfU1RPUkVfQ0VSVF9TVEVQMV8xICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJzdGVwLXdyYXBwZXJcIj4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzdGVwLW51bWJlclwiPjI8L3NwYW4+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic3RlcC10ZXh0XCI+JyArIEtJQ0FfQ09SUFVTLkJST1dTRVJfR1VJREVfU1RPUkVfQ0VSVF9TVEVQMiArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic3RlcC10ZXh0IHN1YlwiPicgKyBLSUNBX0NPUlBVUy5CUk9XU0VSX0dVSURFX1NUT1JFX0NFUlRfU1RFUDJfMSArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic3RlcC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic3RlcC10ZXh0IHctMTAwXCI+JyArIEtJQ0FfQ09SUFVTLkJST1dTRVJfR1VJREVfU1RPUkVfQ0VSVF9TVEVQMyArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgKyAgICAgIFxyXG4gICAgICAgICc8L2Rpdj4nICsgICAgICBcclxuICAgICAgICAnPGhyPicgK1xyXG4gICAgICAgICc8aDI+JyArIEtJQ0FfQ09SUFVTLkJST1dTRVJfR1VJREVfREVMRVRFX0NFUlRfTEFCRUwgKyAnPC9oMj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImJyb3dzZXItZ3VpZGUtc3RlcHMtd3JhcHBlclwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic3RlcC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic3RlcC1udW1iZXJcIj4xPC9zcGFuPicgKyAgIFxyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInN0ZXAtdGV4dFwiPicgKyBLSUNBX0NPUlBVUy5CUk9XU0VSX0dVSURFX0RFTEVURV9DRVJUX1NURVAxICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJzdGVwLXdyYXBwZXJcIj4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzdGVwLW51bWJlclwiPjI8L3NwYW4+JyArIFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic3RlcC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic3RlcC1udW1iZXJcIj4yPC9zcGFuPicgKyBcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzdGVwLXRleHRcIj4nICsgS0lDQV9DT1JQVVMuQlJPV1NFUl9HVUlERV9ERUxFVEVfQ0VSVF9TVEVQMiArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic3RlcC13cmFwcGVyXCI+JyArIFxyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInN0ZXAtbnVtYmVyXCI+Mzwvc3Bhbj4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzdGVwLXRleHRcIj4nICsgS0lDQV9DT1JQVVMuQlJPV1NFUl9HVUlERV9ERUxFVEVfQ0VSVF9TVEVQMyArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPGhyPicgKyBcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImRldGFpbC1ndWlkZS13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxhIGNsYXNzPVwib3Blbi1kZXRhaWwtZ3VpZGUtd3JhcHBlclwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBvbmNsaWNrPVwiS0lDQV9ESUFMT0cub3BlbkRldGFpbEd1aWRlKClcIj4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJiYWRnZVwiPiE8L3NwYW4+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dFwiPicgKyBLSUNBX0NPUlBVUy5CUk9XU0VSX0RFVEFJTF9NT1JFX0JVVFRPTiArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvYT4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICBvYmplY3QucGRmVmlld2VyID0gJzxkaXYgY2xhc3M9XCJkZXRhaWwtZ3VpZGUga2ljYS1kLW5vbmVcIiBpZD1cImRldGFpbC1ndWlkZVwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGV0YWlsLWd1aWRlLWNvbnRlbnRcIj4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJjbG9zZS1kZXRhaWwtZ3VpZGVcIiBvbmNsaWNrPVwiS0lDQV9ESUFMT0cuY2xvc2VEZXRhaWxHdWlkZSgpXCI+JnRpbWVzOzwvc3Bhbj4nICtcclxuICAgICAgICAnPGVtYmVkIHNyYz1cIicgKyB3ZWJucGtpX2NvbmZpZy5wYXRoICsgJ2Fzc2V0cy9ndWlkZS9icm93c2VyX2NlcnRpZmljYXRlX2d1aWRlLnBkZlwiIHR5cGU9XCJhcHBsaWNhdGlvbi9wZGZcIiBjbGFzcz1cImJyb3dzZXItZGV0YWlsLWd1aWRlXCI+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgIG9iamVjdC5pbXBvcnRQRlggPSAnPGRpdiBjbGFzcz1cIndlYm5wa2ktd3JhcHBlciBraWNhLWQtbm9uZVwiIGlkPVwid2VibnBraS13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkaW1cIj48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cInBmeC1wYXNzd29yZC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwZngtcGFzc3dvcmQtaGVhZGVyXCI+JyArXHJcbiAgICAgICAgJzxzcGFuPicgKyBLSUNBX0NPUlBVUy5JTVBPUlRfQ0VSVF9USVRMRSArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicGZ4LXBhc3N3b3JkLWJvZHlcIj4nICtcclxuICAgICAgICAnPHNwYW4+JyArIEtJQ0FfQ09SUFVTLklNUE9SVF9DRVJUX1BBU1NXT1JEX0xBQkVMICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cInBmeC1wYXNzd29yZC1pbnB1dFwiPicgK1xyXG4gICAgICAgICc8Zm9ybSBuYW1lPVwiZm9ybS1wZngtcWxhbGZxanNnaFwiIG9uc3VibWl0PVwiJChcXCcjcGZ4LXFsYWxmcWpzZ2gtY29uZmlybVxcJykudHJpZ2dlcihcXCdjbGlja1xcJyk7IHJldHVybiBmYWxzZTtcIiBvbmtleWRvd249XCJyZXR1cm4gZXZlbnQua2V5ICE9IFxcJ0VudGVyXFwnXCI7PicgK1xyXG4gICAgICAgICc8aW5wdXQgaWQ9XCJpbnB1dC1wZngtcWxhbGZxanNnaFwiIG5hbWU9XCJwZngtcWxhbGZxanNnaFwiIGNsYXNzPVwicGZ4LXFsYWxmcWpzZ2hcIiB0eXBlPVwicGFzc3dvcmRcIiBhdXRvY29tcGxldGU9XCJvZmZcIj4nICtcclxuICAgICAgICAnPGEgY2xhc3M9XCJpY29uLXZrZXlib2FyZFwiIGlkPVwicGZ4LXZrZXlib2FyZC10b2dnbGVcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIG9uY2xpY2s9XCJLSUNBX0RJQUxPRy50b2dnbGVQRlhWaXJ0dWFsS2V5Ym9hcmQoKVwiPjwvYT4nICtcclxuICAgICAgICAnPC9mb3JtPicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPHNwYW4+JyArIEtJQ0FfQ09SUFVTLklNUE9SVF9DRVJUX1RFWFQgKyAnPC9zcGFuPicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cInBmeC1wYXNzd29yZC1mb290ZXJcIj4nICtcclxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImNvbmZpcm0tYnV0dG9uXCIgaWQ9XCJwZngtcWxhbGZxanNnaC1jb25maXJtXCI+JyArIEtJQ0FfQ09SUFVTLkJVVFRPTl9DT05GSVJNICsgJzwvYnV0dG9uPicgK1xyXG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwiY2FuY2VsLWJ1dHRvblwiIGlkPVwicGZ4LXFsYWxmcWpzZ2gtY2FuY2VsXCI+JyArIEtJQ0FfQ09SUFVTLkJVVFRPTl9DQU5DRUwgKyAnPC9idXR0b24+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPGlucHV0IGlkPVwiaW5wdXRDZXJ0c1wiIHR5cGU9XCJmaWxlXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIiBhY2NlcHQ9XCIucDEyLCAucGZ4XCIgb25jaGFuZ2U9XCJLSUNBX0RJQUxPRy5vblNlbGVjdENlcnQodGhpcyk7XCIvPicgK1xyXG4gICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgIG9iamVjdC5maW5kUEZYID0gJzxkaXYgY2xhc3M9XCJmaW5kLXBmeC13cmFwcGVyIGtpY2EtZC1ub25lXCIgaWQ9XCJmaW5kLXBmeC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkaW1cIj48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImZpbmQtcGZ4LWNvbnRhaW5lclwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZmluZC1wZngtaGVhZGVyXCI+JyArXHJcbiAgICAgICAgJzxzcGFuPicgKyBLSUNBX0NPUlBVUy5JTVBPUlRfUEZYX1RJVExFICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb252ZXJ0LXBmeC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb252ZXJ0LXBmeC1oZWFkZXJcIj4nICtcclxuICAgICAgICAnPGkgY2xhc3M9XCJpY29uLWZhcVwiPjwvaT48c3Bhbj4nICsgS0lDQV9DT1JQVVMuSU1QT1JUX1BGWF9DT05WRVJUX1BGWF9MQUJFTCArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udmVydC1wZngtZG93bmxvYWRcIj4nICtcclxuICAgICAgICAnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIiBvbmNsaWNrPVwiS0lDQV9ESUFMT0cuZG93bmxvYWRDb252ZXJ0Q2VydCgpO1wiPjxpIGNsYXNzPVwiaWNvbi1kb3duXCI+PC9pPjxzcGFuPicgKyBLSUNBX0NPUlBVUy5JTVBPUlRfUEZYX0NPTlZFUlRfUEZYX0RPV05MT0FEICsgJzwvc3Bhbj48L2E+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udmVydC1wZngtc3RlcC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic3RlcC1udW1iZXJcIj4xPC9zcGFuPicgK1xyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInN0ZXAtdGV4dFwiPjxzcGFuPicgKyBLSUNBX0NPUlBVUy5JTVBPUlRfUEZYX0NPTlZFUlRfUEZYX0RPV05MT0FEICsgJzwvc3Bhbj4nICsgS0lDQV9DT1JQVVMuSU1QT1JUX1BGWF9DT05WRVJUX1BGWF9TVEVQMSArICc8L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udmVydC1wZngtc3RlcC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic3RlcC1udW1iZXJcIj4yPC9zcGFuPicgK1xyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInN0ZXAtdGV4dFwiPicgKyBLSUNBX0NPUlBVUy5JTVBPUlRfUEZYX0NPTlZFUlRfUEZYX1NURVAyICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb252ZXJ0LXBmeC1zdGVwLXdyYXBwZXJcIj4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzdGVwLW51bWJlclwiPjM8L3NwYW4+JyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic3RlcC10ZXh0XCI+JyArIEtJQ0FfQ09SUFVTLklNUE9SVF9QRlhfQ09OVkVSVF9QRlhfU1RFUDMgKyAnPC9zcGFuPicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJmaW5kLXBmeC1mb290ZXJcIj4nICtcclxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImNvbmZpcm0tYnV0dG9uXCIgaWQ9XCJmaW5kLXBmeC1idXR0b25cIiBvbmNsaWNrPVwiS0lDQV9ESUFMT0cuc2VhcmNoQ2VydCgpO1wiPicgKyBLSUNBX0NPUlBVUy5JTVBPUlRfUEZYX0ZJTkRfQlVUVE9OICsgJzwvYnV0dG9uPicgK1xyXG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwiY2FuY2VsLWJ1dHRvblwiIGlkPVwiZmluZC1wZngtY2FuY2VsXCIgb25jbGljaz1cIktJQ0FfRElBTE9HLmNsb3NlRmluZENlcnQoKTtcIj4nICsgS0lDQV9DT1JQVVMuQlVUVE9OX0NBTkNFTCArICc8L2J1dHRvbj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgIHJldHVybiBvYmplY3Q7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgYm94ZXM6IGJveGVzXHJcbn0iLCIvKiFcbiogc3dlZXRhbGVydDIgdjkuNS4zXG4qIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuU3dlZXRhbGVydDIgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5mdW5jdGlvbiBpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcblxuICB0cnkge1xuICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgfSBlbHNlIHtcbiAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH1cblxuICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkge1xuICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgIG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuICAgIGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVmbGVjdC5nZXQpIHtcbiAgICBfZ2V0ID0gUmVmbGVjdC5nZXQ7XG4gIH0gZWxzZSB7XG4gICAgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgIHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG5cbiAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG59XG5cbnZhciBjb25zb2xlUHJlZml4ID0gJ1N3ZWV0QWxlcnQyOic7XG4vKipcbiAqIEZpbHRlciB0aGUgdW5pcXVlIHZhbHVlcyBpbnRvIGEgbmV3IGFycmF5XG4gKiBAcGFyYW0gYXJyXG4gKi9cblxudmFyIHVuaXF1ZUFycmF5ID0gZnVuY3Rpb24gdW5pcXVlQXJyYXkoYXJyKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChyZXN1bHQuaW5kZXhPZihhcnJbaV0pID09PSAtMSkge1xuICAgICAgcmVzdWx0LnB1c2goYXJyW2ldKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbi8qKlxuICogQ2FwaXRhbGl6ZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGEgc3RyaW5nXG4gKiBAcGFyYW0gc3RyXG4gKi9cblxudmFyIGNhcGl0YWxpemVGaXJzdExldHRlciA9IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlcihzdHIpIHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGFycmF5IG9iIG9iamVjdCB2YWx1ZXMgKE9iamVjdC52YWx1ZXMgaXNuJ3Qgc3VwcG9ydGVkIGluIElFMTEpXG4gKiBAcGFyYW0gb2JqXG4gKi9cblxudmFyIG9iamVjdFZhbHVlcyA9IGZ1bmN0aW9uIG9iamVjdFZhbHVlcyhvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH0pO1xufTtcbi8qKlxuICogQ29udmVydCBOb2RlTGlzdCB0byBBcnJheVxuICogQHBhcmFtIG5vZGVMaXN0XG4gKi9cblxudmFyIHRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KG5vZGVMaXN0KSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChub2RlTGlzdCk7XG59O1xuLyoqXG4gKiBTdGFuZGFyZGlzZSBjb25zb2xlIHdhcm5pbmdzXG4gKiBAcGFyYW0gbWVzc2FnZVxuICovXG5cbnZhciB3YXJuID0gZnVuY3Rpb24gd2FybihtZXNzYWdlKSB7XG4gIGNvbnNvbGUud2FybihcIlwiLmNvbmNhdChjb25zb2xlUHJlZml4LCBcIiBcIikuY29uY2F0KG1lc3NhZ2UpKTtcbn07XG4vKipcbiAqIFN0YW5kYXJkaXNlIGNvbnNvbGUgZXJyb3JzXG4gKiBAcGFyYW0gbWVzc2FnZVxuICovXG5cbnZhciBlcnJvciA9IGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UpIHtcbiAgY29uc29sZS5lcnJvcihcIlwiLmNvbmNhdChjb25zb2xlUHJlZml4LCBcIiBcIikuY29uY2F0KG1lc3NhZ2UpKTtcbn07XG4vKipcbiAqIFByaXZhdGUgZ2xvYmFsIHN0YXRlIGZvciBgd2Fybk9uY2VgXG4gKiBAdHlwZSB7QXJyYXl9XG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBwcmV2aW91c1dhcm5PbmNlTWVzc2FnZXMgPSBbXTtcbi8qKlxuICogU2hvdyBhIGNvbnNvbGUgd2FybmluZywgYnV0IG9ubHkgaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBzaG93blxuICogQHBhcmFtIG1lc3NhZ2VcbiAqL1xuXG52YXIgd2Fybk9uY2UgPSBmdW5jdGlvbiB3YXJuT25jZShtZXNzYWdlKSB7XG4gIGlmICghKHByZXZpb3VzV2Fybk9uY2VNZXNzYWdlcy5pbmRleE9mKG1lc3NhZ2UpICE9PSAtMSkpIHtcbiAgICBwcmV2aW91c1dhcm5PbmNlTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICB3YXJuKG1lc3NhZ2UpO1xuICB9XG59O1xuLyoqXG4gKiBTaG93IGEgb25lLXRpbWUgY29uc29sZSB3YXJuaW5nIGFib3V0IGRlcHJlY2F0ZWQgcGFyYW1zL21ldGhvZHNcbiAqL1xuXG52YXIgd2FybkFib3V0RGVwcmVhdGlvbiA9IGZ1bmN0aW9uIHdhcm5BYm91dERlcHJlYXRpb24oZGVwcmVjYXRlZFBhcmFtLCB1c2VJbnN0ZWFkKSB7XG4gIHdhcm5PbmNlKFwiXFxcIlwiLmNvbmNhdChkZXByZWNhdGVkUGFyYW0sIFwiXFxcIiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHVzZSBcXFwiXCIpLmNvbmNhdCh1c2VJbnN0ZWFkLCBcIlxcXCIgaW5zdGVhZC5cIikpO1xufTtcbi8qKlxuICogSWYgYGFyZ2AgaXMgYSBmdW5jdGlvbiwgY2FsbCBpdCAod2l0aCBubyBhcmd1bWVudHMgb3IgY29udGV4dCkgYW5kIHJldHVybiB0aGUgcmVzdWx0LlxuICogT3RoZXJ3aXNlLCBqdXN0IHBhc3MgdGhlIHZhbHVlIHRocm91Z2hcbiAqIEBwYXJhbSBhcmdcbiAqL1xuXG52YXIgY2FsbElmRnVuY3Rpb24gPSBmdW5jdGlvbiBjYWxsSWZGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicgPyBhcmcoKSA6IGFyZztcbn07XG52YXIgaXNQcm9taXNlID0gZnVuY3Rpb24gaXNQcm9taXNlKGFyZykge1xuICByZXR1cm4gYXJnICYmIFByb21pc2UucmVzb2x2ZShhcmcpID09PSBhcmc7XG59O1xuXG52YXIgRGlzbWlzc1JlYXNvbiA9IE9iamVjdC5mcmVlemUoe1xuICBjYW5jZWw6ICdjYW5jZWwnLFxuICBiYWNrZHJvcDogJ2JhY2tkcm9wJyxcbiAgY2xvc2U6ICdjbG9zZScsXG4gIGVzYzogJ2VzYycsXG4gIHRpbWVyOiAndGltZXInXG59KTtcblxudmFyIGlzSnF1ZXJ5RWxlbWVudCA9IGZ1bmN0aW9uIGlzSnF1ZXJ5RWxlbWVudChlbGVtKSB7XG4gIHJldHVybiBfdHlwZW9mKGVsZW0pID09PSAnb2JqZWN0JyAmJiBlbGVtLmpxdWVyeTtcbn07XG5cbnZhciBpc0VsZW1lbnQgPSBmdW5jdGlvbiBpc0VsZW1lbnQoZWxlbSkge1xuICByZXR1cm4gZWxlbSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgaXNKcXVlcnlFbGVtZW50KGVsZW0pO1xufTtcblxudmFyIGFyZ3NUb1BhcmFtcyA9IGZ1bmN0aW9uIGFyZ3NUb1BhcmFtcyhhcmdzKSB7XG4gIHZhciBwYXJhbXMgPSB7fTtcblxuICBpZiAoX3R5cGVvZihhcmdzWzBdKSA9PT0gJ29iamVjdCcgJiYgIWlzRWxlbWVudChhcmdzWzBdKSkge1xuICAgIF9leHRlbmRzKHBhcmFtcywgYXJnc1swXSk7XG4gIH0gZWxzZSB7XG4gICAgWyd0aXRsZScsICdodG1sJywgJ2ljb24nXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpbmRleCkge1xuICAgICAgdmFyIGFyZyA9IGFyZ3NbaW5kZXhdO1xuXG4gICAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHwgaXNFbGVtZW50KGFyZykpIHtcbiAgICAgICAgcGFyYW1zW25hbWVdID0gYXJnO1xuICAgICAgfSBlbHNlIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlcnJvcihcIlVuZXhwZWN0ZWQgdHlwZSBvZiBcIi5jb25jYXQobmFtZSwgXCIhIEV4cGVjdGVkIFxcXCJzdHJpbmdcXFwiIG9yIFxcXCJFbGVtZW50XFxcIiwgZ290IFwiKS5jb25jYXQoX3R5cGVvZihhcmcpKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcGFyYW1zO1xufTtcblxudmFyIHN3YWxQcmVmaXggPSAnc3dhbDItJztcbnZhciBwcmVmaXggPSBmdW5jdGlvbiBwcmVmaXgoaXRlbXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGZvciAodmFyIGkgaW4gaXRlbXMpIHtcbiAgICByZXN1bHRbaXRlbXNbaV1dID0gc3dhbFByZWZpeCArIGl0ZW1zW2ldO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgc3dhbENsYXNzZXMgPSBwcmVmaXgoWydjb250YWluZXInLCAnc2hvd24nLCAnaGVpZ2h0LWF1dG8nLCAnaW9zZml4JywgJ3BvcHVwJywgJ21vZGFsJywgJ25vLWJhY2tkcm9wJywgJ3RvYXN0JywgJ3RvYXN0LXNob3duJywgJ3RvYXN0LWNvbHVtbicsICdzaG93JywgJ2hpZGUnLCAnY2xvc2UnLCAndGl0bGUnLCAnaGVhZGVyJywgJ2NvbnRlbnQnLCAnaHRtbC1jb250YWluZXInLCAnYWN0aW9ucycsICdjb25maXJtJywgJ2NhbmNlbCcsICdmb290ZXInLCAnaWNvbicsICdpY29uLWNvbnRlbnQnLCAnaW1hZ2UnLCAnaW5wdXQnLCAnZmlsZScsICdyYW5nZScsICdzZWxlY3QnLCAncmFkaW8nLCAnY2hlY2tib3gnLCAnbGFiZWwnLCAndGV4dGFyZWEnLCAnaW5wdXRlcnJvcicsICd2YWxpZGF0aW9uLW1lc3NhZ2UnLCAncHJvZ3Jlc3Mtc3RlcHMnLCAnYWN0aXZlLXByb2dyZXNzLXN0ZXAnLCAncHJvZ3Jlc3Mtc3RlcCcsICdwcm9ncmVzcy1zdGVwLWxpbmUnLCAnbG9hZGluZycsICdzdHlsZWQnLCAndG9wJywgJ3RvcC1zdGFydCcsICd0b3AtZW5kJywgJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsICdjZW50ZXInLCAnY2VudGVyLXN0YXJ0JywgJ2NlbnRlci1lbmQnLCAnY2VudGVyLWxlZnQnLCAnY2VudGVyLXJpZ2h0JywgJ2JvdHRvbScsICdib3R0b20tc3RhcnQnLCAnYm90dG9tLWVuZCcsICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnLCAnZ3Jvdy1yb3cnLCAnZ3Jvdy1jb2x1bW4nLCAnZ3Jvdy1mdWxsc2NyZWVuJywgJ3J0bCcsICd0aW1lci1wcm9ncmVzcy1iYXInLCAnc2Nyb2xsYmFyLW1lYXN1cmUnLCAnaWNvbi1zdWNjZXNzJywgJ2ljb24td2FybmluZycsICdpY29uLWluZm8nLCAnaWNvbi1xdWVzdGlvbicsICdpY29uLWVycm9yJ10pO1xudmFyIGljb25UeXBlcyA9IHByZWZpeChbJ3N1Y2Nlc3MnLCAnd2FybmluZycsICdpbmZvJywgJ3F1ZXN0aW9uJywgJ2Vycm9yJ10pO1xuXG52YXIgZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24gZ2V0Q29udGFpbmVyKCkge1xuICByZXR1cm4gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChzd2FsQ2xhc3Nlcy5jb250YWluZXIpKTtcbn07XG52YXIgZWxlbWVudEJ5U2VsZWN0b3IgPSBmdW5jdGlvbiBlbGVtZW50QnlTZWxlY3RvcihzZWxlY3RvclN0cmluZykge1xuICB2YXIgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gIHJldHVybiBjb250YWluZXIgPyBjb250YWluZXIucXVlcnlTZWxlY3RvcihzZWxlY3RvclN0cmluZykgOiBudWxsO1xufTtcblxudmFyIGVsZW1lbnRCeUNsYXNzID0gZnVuY3Rpb24gZWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lKSB7XG4gIHJldHVybiBlbGVtZW50QnlTZWxlY3RvcihcIi5cIi5jb25jYXQoY2xhc3NOYW1lKSk7XG59O1xuXG52YXIgZ2V0UG9wdXAgPSBmdW5jdGlvbiBnZXRQb3B1cCgpIHtcbiAgcmV0dXJuIGVsZW1lbnRCeUNsYXNzKHN3YWxDbGFzc2VzLnBvcHVwKTtcbn07XG52YXIgZ2V0SWNvbnMgPSBmdW5jdGlvbiBnZXRJY29ucygpIHtcbiAgdmFyIHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgcmV0dXJuIHRvQXJyYXkocG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5cIi5jb25jYXQoc3dhbENsYXNzZXMuaWNvbikpKTtcbn07XG52YXIgZ2V0SWNvbiA9IGZ1bmN0aW9uIGdldEljb24oKSB7XG4gIHZhciB2aXNpYmxlSWNvbiA9IGdldEljb25zKCkuZmlsdGVyKGZ1bmN0aW9uIChpY29uKSB7XG4gICAgcmV0dXJuIGlzVmlzaWJsZShpY29uKTtcbiAgfSk7XG4gIHJldHVybiB2aXNpYmxlSWNvbi5sZW5ndGggPyB2aXNpYmxlSWNvblswXSA6IG51bGw7XG59O1xudmFyIGdldFRpdGxlID0gZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy50aXRsZSk7XG59O1xudmFyIGdldENvbnRlbnQgPSBmdW5jdGlvbiBnZXRDb250ZW50KCkge1xuICByZXR1cm4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXMuY29udGVudCk7XG59O1xudmFyIGdldEh0bWxDb250YWluZXIgPSBmdW5jdGlvbiBnZXRIdG1sQ29udGFpbmVyKCkge1xuICByZXR1cm4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXNbJ2h0bWwtY29udGFpbmVyJ10pO1xufTtcbnZhciBnZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlKCkge1xuICByZXR1cm4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXMuaW1hZ2UpO1xufTtcbnZhciBnZXRQcm9ncmVzc1N0ZXBzID0gZnVuY3Rpb24gZ2V0UHJvZ3Jlc3NTdGVwcygpIHtcbiAgcmV0dXJuIGVsZW1lbnRCeUNsYXNzKHN3YWxDbGFzc2VzWydwcm9ncmVzcy1zdGVwcyddKTtcbn07XG52YXIgZ2V0VmFsaWRhdGlvbk1lc3NhZ2UgPSBmdW5jdGlvbiBnZXRWYWxpZGF0aW9uTWVzc2FnZSgpIHtcbiAgcmV0dXJuIGVsZW1lbnRCeUNsYXNzKHN3YWxDbGFzc2VzWyd2YWxpZGF0aW9uLW1lc3NhZ2UnXSk7XG59O1xudmFyIGdldENvbmZpcm1CdXR0b24gPSBmdW5jdGlvbiBnZXRDb25maXJtQnV0dG9uKCkge1xuICByZXR1cm4gZWxlbWVudEJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KHN3YWxDbGFzc2VzLmFjdGlvbnMsIFwiIC5cIikuY29uY2F0KHN3YWxDbGFzc2VzLmNvbmZpcm0pKTtcbn07XG52YXIgZ2V0Q2FuY2VsQnV0dG9uID0gZnVuY3Rpb24gZ2V0Q2FuY2VsQnV0dG9uKCkge1xuICByZXR1cm4gZWxlbWVudEJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KHN3YWxDbGFzc2VzLmFjdGlvbnMsIFwiIC5cIikuY29uY2F0KHN3YWxDbGFzc2VzLmNhbmNlbCkpO1xufTtcbnZhciBnZXRBY3Rpb25zID0gZnVuY3Rpb24gZ2V0QWN0aW9ucygpIHtcbiAgcmV0dXJuIGVsZW1lbnRCeUNsYXNzKHN3YWxDbGFzc2VzLmFjdGlvbnMpO1xufTtcbnZhciBnZXRIZWFkZXIgPSBmdW5jdGlvbiBnZXRIZWFkZXIoKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy5oZWFkZXIpO1xufTtcbnZhciBnZXRGb290ZXIgPSBmdW5jdGlvbiBnZXRGb290ZXIoKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy5mb290ZXIpO1xufTtcbnZhciBnZXRUaW1lclByb2dyZXNzQmFyID0gZnVuY3Rpb24gZ2V0VGltZXJQcm9ncmVzc0JhcigpIHtcbiAgcmV0dXJuIGVsZW1lbnRCeUNsYXNzKHN3YWxDbGFzc2VzWyd0aW1lci1wcm9ncmVzcy1iYXInXSk7XG59O1xudmFyIGdldENsb3NlQnV0dG9uID0gZnVuY3Rpb24gZ2V0Q2xvc2VCdXR0b24oKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy5jbG9zZSk7XG59OyAvLyBodHRwczovL2dpdGh1Yi5jb20vamt1cC9mb2N1c2FibGUvYmxvYi9tYXN0ZXIvaW5kZXguanNcblxudmFyIGZvY3VzYWJsZSA9IFwiXFxuICBhW2hyZWZdLFxcbiAgYXJlYVtocmVmXSxcXG4gIGlucHV0Om5vdChbZGlzYWJsZWRdKSxcXG4gIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksXFxuICB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksXFxuICBidXR0b246bm90KFtkaXNhYmxlZF0pLFxcbiAgaWZyYW1lLFxcbiAgb2JqZWN0LFxcbiAgZW1iZWQsXFxuICBbdGFiaW5kZXg9XFxcIjBcXFwiXSxcXG4gIFtjb250ZW50ZWRpdGFibGVdLFxcbiAgYXVkaW9bY29udHJvbHNdLFxcbiAgdmlkZW9bY29udHJvbHNdLFxcbiAgc3VtbWFyeVxcblwiO1xudmFyIGdldEZvY3VzYWJsZUVsZW1lbnRzID0gZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoKSB7XG4gIHZhciBmb2N1c2FibGVFbGVtZW50c1dpdGhUYWJpbmRleCA9IHRvQXJyYXkoZ2V0UG9wdXAoKS5xdWVyeVNlbGVjdG9yQWxsKCdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSk6bm90KFt0YWJpbmRleD1cIjBcIl0pJykpIC8vIHNvcnQgYWNjb3JkaW5nIHRvIHRhYmluZGV4XG4gIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgYSA9IHBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpKTtcbiAgICBiID0gcGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JykpO1xuXG4gICAgaWYgKGEgPiBiKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGEgPCBiKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH0pO1xuICB2YXIgb3RoZXJGb2N1c2FibGVFbGVtZW50cyA9IHRvQXJyYXkoZ2V0UG9wdXAoKS5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZSkpLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpICE9PSAnLTEnO1xuICB9KTtcbiAgcmV0dXJuIHVuaXF1ZUFycmF5KGZvY3VzYWJsZUVsZW1lbnRzV2l0aFRhYmluZGV4LmNvbmNhdChvdGhlckZvY3VzYWJsZUVsZW1lbnRzKSkuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgIHJldHVybiBpc1Zpc2libGUoZWwpO1xuICB9KTtcbn07XG52YXIgaXNNb2RhbCA9IGZ1bmN0aW9uIGlzTW9kYWwoKSB7XG4gIHJldHVybiAhaXNUb2FzdCgpICYmICFkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhzd2FsQ2xhc3Nlc1snbm8tYmFja2Ryb3AnXSk7XG59O1xudmFyIGlzVG9hc3QgPSBmdW5jdGlvbiBpc1RvYXN0KCkge1xuICByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoc3dhbENsYXNzZXNbJ3RvYXN0LXNob3duJ10pO1xufTtcbnZhciBpc0xvYWRpbmcgPSBmdW5jdGlvbiBpc0xvYWRpbmcoKSB7XG4gIHJldHVybiBnZXRQb3B1cCgpLmhhc0F0dHJpYnV0ZSgnZGF0YS1sb2FkaW5nJyk7XG59O1xuXG52YXIgc3RhdGVzID0ge1xuICBwcmV2aW91c0JvZHlQYWRkaW5nOiBudWxsXG59O1xudmFyIGhhc0NsYXNzID0gZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG4gIGlmICghY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGNsYXNzTGlzdCA9IGNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3NMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc0xpc3RbaV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgcmVtb3ZlQ3VzdG9tQ2xhc3NlcyA9IGZ1bmN0aW9uIHJlbW92ZUN1c3RvbUNsYXNzZXMoZWxlbSwgcGFyYW1zKSB7XG4gIHRvQXJyYXkoZWxlbS5jbGFzc0xpc3QpLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIGlmICghKG9iamVjdFZhbHVlcyhzd2FsQ2xhc3NlcykuaW5kZXhPZihjbGFzc05hbWUpICE9PSAtMSkgJiYgIShvYmplY3RWYWx1ZXMoaWNvblR5cGVzKS5pbmRleE9mKGNsYXNzTmFtZSkgIT09IC0xKSAmJiAhKG9iamVjdFZhbHVlcyhwYXJhbXMuc2hvd0NsYXNzKS5pbmRleE9mKGNsYXNzTmFtZSkgIT09IC0xKSkge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBhcHBseUN1c3RvbUNsYXNzID0gZnVuY3Rpb24gYXBwbHlDdXN0b21DbGFzcyhlbGVtLCBwYXJhbXMsIGNsYXNzTmFtZSkge1xuICByZW1vdmVDdXN0b21DbGFzc2VzKGVsZW0sIHBhcmFtcyk7XG5cbiAgaWYgKHBhcmFtcy5jdXN0b21DbGFzcyAmJiBwYXJhbXMuY3VzdG9tQ2xhc3NbY2xhc3NOYW1lXSkge1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmN1c3RvbUNsYXNzW2NsYXNzTmFtZV0gIT09ICdzdHJpbmcnICYmICFwYXJhbXMuY3VzdG9tQ2xhc3NbY2xhc3NOYW1lXS5mb3JFYWNoKSB7XG4gICAgICByZXR1cm4gd2FybihcIkludmFsaWQgdHlwZSBvZiBjdXN0b21DbGFzcy5cIi5jb25jYXQoY2xhc3NOYW1lLCBcIiEgRXhwZWN0ZWQgc3RyaW5nIG9yIGl0ZXJhYmxlIG9iamVjdCwgZ290IFxcXCJcIikuY29uY2F0KF90eXBlb2YocGFyYW1zLmN1c3RvbUNsYXNzW2NsYXNzTmFtZV0pLCBcIlxcXCJcIikpO1xuICAgIH1cblxuICAgIGFkZENsYXNzKGVsZW0sIHBhcmFtcy5jdXN0b21DbGFzc1tjbGFzc05hbWVdKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGdldElucHV0KGNvbnRlbnQsIGlucHV0VHlwZSkge1xuICBpZiAoIWlucHV0VHlwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3dpdGNoIChpbnB1dFR5cGUpIHtcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICBjYXNlICdmaWxlJzpcbiAgICAgIHJldHVybiBnZXRDaGlsZEJ5Q2xhc3MoY29udGVudCwgc3dhbENsYXNzZXNbaW5wdXRUeXBlXSk7XG5cbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICByZXR1cm4gY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChzd2FsQ2xhc3Nlcy5jaGVja2JveCwgXCIgaW5wdXRcIikpO1xuXG4gICAgY2FzZSAncmFkaW8nOlxuICAgICAgcmV0dXJuIGNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoc3dhbENsYXNzZXMucmFkaW8sIFwiIGlucHV0OmNoZWNrZWRcIikpIHx8IGNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoc3dhbENsYXNzZXMucmFkaW8sIFwiIGlucHV0OmZpcnN0LWNoaWxkXCIpKTtcblxuICAgIGNhc2UgJ3JhbmdlJzpcbiAgICAgIHJldHVybiBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KHN3YWxDbGFzc2VzLnJhbmdlLCBcIiBpbnB1dFwiKSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGdldENoaWxkQnlDbGFzcyhjb250ZW50LCBzd2FsQ2xhc3Nlcy5pbnB1dCk7XG4gIH1cbn1cbnZhciBmb2N1c0lucHV0ID0gZnVuY3Rpb24gZm9jdXNJbnB1dChpbnB1dCkge1xuICBpbnB1dC5mb2N1cygpOyAvLyBwbGFjZSBjdXJzb3IgYXQgZW5kIG9mIHRleHQgaW4gdGV4dCBpbnB1dFxuXG4gIGlmIChpbnB1dC50eXBlICE9PSAnZmlsZScpIHtcbiAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMzQ1OTE1XG4gICAgdmFyIHZhbCA9IGlucHV0LnZhbHVlO1xuICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgaW5wdXQudmFsdWUgPSB2YWw7XG4gIH1cbn07XG52YXIgdG9nZ2xlQ2xhc3MgPSBmdW5jdGlvbiB0b2dnbGVDbGFzcyh0YXJnZXQsIGNsYXNzTGlzdCwgY29uZGl0aW9uKSB7XG4gIGlmICghdGFyZ2V0IHx8ICFjbGFzc0xpc3QpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodHlwZW9mIGNsYXNzTGlzdCA9PT0gJ3N0cmluZycpIHtcbiAgICBjbGFzc0xpc3QgPSBjbGFzc0xpc3Quc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbik7XG4gIH1cblxuICBjbGFzc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgaWYgKHRhcmdldC5mb3JFYWNoKSB7XG4gICAgICB0YXJnZXQuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICBjb25kaXRpb24gPyBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKSA6IGVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmRpdGlvbiA/IHRhcmdldC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSkgOiB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgIH1cbiAgfSk7XG59O1xudmFyIGFkZENsYXNzID0gZnVuY3Rpb24gYWRkQ2xhc3ModGFyZ2V0LCBjbGFzc0xpc3QpIHtcbiAgdG9nZ2xlQ2xhc3ModGFyZ2V0LCBjbGFzc0xpc3QsIHRydWUpO1xufTtcbnZhciByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKHRhcmdldCwgY2xhc3NMaXN0KSB7XG4gIHRvZ2dsZUNsYXNzKHRhcmdldCwgY2xhc3NMaXN0LCBmYWxzZSk7XG59O1xudmFyIGdldENoaWxkQnlDbGFzcyA9IGZ1bmN0aW9uIGdldENoaWxkQnlDbGFzcyhlbGVtLCBjbGFzc05hbWUpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaGFzQ2xhc3MoZWxlbS5jaGlsZE5vZGVzW2ldLCBjbGFzc05hbWUpKSB7XG4gICAgICByZXR1cm4gZWxlbS5jaGlsZE5vZGVzW2ldO1xuICAgIH1cbiAgfVxufTtcbnZhciBhcHBseU51bWVyaWNhbFN0eWxlID0gZnVuY3Rpb24gYXBwbHlOdW1lcmljYWxTdHlsZShlbGVtLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlIHx8IHBhcnNlSW50KHZhbHVlKSA9PT0gMCkge1xuICAgIGVsZW0uc3R5bGVbcHJvcGVydHldID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IFwiXCIuY29uY2F0KHZhbHVlLCBcInB4XCIpIDogdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgZWxlbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gIH1cbn07XG52YXIgc2hvdyA9IGZ1bmN0aW9uIHNob3coZWxlbSkge1xuICB2YXIgZGlzcGxheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2ZsZXgnO1xuICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAnJztcbiAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbn07XG52YXIgaGlkZSA9IGZ1bmN0aW9uIGhpZGUoZWxlbSkge1xuICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAnJztcbiAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcbnZhciB0b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoZWxlbSwgY29uZGl0aW9uLCBkaXNwbGF5KSB7XG4gIGNvbmRpdGlvbiA/IHNob3coZWxlbSwgZGlzcGxheSkgOiBoaWRlKGVsZW0pO1xufTsgLy8gYm9ycm93ZWQgZnJvbSBqcXVlcnkgJChlbGVtKS5pcygnOnZpc2libGUnKSBpbXBsZW1lbnRhdGlvblxuXG52YXIgaXNWaXNpYmxlID0gZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW0pIHtcbiAgcmV0dXJuICEhKGVsZW0gJiYgKGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCkpO1xufTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cbnZhciBpc1Njcm9sbGFibGUgPSBmdW5jdGlvbiBpc1Njcm9sbGFibGUoZWxlbSkge1xuICByZXR1cm4gISEoZWxlbS5zY3JvbGxIZWlnaHQgPiBlbGVtLmNsaWVudEhlaWdodCk7XG59OyAvLyBib3Jyb3dlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjM1MjExOVxuXG52YXIgaGFzQ3NzQW5pbWF0aW9uID0gZnVuY3Rpb24gaGFzQ3NzQW5pbWF0aW9uKGVsZW0pIHtcbiAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSk7XG4gIHZhciBhbmltRHVyYXRpb24gPSBwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2FuaW1hdGlvbi1kdXJhdGlvbicpIHx8ICcwJyk7XG4gIHZhciB0cmFuc0R1cmF0aW9uID0gcGFyc2VGbG9hdChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2l0aW9uLWR1cmF0aW9uJykgfHwgJzAnKTtcbiAgcmV0dXJuIGFuaW1EdXJhdGlvbiA+IDAgfHwgdHJhbnNEdXJhdGlvbiA+IDA7XG59O1xudmFyIGNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoaGF5c3RhY2ssIG5lZWRsZSkge1xuICBpZiAodHlwZW9mIGhheXN0YWNrLmNvbnRhaW5zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGhheXN0YWNrLmNvbnRhaW5zKG5lZWRsZSk7XG4gIH1cbn07XG52YXIgYW5pbWF0ZVRpbWVyUHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbiBhbmltYXRlVGltZXJQcm9ncmVzc0Jhcih0aW1lcikge1xuICB2YXIgcmVzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICB2YXIgdGltZXJQcm9ncmVzc0JhciA9IGdldFRpbWVyUHJvZ3Jlc3NCYXIoKTtcblxuICBpZiAoaXNWaXNpYmxlKHRpbWVyUHJvZ3Jlc3NCYXIpKSB7XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICB0aW1lclByb2dyZXNzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICB0aW1lclByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIH1cblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGltZXJQcm9ncmVzc0Jhci5zdHlsZS50cmFuc2l0aW9uID0gXCJ3aWR0aCBcIi5jb25jYXQodGltZXIgLyAxMDAwLCBcInMgbGluZWFyXCIpO1xuICAgICAgdGltZXJQcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9ICcwJSc7XG4gICAgfSwgMTApO1xuICB9XG59O1xudmFyIHN0b3BUaW1lclByb2dyZXNzQmFyID0gZnVuY3Rpb24gc3RvcFRpbWVyUHJvZ3Jlc3NCYXIoKSB7XG4gIHZhciB0aW1lclByb2dyZXNzQmFyID0gZ2V0VGltZXJQcm9ncmVzc0JhcigpO1xuICB2YXIgdGltZXJQcm9ncmVzc0JhcldpZHRoID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGltZXJQcm9ncmVzc0Jhcikud2lkdGgpO1xuICB0aW1lclByb2dyZXNzQmFyLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2l0aW9uJyk7XG4gIHRpbWVyUHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gIHZhciB0aW1lclByb2dyZXNzQmFyRnVsbFdpZHRoID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGltZXJQcm9ncmVzc0Jhcikud2lkdGgpO1xuICB2YXIgdGltZXJQcm9ncmVzc0JhclBlcmNlbnQgPSBwYXJzZUludCh0aW1lclByb2dyZXNzQmFyV2lkdGggLyB0aW1lclByb2dyZXNzQmFyRnVsbFdpZHRoICogMTAwKTtcbiAgdGltZXJQcm9ncmVzc0Jhci5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbicpO1xuICB0aW1lclByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQodGltZXJQcm9ncmVzc0JhclBlcmNlbnQsIFwiJVwiKTtcbn07XG5cbi8vIERldGVjdCBOb2RlIGVudlxudmFyIGlzTm9kZUVudiA9IGZ1bmN0aW9uIGlzTm9kZUVudigpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCc7XG59O1xuXG52YXIgc3dlZXRIVE1MID0gXCJcXG4gPGRpdiBhcmlhLWxhYmVsbGVkYnk9XFxcIlwiLmNvbmNhdChzd2FsQ2xhc3Nlcy50aXRsZSwgXCJcXFwiIGFyaWEtZGVzY3JpYmVkYnk9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMuY29udGVudCwgXCJcXFwiIGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLnBvcHVwLCBcIlxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG4gICA8ZGl2IGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLmhlYWRlciwgXCJcXFwiPlxcbiAgICAgPHVsIGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzWydwcm9ncmVzcy1zdGVwcyddLCBcIlxcXCI+PC91bD5cXG4gICAgIDxkaXYgY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMuaWNvbiwgXCIgXCIpLmNvbmNhdChpY29uVHlwZXMuZXJyb3IsIFwiXFxcIj48L2Rpdj5cXG4gICAgIDxkaXYgY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMuaWNvbiwgXCIgXCIpLmNvbmNhdChpY29uVHlwZXMucXVlc3Rpb24sIFwiXFxcIj48L2Rpdj5cXG4gICAgIDxkaXYgY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMuaWNvbiwgXCIgXCIpLmNvbmNhdChpY29uVHlwZXMud2FybmluZywgXCJcXFwiPjwvZGl2PlxcbiAgICAgPGRpdiBjbGFzcz1cXFwiXCIpLmNvbmNhdChzd2FsQ2xhc3Nlcy5pY29uLCBcIiBcIikuY29uY2F0KGljb25UeXBlcy5pbmZvLCBcIlxcXCI+PC9kaXY+XFxuICAgICA8ZGl2IGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLmljb24sIFwiIFwiKS5jb25jYXQoaWNvblR5cGVzLnN1Y2Nlc3MsIFwiXFxcIj48L2Rpdj5cXG4gICAgIDxpbWcgY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMuaW1hZ2UsIFwiXFxcIiAvPlxcbiAgICAgPGgyIGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLnRpdGxlLCBcIlxcXCIgaWQ9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMudGl0bGUsIFwiXFxcIj48L2gyPlxcbiAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLmNsb3NlLCBcIlxcXCI+PC9idXR0b24+XFxuICAgPC9kaXY+XFxuICAgPGRpdiBjbGFzcz1cXFwiXCIpLmNvbmNhdChzd2FsQ2xhc3Nlcy5jb250ZW50LCBcIlxcXCI+XFxuICAgICA8ZGl2IGlkPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLmNvbnRlbnQsIFwiXFxcIiBjbGFzcz1cXFwiXCIpLmNvbmNhdChzd2FsQ2xhc3Nlc1snaHRtbC1jb250YWluZXInXSwgXCJcXFwiPjwvZGl2PlxcbiAgICAgPGlucHV0IGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLmlucHV0LCBcIlxcXCIgLz5cXG4gICAgIDxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiBjbGFzcz1cXFwiXCIpLmNvbmNhdChzd2FsQ2xhc3Nlcy5maWxlLCBcIlxcXCIgLz5cXG4gICAgIDxkaXYgY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMucmFuZ2UsIFwiXFxcIj5cXG4gICAgICAgPGlucHV0IHR5cGU9XFxcInJhbmdlXFxcIiAvPlxcbiAgICAgICA8b3V0cHV0Pjwvb3V0cHV0PlxcbiAgICAgPC9kaXY+XFxuICAgICA8c2VsZWN0IGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLnNlbGVjdCwgXCJcXFwiPjwvc2VsZWN0PlxcbiAgICAgPGRpdiBjbGFzcz1cXFwiXCIpLmNvbmNhdChzd2FsQ2xhc3Nlcy5yYWRpbywgXCJcXFwiPjwvZGl2PlxcbiAgICAgPGxhYmVsIGZvcj1cXFwiXCIpLmNvbmNhdChzd2FsQ2xhc3Nlcy5jaGVja2JveCwgXCJcXFwiIGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLmNoZWNrYm94LCBcIlxcXCI+XFxuICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgLz5cXG4gICAgICAgPHNwYW4gY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMubGFiZWwsIFwiXFxcIj48L3NwYW4+XFxuICAgICA8L2xhYmVsPlxcbiAgICAgPHRleHRhcmVhIGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzLnRleHRhcmVhLCBcIlxcXCI+PC90ZXh0YXJlYT5cXG4gICAgIDxkaXYgY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXNbJ3ZhbGlkYXRpb24tbWVzc2FnZSddLCBcIlxcXCIgaWQ9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXNbJ3ZhbGlkYXRpb24tbWVzc2FnZSddLCBcIlxcXCI+PC9kaXY+XFxuICAgPC9kaXY+XFxuICAgPGRpdiBjbGFzcz1cXFwiXCIpLmNvbmNhdChzd2FsQ2xhc3Nlcy5hY3Rpb25zLCBcIlxcXCI+XFxuICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMuY29uZmlybSwgXCJcXFwiPk9LPC9idXR0b24+XFxuICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcIlwiKS5jb25jYXQoc3dhbENsYXNzZXMuY2FuY2VsLCBcIlxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgPC9kaXY+XFxuICAgPGRpdiBjbGFzcz1cXFwiXCIpLmNvbmNhdChzd2FsQ2xhc3Nlcy5mb290ZXIsIFwiXFxcIj48L2Rpdj5cXG4gICA8ZGl2IGNsYXNzPVxcXCJcIikuY29uY2F0KHN3YWxDbGFzc2VzWyd0aW1lci1wcm9ncmVzcy1iYXInXSwgXCJcXFwiPjwvZGl2PlxcbiA8L2Rpdj5cXG5cIikucmVwbGFjZSgvKF58XFxuKVxccyovZywgJycpO1xuXG52YXIgcmVzZXRPbGRDb250YWluZXIgPSBmdW5jdGlvbiByZXNldE9sZENvbnRhaW5lcigpIHtcbiAgdmFyIG9sZENvbnRhaW5lciA9IGdldENvbnRhaW5lcigpO1xuXG4gIGlmICghb2xkQ29udGFpbmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgb2xkQ29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2xkQ29udGFpbmVyKTtcbiAgcmVtb3ZlQ2xhc3MoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0sIFtzd2FsQ2xhc3Nlc1snbm8tYmFja2Ryb3AnXSwgc3dhbENsYXNzZXNbJ3RvYXN0LXNob3duJ10sIHN3YWxDbGFzc2VzWydoYXMtY29sdW1uJ11dKTtcbn07XG5cbnZhciBvbGRJbnB1dFZhbDsgLy8gSUUxMSB3b3JrYXJvdW5kLCBzZWUgIzExMDkgZm9yIGRldGFpbHNcblxudmFyIHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UgPSBmdW5jdGlvbiByZXNldFZhbGlkYXRpb25NZXNzYWdlKGUpIHtcbiAgaWYgKFN3YWwuaXNWaXNpYmxlKCkgJiYgb2xkSW5wdXRWYWwgIT09IGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgU3dhbC5yZXNldFZhbGlkYXRpb25NZXNzYWdlKCk7XG4gIH1cblxuICBvbGRJbnB1dFZhbCA9IGUudGFyZ2V0LnZhbHVlO1xufTtcblxudmFyIGFkZElucHV0Q2hhbmdlTGlzdGVuZXJzID0gZnVuY3Rpb24gYWRkSW5wdXRDaGFuZ2VMaXN0ZW5lcnMoKSB7XG4gIHZhciBjb250ZW50ID0gZ2V0Q29udGVudCgpO1xuICB2YXIgaW5wdXQgPSBnZXRDaGlsZEJ5Q2xhc3MoY29udGVudCwgc3dhbENsYXNzZXMuaW5wdXQpO1xuICB2YXIgZmlsZSA9IGdldENoaWxkQnlDbGFzcyhjb250ZW50LCBzd2FsQ2xhc3Nlcy5maWxlKTtcbiAgdmFyIHJhbmdlID0gY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChzd2FsQ2xhc3Nlcy5yYW5nZSwgXCIgaW5wdXRcIikpO1xuICB2YXIgcmFuZ2VPdXRwdXQgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KHN3YWxDbGFzc2VzLnJhbmdlLCBcIiBvdXRwdXRcIikpO1xuICB2YXIgc2VsZWN0ID0gZ2V0Q2hpbGRCeUNsYXNzKGNvbnRlbnQsIHN3YWxDbGFzc2VzLnNlbGVjdCk7XG4gIHZhciBjaGVja2JveCA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoc3dhbENsYXNzZXMuY2hlY2tib3gsIFwiIGlucHV0XCIpKTtcbiAgdmFyIHRleHRhcmVhID0gZ2V0Q2hpbGRCeUNsYXNzKGNvbnRlbnQsIHN3YWxDbGFzc2VzLnRleHRhcmVhKTtcbiAgaW5wdXQub25pbnB1dCA9IHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2U7XG4gIGZpbGUub25jaGFuZ2UgPSByZXNldFZhbGlkYXRpb25NZXNzYWdlO1xuICBzZWxlY3Qub25jaGFuZ2UgPSByZXNldFZhbGlkYXRpb25NZXNzYWdlO1xuICBjaGVja2JveC5vbmNoYW5nZSA9IHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2U7XG4gIHRleHRhcmVhLm9uaW5wdXQgPSByZXNldFZhbGlkYXRpb25NZXNzYWdlO1xuXG4gIHJhbmdlLm9uaW5wdXQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UoZSk7XG4gICAgcmFuZ2VPdXRwdXQudmFsdWUgPSByYW5nZS52YWx1ZTtcbiAgfTtcblxuICByYW5nZS5vbmNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgcmVzZXRWYWxpZGF0aW9uTWVzc2FnZShlKTtcbiAgICByYW5nZS5uZXh0U2libGluZy52YWx1ZSA9IHJhbmdlLnZhbHVlO1xuICB9O1xufTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgcmV0dXJuIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpIDogdGFyZ2V0O1xufTtcblxudmFyIHNldHVwQWNjZXNzaWJpbGl0eSA9IGZ1bmN0aW9uIHNldHVwQWNjZXNzaWJpbGl0eShwYXJhbXMpIHtcbiAgdmFyIHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgcG9wdXAuc2V0QXR0cmlidXRlKCdyb2xlJywgcGFyYW1zLnRvYXN0ID8gJ2FsZXJ0JyA6ICdkaWFsb2cnKTtcbiAgcG9wdXAuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCBwYXJhbXMudG9hc3QgPyAncG9saXRlJyA6ICdhc3NlcnRpdmUnKTtcblxuICBpZiAoIXBhcmFtcy50b2FzdCkge1xuICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsICd0cnVlJyk7XG4gIH1cbn07XG5cbnZhciBzZXR1cFJUTCA9IGZ1bmN0aW9uIHNldHVwUlRMKHRhcmdldEVsZW1lbnQpIHtcbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldEVsZW1lbnQpLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICBhZGRDbGFzcyhnZXRDb250YWluZXIoKSwgc3dhbENsYXNzZXMucnRsKTtcbiAgfVxufTtcbi8qXG4gKiBBZGQgbW9kYWwgKyBiYWNrZHJvcCB0byBET01cbiAqL1xuXG5cbnZhciBpbml0ID0gZnVuY3Rpb24gaW5pdChwYXJhbXMpIHtcbiAgLy8gQ2xlYW4gdXAgdGhlIG9sZCBwb3B1cCBjb250YWluZXIgaWYgaXQgZXhpc3RzXG4gIHJlc2V0T2xkQ29udGFpbmVyKCk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXG4gIGlmIChpc05vZGVFbnYoKSkge1xuICAgIGVycm9yKCdTd2VldEFsZXJ0MiByZXF1aXJlcyBkb2N1bWVudCB0byBpbml0aWFsaXplJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250YWluZXIuY2xhc3NOYW1lID0gc3dhbENsYXNzZXMuY29udGFpbmVyO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gc3dlZXRIVE1MO1xuICB2YXIgdGFyZ2V0RWxlbWVudCA9IGdldFRhcmdldChwYXJhbXMudGFyZ2V0KTtcbiAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICBzZXR1cEFjY2Vzc2liaWxpdHkocGFyYW1zKTtcbiAgc2V0dXBSVEwodGFyZ2V0RWxlbWVudCk7XG4gIGFkZElucHV0Q2hhbmdlTGlzdGVuZXJzKCk7XG59O1xuXG52YXIgcGFyc2VIdG1sVG9Db250YWluZXIgPSBmdW5jdGlvbiBwYXJzZUh0bWxUb0NvbnRhaW5lcihwYXJhbSwgdGFyZ2V0KSB7XG4gIC8vIERPTSBlbGVtZW50XG4gIGlmIChwYXJhbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHBhcmFtKTsgLy8gSlF1ZXJ5IGVsZW1lbnQocylcbiAgfSBlbHNlIGlmIChfdHlwZW9mKHBhcmFtKSA9PT0gJ29iamVjdCcpIHtcbiAgICBoYW5kbGVKcXVlcnlFbGVtKHRhcmdldCwgcGFyYW0pOyAvLyBQbGFpbiBzdHJpbmdcbiAgfSBlbHNlIGlmIChwYXJhbSkge1xuICAgIHRhcmdldC5pbm5lckhUTUwgPSBwYXJhbTtcbiAgfVxufTtcblxudmFyIGhhbmRsZUpxdWVyeUVsZW0gPSBmdW5jdGlvbiBoYW5kbGVKcXVlcnlFbGVtKHRhcmdldCwgZWxlbSkge1xuICB0YXJnZXQuaW5uZXJIVE1MID0gJyc7XG5cbiAgaWYgKDAgaW4gZWxlbSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIGluIGVsZW07IGkrKykge1xuICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGVsZW1baV0uY2xvbmVOb2RlKHRydWUpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKGVsZW0uY2xvbmVOb2RlKHRydWUpKTtcbiAgfVxufTtcblxudmFyIGFuaW1hdGlvbkVuZEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAvLyBQcmV2ZW50IHJ1biBpbiBOb2RlIGVudlxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoaXNOb2RlRW52KCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgdGVzdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgV2Via2l0QW5pbWF0aW9uOiAnd2Via2l0QW5pbWF0aW9uRW5kJyxcbiAgICBPQW5pbWF0aW9uOiAnb0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kJyxcbiAgICBhbmltYXRpb246ICdhbmltYXRpb25lbmQnXG4gIH07XG5cbiAgZm9yICh2YXIgaSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zRW5kRXZlbnROYW1lcywgaSkgJiYgdHlwZW9mIHRlc3RFbC5zdHlsZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0cmFuc0VuZEV2ZW50TmFtZXNbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufSgpO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvanMvc3JjL21vZGFsLmpzXG5cbnZhciBtZWFzdXJlU2Nyb2xsYmFyID0gZnVuY3Rpb24gbWVhc3VyZVNjcm9sbGJhcigpIHtcbiAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gc3dhbENsYXNzZXNbJ3Njcm9sbGJhci1tZWFzdXJlJ107XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG4gIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbn07XG5cbnZhciByZW5kZXJBY3Rpb25zID0gZnVuY3Rpb24gcmVuZGVyQWN0aW9ucyhpbnN0YW5jZSwgcGFyYW1zKSB7XG4gIHZhciBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuICB2YXIgY29uZmlybUJ1dHRvbiA9IGdldENvbmZpcm1CdXR0b24oKTtcbiAgdmFyIGNhbmNlbEJ1dHRvbiA9IGdldENhbmNlbEJ1dHRvbigpOyAvLyBBY3Rpb25zIChidXR0b25zKSB3cmFwcGVyXG5cbiAgaWYgKCFwYXJhbXMuc2hvd0NvbmZpcm1CdXR0b24gJiYgIXBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uKSB7XG4gICAgaGlkZShhY3Rpb25zKTtcbiAgfSAvLyBDdXN0b20gY2xhc3NcblxuXG4gIGFwcGx5Q3VzdG9tQ2xhc3MoYWN0aW9ucywgcGFyYW1zLCAnYWN0aW9ucycpOyAvLyBSZW5kZXIgY29uZmlybSBidXR0b25cblxuICByZW5kZXJCdXR0b24oY29uZmlybUJ1dHRvbiwgJ2NvbmZpcm0nLCBwYXJhbXMpOyAvLyByZW5kZXIgQ2FuY2VsIEJ1dHRvblxuXG4gIHJlbmRlckJ1dHRvbihjYW5jZWxCdXR0b24sICdjYW5jZWwnLCBwYXJhbXMpO1xuXG4gIGlmIChwYXJhbXMuYnV0dG9uc1N0eWxpbmcpIHtcbiAgICBoYW5kbGVCdXR0b25zU3R5bGluZyhjb25maXJtQnV0dG9uLCBjYW5jZWxCdXR0b24sIHBhcmFtcyk7XG4gIH0gZWxzZSB7XG4gICAgcmVtb3ZlQ2xhc3MoW2NvbmZpcm1CdXR0b24sIGNhbmNlbEJ1dHRvbl0sIHN3YWxDbGFzc2VzLnN0eWxlZCk7XG4gICAgY29uZmlybUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb25maXJtQnV0dG9uLnN0eWxlLmJvcmRlckxlZnRDb2xvciA9IGNvbmZpcm1CdXR0b24uc3R5bGUuYm9yZGVyUmlnaHRDb2xvciA9ICcnO1xuICAgIGNhbmNlbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjYW5jZWxCdXR0b24uc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gY2FuY2VsQnV0dG9uLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSAnJztcbiAgfVxuXG4gIGlmIChwYXJhbXMucmV2ZXJzZUJ1dHRvbnMpIHtcbiAgICBjb25maXJtQnV0dG9uLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNhbmNlbEJ1dHRvbiwgY29uZmlybUJ1dHRvbik7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGhhbmRsZUJ1dHRvbnNTdHlsaW5nKGNvbmZpcm1CdXR0b24sIGNhbmNlbEJ1dHRvbiwgcGFyYW1zKSB7XG4gIGFkZENsYXNzKFtjb25maXJtQnV0dG9uLCBjYW5jZWxCdXR0b25dLCBzd2FsQ2xhc3Nlcy5zdHlsZWQpOyAvLyBCdXR0b25zIGJhY2tncm91bmQgY29sb3JzXG5cbiAgaWYgKHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3IpIHtcbiAgICBjb25maXJtQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3I7XG4gIH1cblxuICBpZiAocGFyYW1zLmNhbmNlbEJ1dHRvbkNvbG9yKSB7XG4gICAgY2FuY2VsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHBhcmFtcy5jYW5jZWxCdXR0b25Db2xvcjtcbiAgfSAvLyBMb2FkaW5nIHN0YXRlXG5cblxuICB2YXIgY29uZmlybUJ1dHRvbkJhY2tncm91bmRDb2xvciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNvbmZpcm1CdXR0b24pLmdldFByb3BlcnR5VmFsdWUoJ2JhY2tncm91bmQtY29sb3InKTtcbiAgY29uZmlybUJ1dHRvbi5zdHlsZS5ib3JkZXJMZWZ0Q29sb3IgPSBjb25maXJtQnV0dG9uQmFja2dyb3VuZENvbG9yO1xuICBjb25maXJtQnV0dG9uLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSBjb25maXJtQnV0dG9uQmFja2dyb3VuZENvbG9yO1xufVxuXG5mdW5jdGlvbiByZW5kZXJCdXR0b24oYnV0dG9uLCBidXR0b25UeXBlLCBwYXJhbXMpIHtcbiAgdG9nZ2xlKGJ1dHRvbiwgcGFyYW1zW1wic2hvd1wiLmNvbmNhdChjYXBpdGFsaXplRmlyc3RMZXR0ZXIoYnV0dG9uVHlwZSksIFwiQnV0dG9uXCIpXSwgJ2lubGluZS1ibG9jaycpO1xuICBidXR0b24uaW5uZXJIVE1MID0gcGFyYW1zW1wiXCIuY29uY2F0KGJ1dHRvblR5cGUsIFwiQnV0dG9uVGV4dFwiKV07IC8vIFNldCBjYXB0aW9uIHRleHRcblxuICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgcGFyYW1zW1wiXCIuY29uY2F0KGJ1dHRvblR5cGUsIFwiQnV0dG9uQXJpYUxhYmVsXCIpXSk7IC8vIEFSSUEgbGFiZWxcbiAgLy8gQWRkIGJ1dHRvbnMgY3VzdG9tIGNsYXNzZXNcblxuICBidXR0b24uY2xhc3NOYW1lID0gc3dhbENsYXNzZXNbYnV0dG9uVHlwZV07XG4gIGFwcGx5Q3VzdG9tQ2xhc3MoYnV0dG9uLCBwYXJhbXMsIFwiXCIuY29uY2F0KGJ1dHRvblR5cGUsIFwiQnV0dG9uXCIpKTtcbiAgYWRkQ2xhc3MoYnV0dG9uLCBwYXJhbXNbXCJcIi5jb25jYXQoYnV0dG9uVHlwZSwgXCJCdXR0b25DbGFzc1wiKV0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVCYWNrZHJvcFBhcmFtKGNvbnRhaW5lciwgYmFja2Ryb3ApIHtcbiAgaWYgKHR5cGVvZiBiYWNrZHJvcCA9PT0gJ3N0cmluZycpIHtcbiAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZCA9IGJhY2tkcm9wO1xuICB9IGVsc2UgaWYgKCFiYWNrZHJvcCkge1xuICAgIGFkZENsYXNzKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldLCBzd2FsQ2xhc3Nlc1snbm8tYmFja2Ryb3AnXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlUG9zaXRpb25QYXJhbShjb250YWluZXIsIHBvc2l0aW9uKSB7XG4gIGlmIChwb3NpdGlvbiBpbiBzd2FsQ2xhc3Nlcykge1xuICAgIGFkZENsYXNzKGNvbnRhaW5lciwgc3dhbENsYXNzZXNbcG9zaXRpb25dKTtcbiAgfSBlbHNlIHtcbiAgICB3YXJuKCdUaGUgXCJwb3NpdGlvblwiIHBhcmFtZXRlciBpcyBub3QgdmFsaWQsIGRlZmF1bHRpbmcgdG8gXCJjZW50ZXJcIicpO1xuICAgIGFkZENsYXNzKGNvbnRhaW5lciwgc3dhbENsYXNzZXMuY2VudGVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVHcm93UGFyYW0oY29udGFpbmVyLCBncm93KSB7XG4gIGlmIChncm93ICYmIHR5cGVvZiBncm93ID09PSAnc3RyaW5nJykge1xuICAgIHZhciBncm93Q2xhc3MgPSBcImdyb3ctXCIuY29uY2F0KGdyb3cpO1xuXG4gICAgaWYgKGdyb3dDbGFzcyBpbiBzd2FsQ2xhc3Nlcykge1xuICAgICAgYWRkQ2xhc3MoY29udGFpbmVyLCBzd2FsQ2xhc3Nlc1tncm93Q2xhc3NdKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHJlbmRlckNvbnRhaW5lciA9IGZ1bmN0aW9uIHJlbmRlckNvbnRhaW5lcihpbnN0YW5jZSwgcGFyYW1zKSB7XG4gIHZhciBjb250YWluZXIgPSBnZXRDb250YWluZXIoKTtcblxuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGhhbmRsZUJhY2tkcm9wUGFyYW0oY29udGFpbmVyLCBwYXJhbXMuYmFja2Ryb3ApO1xuXG4gIGlmICghcGFyYW1zLmJhY2tkcm9wICYmIHBhcmFtcy5hbGxvd091dHNpZGVDbGljaykge1xuICAgIHdhcm4oJ1wiYWxsb3dPdXRzaWRlQ2xpY2tcIiBwYXJhbWV0ZXIgcmVxdWlyZXMgYGJhY2tkcm9wYCBwYXJhbWV0ZXIgdG8gYmUgc2V0IHRvIGB0cnVlYCcpO1xuICB9XG5cbiAgaGFuZGxlUG9zaXRpb25QYXJhbShjb250YWluZXIsIHBhcmFtcy5wb3NpdGlvbik7XG4gIGhhbmRsZUdyb3dQYXJhbShjb250YWluZXIsIHBhcmFtcy5ncm93KTsgLy8gQ3VzdG9tIGNsYXNzXG5cbiAgYXBwbHlDdXN0b21DbGFzcyhjb250YWluZXIsIHBhcmFtcywgJ2NvbnRhaW5lcicpOyAvLyBTZXQgcXVldWUgc3RlcCBhdHRyaWJ1dGUgZm9yIGdldFF1ZXVlU3RlcCgpIG1ldGhvZFxuXG4gIHZhciBxdWV1ZVN0ZXAgPSBkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS1zd2FsMi1xdWV1ZS1zdGVwJyk7XG5cbiAgaWYgKHF1ZXVlU3RlcCkge1xuICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVldWUtc3RlcCcsIHF1ZXVlU3RlcCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3dhbDItcXVldWUtc3RlcCcpO1xuICB9XG59O1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGNvbnRhaW50cyBgV2Vha01hcGBzIGZvciBlYWNoIGVmZmVjdGl2ZWx5LVwicHJpdmF0ZSAgcHJvcGVydHlcIiB0aGF0IGEgYFN3YWxgIGhhcy5cbiAqIEZvciBleGFtcGxlLCB0byBzZXQgdGhlIHByaXZhdGUgcHJvcGVydHkgXCJmb29cIiBvZiBgdGhpc2AgdG8gXCJiYXJcIiwgeW91IGNhbiBgcHJpdmF0ZVByb3BzLmZvby5zZXQodGhpcywgJ2JhcicpYFxuICogVGhpcyBpcyB0aGUgYXBwcm9hY2ggdGhhdCBCYWJlbCB3aWxsIHByb2JhYmx5IHRha2UgdG8gaW1wbGVtZW50IHByaXZhdGUgbWV0aG9kcy9maWVsZHNcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJpdmF0ZS1tZXRob2RzXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9wdWxsLzc1NTVcbiAqIE9uY2Ugd2UgaGF2ZSB0aGUgY2hhbmdlcyBmcm9tIHRoYXQgUFIgaW4gQmFiZWwsIGFuZCBvdXIgY29yZSBjbGFzcyBmaXRzIHJlYXNvbmFibGUgaW4gKm9uZSBtb2R1bGUqXG4gKiAgIHRoZW4gd2UgY2FuIHVzZSB0aGF0IGxhbmd1YWdlIGZlYXR1cmUuXG4gKi9cbnZhciBwcml2YXRlUHJvcHMgPSB7XG4gIHByb21pc2U6IG5ldyBXZWFrTWFwKCksXG4gIGlubmVyUGFyYW1zOiBuZXcgV2Vha01hcCgpLFxuICBkb21DYWNoZTogbmV3IFdlYWtNYXAoKVxufTtcblxudmFyIGlucHV0VHlwZXMgPSBbJ2lucHV0JywgJ2ZpbGUnLCAncmFuZ2UnLCAnc2VsZWN0JywgJ3JhZGlvJywgJ2NoZWNrYm94JywgJ3RleHRhcmVhJ107XG52YXIgcmVuZGVySW5wdXQgPSBmdW5jdGlvbiByZW5kZXJJbnB1dChpbnN0YW5jZSwgcGFyYW1zKSB7XG4gIHZhciBjb250ZW50ID0gZ2V0Q29udGVudCgpO1xuICB2YXIgaW5uZXJQYXJhbXMgPSBwcml2YXRlUHJvcHMuaW5uZXJQYXJhbXMuZ2V0KGluc3RhbmNlKTtcbiAgdmFyIHJlcmVuZGVyID0gIWlubmVyUGFyYW1zIHx8IHBhcmFtcy5pbnB1dCAhPT0gaW5uZXJQYXJhbXMuaW5wdXQ7XG4gIGlucHV0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXRUeXBlKSB7XG4gICAgdmFyIGlucHV0Q2xhc3MgPSBzd2FsQ2xhc3Nlc1tpbnB1dFR5cGVdO1xuICAgIHZhciBpbnB1dENvbnRhaW5lciA9IGdldENoaWxkQnlDbGFzcyhjb250ZW50LCBpbnB1dENsYXNzKTsgLy8gc2V0IGF0dHJpYnV0ZXNcblxuICAgIHNldEF0dHJpYnV0ZXMoaW5wdXRUeXBlLCBwYXJhbXMuaW5wdXRBdHRyaWJ1dGVzKTsgLy8gc2V0IGNsYXNzXG5cbiAgICBpbnB1dENvbnRhaW5lci5jbGFzc05hbWUgPSBpbnB1dENsYXNzO1xuXG4gICAgaWYgKHJlcmVuZGVyKSB7XG4gICAgICBoaWRlKGlucHV0Q29udGFpbmVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChwYXJhbXMuaW5wdXQpIHtcbiAgICBpZiAocmVyZW5kZXIpIHtcbiAgICAgIHNob3dJbnB1dChwYXJhbXMpO1xuICAgIH0gLy8gc2V0IGN1c3RvbSBjbGFzc1xuXG5cbiAgICBzZXRDdXN0b21DbGFzcyhwYXJhbXMpO1xuICB9XG59O1xuXG52YXIgc2hvd0lucHV0ID0gZnVuY3Rpb24gc2hvd0lucHV0KHBhcmFtcykge1xuICBpZiAoIXJlbmRlcklucHV0VHlwZVtwYXJhbXMuaW5wdXRdKSB7XG4gICAgcmV0dXJuIGVycm9yKFwiVW5leHBlY3RlZCB0eXBlIG9mIGlucHV0ISBFeHBlY3RlZCBcXFwidGV4dFxcXCIsIFxcXCJlbWFpbFxcXCIsIFxcXCJwYXNzd29yZFxcXCIsIFxcXCJudW1iZXJcXFwiLCBcXFwidGVsXFxcIiwgXFxcInNlbGVjdFxcXCIsIFxcXCJyYWRpb1xcXCIsIFxcXCJjaGVja2JveFxcXCIsIFxcXCJ0ZXh0YXJlYVxcXCIsIFxcXCJmaWxlXFxcIiBvciBcXFwidXJsXFxcIiwgZ290IFxcXCJcIi5jb25jYXQocGFyYW1zLmlucHV0LCBcIlxcXCJcIikpO1xuICB9XG5cbiAgdmFyIGlucHV0Q29udGFpbmVyID0gZ2V0SW5wdXRDb250YWluZXIocGFyYW1zLmlucHV0KTtcbiAgdmFyIGlucHV0ID0gcmVuZGVySW5wdXRUeXBlW3BhcmFtcy5pbnB1dF0oaW5wdXRDb250YWluZXIsIHBhcmFtcyk7XG4gIHNob3coaW5wdXQpOyAvLyBpbnB1dCBhdXRvZm9jdXNcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBmb2N1c0lucHV0KGlucHV0KTtcbiAgfSk7XG59O1xuXG52YXIgcmVtb3ZlQXR0cmlidXRlcyA9IGZ1bmN0aW9uIHJlbW92ZUF0dHJpYnV0ZXMoaW5wdXQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGF0dHJOYW1lID0gaW5wdXQuYXR0cmlidXRlc1tpXS5uYW1lO1xuXG4gICAgaWYgKCEoWyd0eXBlJywgJ3ZhbHVlJywgJ3N0eWxlJ10uaW5kZXhPZihhdHRyTmFtZSkgIT09IC0xKSkge1xuICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBzZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhpbnB1dFR5cGUsIGlucHV0QXR0cmlidXRlcykge1xuICB2YXIgaW5wdXQgPSBnZXRJbnB1dChnZXRDb250ZW50KCksIGlucHV0VHlwZSk7XG5cbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJlbW92ZUF0dHJpYnV0ZXMoaW5wdXQpO1xuXG4gIGZvciAodmFyIGF0dHIgaW4gaW5wdXRBdHRyaWJ1dGVzKSB7XG4gICAgLy8gRG8gbm90IHNldCBhIHBsYWNlaG9sZGVyIGZvciA8aW5wdXQgdHlwZT1cInJhbmdlXCI+XG4gICAgLy8gaXQnbGwgY3Jhc2ggRWRnZSwgIzEyOThcbiAgICBpZiAoaW5wdXRUeXBlID09PSAncmFuZ2UnICYmIGF0dHIgPT09ICdwbGFjZWhvbGRlcicpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlucHV0LnNldEF0dHJpYnV0ZShhdHRyLCBpbnB1dEF0dHJpYnV0ZXNbYXR0cl0pO1xuICB9XG59O1xuXG52YXIgc2V0Q3VzdG9tQ2xhc3MgPSBmdW5jdGlvbiBzZXRDdXN0b21DbGFzcyhwYXJhbXMpIHtcbiAgdmFyIGlucHV0Q29udGFpbmVyID0gZ2V0SW5wdXRDb250YWluZXIocGFyYW1zLmlucHV0KTtcblxuICBpZiAocGFyYW1zLmN1c3RvbUNsYXNzKSB7XG4gICAgYWRkQ2xhc3MoaW5wdXRDb250YWluZXIsIHBhcmFtcy5jdXN0b21DbGFzcy5pbnB1dCk7XG4gIH1cbn07XG5cbnZhciBzZXRJbnB1dFBsYWNlaG9sZGVyID0gZnVuY3Rpb24gc2V0SW5wdXRQbGFjZWhvbGRlcihpbnB1dCwgcGFyYW1zKSB7XG4gIGlmICghaW5wdXQucGxhY2Vob2xkZXIgfHwgcGFyYW1zLmlucHV0UGxhY2Vob2xkZXIpIHtcbiAgICBpbnB1dC5wbGFjZWhvbGRlciA9IHBhcmFtcy5pbnB1dFBsYWNlaG9sZGVyO1xuICB9XG59O1xuXG52YXIgZ2V0SW5wdXRDb250YWluZXIgPSBmdW5jdGlvbiBnZXRJbnB1dENvbnRhaW5lcihpbnB1dFR5cGUpIHtcbiAgdmFyIGlucHV0Q2xhc3MgPSBzd2FsQ2xhc3Nlc1tpbnB1dFR5cGVdID8gc3dhbENsYXNzZXNbaW5wdXRUeXBlXSA6IHN3YWxDbGFzc2VzLmlucHV0O1xuICByZXR1cm4gZ2V0Q2hpbGRCeUNsYXNzKGdldENvbnRlbnQoKSwgaW5wdXRDbGFzcyk7XG59O1xuXG52YXIgcmVuZGVySW5wdXRUeXBlID0ge307XG5cbnJlbmRlcklucHV0VHlwZS50ZXh0ID0gcmVuZGVySW5wdXRUeXBlLmVtYWlsID0gcmVuZGVySW5wdXRUeXBlLnBhc3N3b3JkID0gcmVuZGVySW5wdXRUeXBlLm51bWJlciA9IHJlbmRlcklucHV0VHlwZS50ZWwgPSByZW5kZXJJbnB1dFR5cGUudXJsID0gZnVuY3Rpb24gKGlucHV0LCBwYXJhbXMpIHtcbiAgaWYgKHR5cGVvZiBwYXJhbXMuaW5wdXRWYWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHBhcmFtcy5pbnB1dFZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIGlucHV0LnZhbHVlID0gcGFyYW1zLmlucHV0VmFsdWU7XG4gIH0gZWxzZSBpZiAoIWlzUHJvbWlzZShwYXJhbXMuaW5wdXRWYWx1ZSkpIHtcbiAgICB3YXJuKFwiVW5leHBlY3RlZCB0eXBlIG9mIGlucHV0VmFsdWUhIEV4cGVjdGVkIFxcXCJzdHJpbmdcXFwiLCBcXFwibnVtYmVyXFxcIiBvciBcXFwiUHJvbWlzZVxcXCIsIGdvdCBcXFwiXCIuY29uY2F0KF90eXBlb2YocGFyYW1zLmlucHV0VmFsdWUpLCBcIlxcXCJcIikpO1xuICB9XG5cbiAgc2V0SW5wdXRQbGFjZWhvbGRlcihpbnB1dCwgcGFyYW1zKTtcbiAgaW5wdXQudHlwZSA9IHBhcmFtcy5pbnB1dDtcbiAgcmV0dXJuIGlucHV0O1xufTtcblxucmVuZGVySW5wdXRUeXBlLmZpbGUgPSBmdW5jdGlvbiAoaW5wdXQsIHBhcmFtcykge1xuICBzZXRJbnB1dFBsYWNlaG9sZGVyKGlucHV0LCBwYXJhbXMpO1xuICByZXR1cm4gaW5wdXQ7XG59O1xuXG5yZW5kZXJJbnB1dFR5cGUucmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UsIHBhcmFtcykge1xuICB2YXIgcmFuZ2VJbnB1dCA9IHJhbmdlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gIHZhciByYW5nZU91dHB1dCA9IHJhbmdlLnF1ZXJ5U2VsZWN0b3IoJ291dHB1dCcpO1xuICByYW5nZUlucHV0LnZhbHVlID0gcGFyYW1zLmlucHV0VmFsdWU7XG4gIHJhbmdlSW5wdXQudHlwZSA9IHBhcmFtcy5pbnB1dDtcbiAgcmFuZ2VPdXRwdXQudmFsdWUgPSBwYXJhbXMuaW5wdXRWYWx1ZTtcbiAgcmV0dXJuIHJhbmdlO1xufTtcblxucmVuZGVySW5wdXRUeXBlLnNlbGVjdCA9IGZ1bmN0aW9uIChzZWxlY3QsIHBhcmFtcykge1xuICBzZWxlY3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgaWYgKHBhcmFtcy5pbnB1dFBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gcGFyYW1zLmlucHV0UGxhY2Vob2xkZXI7XG4gICAgcGxhY2Vob2xkZXIudmFsdWUgPSAnJztcbiAgICBwbGFjZWhvbGRlci5kaXNhYmxlZCA9IHRydWU7XG4gICAgcGxhY2Vob2xkZXIuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIHNlbGVjdC5hcHBlbmRDaGlsZChwbGFjZWhvbGRlcik7XG4gIH1cblxuICByZXR1cm4gc2VsZWN0O1xufTtcblxucmVuZGVySW5wdXRUeXBlLnJhZGlvID0gZnVuY3Rpb24gKHJhZGlvKSB7XG4gIHJhZGlvLmlubmVySFRNTCA9ICcnO1xuICByZXR1cm4gcmFkaW87XG59O1xuXG5yZW5kZXJJbnB1dFR5cGUuY2hlY2tib3ggPSBmdW5jdGlvbiAoY2hlY2tib3hDb250YWluZXIsIHBhcmFtcykge1xuICB2YXIgY2hlY2tib3ggPSBnZXRJbnB1dChnZXRDb250ZW50KCksICdjaGVja2JveCcpO1xuICBjaGVja2JveC52YWx1ZSA9IDE7XG4gIGNoZWNrYm94LmlkID0gc3dhbENsYXNzZXMuY2hlY2tib3g7XG4gIGNoZWNrYm94LmNoZWNrZWQgPSBCb29sZWFuKHBhcmFtcy5pbnB1dFZhbHVlKTtcbiAgdmFyIGxhYmVsID0gY2hlY2tib3hDb250YWluZXIucXVlcnlTZWxlY3Rvcignc3BhbicpO1xuICBsYWJlbC5pbm5lckhUTUwgPSBwYXJhbXMuaW5wdXRQbGFjZWhvbGRlcjtcbiAgcmV0dXJuIGNoZWNrYm94Q29udGFpbmVyO1xufTtcblxucmVuZGVySW5wdXRUeXBlLnRleHRhcmVhID0gZnVuY3Rpb24gKHRleHRhcmVhLCBwYXJhbXMpIHtcbiAgdGV4dGFyZWEudmFsdWUgPSBwYXJhbXMuaW5wdXRWYWx1ZTtcbiAgc2V0SW5wdXRQbGFjZWhvbGRlcih0ZXh0YXJlYSwgcGFyYW1zKTtcblxuICBpZiAoJ011dGF0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdykge1xuICAgIC8vICMxNjk5XG4gICAgdmFyIGluaXRpYWxQb3B1cFdpZHRoID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZ2V0UG9wdXAoKSkud2lkdGgpO1xuICAgIHZhciBwb3B1cFBhZGRpbmcgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShnZXRQb3B1cCgpKS5wYWRkaW5nTGVmdCkgKyBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShnZXRQb3B1cCgpKS5wYWRkaW5nUmlnaHQpO1xuXG4gICAgdmFyIG91dHB1dHNpemUgPSBmdW5jdGlvbiBvdXRwdXRzaXplKCkge1xuICAgICAgdmFyIGNvbnRlbnRXaWR0aCA9IHRleHRhcmVhLm9mZnNldFdpZHRoICsgcG9wdXBQYWRkaW5nO1xuXG4gICAgICBpZiAoY29udGVudFdpZHRoID4gaW5pdGlhbFBvcHVwV2lkdGgpIHtcbiAgICAgICAgZ2V0UG9wdXAoKS5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KGNvbnRlbnRXaWR0aCwgXCJweFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBvcHVwKCkuc3R5bGUud2lkdGggPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihvdXRwdXRzaXplKS5vYnNlcnZlKHRleHRhcmVhLCB7XG4gICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgYXR0cmlidXRlRmlsdGVyOiBbJ3N0eWxlJ11cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0ZXh0YXJlYTtcbn07XG5cbnZhciByZW5kZXJDb250ZW50ID0gZnVuY3Rpb24gcmVuZGVyQ29udGVudChpbnN0YW5jZSwgcGFyYW1zKSB7XG4gIHZhciBjb250ZW50ID0gZ2V0Q29udGVudCgpLnF1ZXJ5U2VsZWN0b3IoXCIjXCIuY29uY2F0KHN3YWxDbGFzc2VzLmNvbnRlbnQpKTsgLy8gQ29udGVudCBhcyBIVE1MXG5cbiAgaWYgKHBhcmFtcy5odG1sKSB7XG4gICAgcGFyc2VIdG1sVG9Db250YWluZXIocGFyYW1zLmh0bWwsIGNvbnRlbnQpO1xuICAgIHNob3coY29udGVudCwgJ2Jsb2NrJyk7IC8vIENvbnRlbnQgYXMgcGxhaW4gdGV4dFxuICB9IGVsc2UgaWYgKHBhcmFtcy50ZXh0KSB7XG4gICAgY29udGVudC50ZXh0Q29udGVudCA9IHBhcmFtcy50ZXh0O1xuICAgIHNob3coY29udGVudCwgJ2Jsb2NrJyk7IC8vIE5vIGNvbnRlbnRcbiAgfSBlbHNlIHtcbiAgICBoaWRlKGNvbnRlbnQpO1xuICB9XG5cbiAgcmVuZGVySW5wdXQoaW5zdGFuY2UsIHBhcmFtcyk7IC8vIEN1c3RvbSBjbGFzc1xuXG4gIGFwcGx5Q3VzdG9tQ2xhc3MoZ2V0Q29udGVudCgpLCBwYXJhbXMsICdjb250ZW50Jyk7XG59O1xuXG52YXIgcmVuZGVyRm9vdGVyID0gZnVuY3Rpb24gcmVuZGVyRm9vdGVyKGluc3RhbmNlLCBwYXJhbXMpIHtcbiAgdmFyIGZvb3RlciA9IGdldEZvb3RlcigpO1xuICB0b2dnbGUoZm9vdGVyLCBwYXJhbXMuZm9vdGVyKTtcblxuICBpZiAocGFyYW1zLmZvb3Rlcikge1xuICAgIHBhcnNlSHRtbFRvQ29udGFpbmVyKHBhcmFtcy5mb290ZXIsIGZvb3Rlcik7XG4gIH0gLy8gQ3VzdG9tIGNsYXNzXG5cblxuICBhcHBseUN1c3RvbUNsYXNzKGZvb3RlciwgcGFyYW1zLCAnZm9vdGVyJyk7XG59O1xuXG52YXIgcmVuZGVyQ2xvc2VCdXR0b24gPSBmdW5jdGlvbiByZW5kZXJDbG9zZUJ1dHRvbihpbnN0YW5jZSwgcGFyYW1zKSB7XG4gIHZhciBjbG9zZUJ1dHRvbiA9IGdldENsb3NlQnV0dG9uKCk7XG4gIGNsb3NlQnV0dG9uLmlubmVySFRNTCA9IHBhcmFtcy5jbG9zZUJ1dHRvbkh0bWw7IC8vIEN1c3RvbSBjbGFzc1xuXG4gIGFwcGx5Q3VzdG9tQ2xhc3MoY2xvc2VCdXR0b24sIHBhcmFtcywgJ2Nsb3NlQnV0dG9uJyk7XG4gIHRvZ2dsZShjbG9zZUJ1dHRvbiwgcGFyYW1zLnNob3dDbG9zZUJ1dHRvbik7XG4gIGNsb3NlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHBhcmFtcy5jbG9zZUJ1dHRvbkFyaWFMYWJlbCk7XG59O1xuXG52YXIgcmVuZGVySWNvbiA9IGZ1bmN0aW9uIHJlbmRlckljb24oaW5zdGFuY2UsIHBhcmFtcykge1xuICB2YXIgaW5uZXJQYXJhbXMgPSBwcml2YXRlUHJvcHMuaW5uZXJQYXJhbXMuZ2V0KGluc3RhbmNlKTsgLy8gaWYgdGhlIGdpdmUgaWNvbiBhbHJlYWR5IHJlbmRlcmVkLCBhcHBseSB0aGUgY3VzdG9tIGNsYXNzIHdpdGhvdXQgcmUtcmVuZGVyaW5nIHRoZSBpY29uXG5cbiAgaWYgKGlubmVyUGFyYW1zICYmIHBhcmFtcy5pY29uID09PSBpbm5lclBhcmFtcy5pY29uICYmIGdldEljb24oKSkge1xuICAgIGFwcGx5Q3VzdG9tQ2xhc3MoZ2V0SWNvbigpLCBwYXJhbXMsICdpY29uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaGlkZUFsbEljb25zKCk7XG5cbiAgaWYgKCFwYXJhbXMuaWNvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChPYmplY3Qua2V5cyhpY29uVHlwZXMpLmluZGV4T2YocGFyYW1zLmljb24pICE9PSAtMSkge1xuICAgIHZhciBpY29uID0gZWxlbWVudEJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KHN3YWxDbGFzc2VzLmljb24sIFwiLlwiKS5jb25jYXQoaWNvblR5cGVzW3BhcmFtcy5pY29uXSkpO1xuICAgIHNob3coaWNvbik7IC8vIEN1c3RvbSBvciBkZWZhdWx0IGNvbnRlbnRcblxuICAgIHNldENvbnRlbnQoaWNvbiwgcGFyYW1zKTtcbiAgICBhZGp1c3RTdWNjZXNzSWNvbkJhY2tnb3VuZENvbG9yKCk7IC8vIEN1c3RvbSBjbGFzc1xuXG4gICAgYXBwbHlDdXN0b21DbGFzcyhpY29uLCBwYXJhbXMsICdpY29uJyk7IC8vIEFuaW1hdGUgaWNvblxuXG4gICAgYWRkQ2xhc3MoaWNvbiwgcGFyYW1zLnNob3dDbGFzcy5pY29uKTtcbiAgfSBlbHNlIHtcbiAgICBlcnJvcihcIlVua25vd24gaWNvbiEgRXhwZWN0ZWQgXFxcInN1Y2Nlc3NcXFwiLCBcXFwiZXJyb3JcXFwiLCBcXFwid2FybmluZ1xcXCIsIFxcXCJpbmZvXFxcIiBvciBcXFwicXVlc3Rpb25cXFwiLCBnb3QgXFxcIlwiLmNvbmNhdChwYXJhbXMuaWNvbiwgXCJcXFwiXCIpKTtcbiAgfVxufTtcblxudmFyIGhpZGVBbGxJY29ucyA9IGZ1bmN0aW9uIGhpZGVBbGxJY29ucygpIHtcbiAgdmFyIGljb25zID0gZ2V0SWNvbnMoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGljb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgaGlkZShpY29uc1tpXSk7XG4gIH1cbn07IC8vIEFkanVzdCBzdWNjZXNzIGljb24gYmFja2dyb3VuZCBjb2xvciB0byBtYXRjaCB0aGUgcG9wdXAgYmFja2dyb3VuZCBjb2xvclxuXG5cbnZhciBhZGp1c3RTdWNjZXNzSWNvbkJhY2tnb3VuZENvbG9yID0gZnVuY3Rpb24gYWRqdXN0U3VjY2Vzc0ljb25CYWNrZ291bmRDb2xvcigpIHtcbiAgdmFyIHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgdmFyIHBvcHVwQmFja2dyb3VuZENvbG9yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocG9wdXApLmdldFByb3BlcnR5VmFsdWUoJ2JhY2tncm91bmQtY29sb3InKTtcbiAgdmFyIHN1Y2Nlc3NJY29uUGFydHMgPSBwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV0sIC5zd2FsMi1zdWNjZXNzLWZpeCcpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3VjY2Vzc0ljb25QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHN1Y2Nlc3NJY29uUGFydHNbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcG9wdXBCYWNrZ3JvdW5kQ29sb3I7XG4gIH1cbn07XG5cbnZhciBzZXRDb250ZW50ID0gZnVuY3Rpb24gc2V0Q29udGVudChpY29uLCBwYXJhbXMpIHtcbiAgaWNvbi5pbm5lckhUTUwgPSAnJztcblxuICBpZiAocGFyYW1zLmljb25IdG1sKSB7XG4gICAgaWNvbi5pbm5lckhUTUwgPSBpY29uQ29udGVudChwYXJhbXMuaWNvbkh0bWwpO1xuICB9IGVsc2UgaWYgKHBhcmFtcy5pY29uID09PSAnc3VjY2VzcycpIHtcbiAgICBpY29uLmlubmVySFRNTCA9IFwiXFxuICAgICAgPGRpdiBjbGFzcz1cXFwic3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lLWxlZnRcXFwiPjwvZGl2PlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJzd2FsMi1zdWNjZXNzLWxpbmUtdGlwXFxcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJzd2FsMi1zdWNjZXNzLWxpbmUtbG9uZ1xcXCI+PC9zcGFuPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInN3YWwyLXN1Y2Nlc3MtcmluZ1xcXCI+PC9kaXY+IDxkaXYgY2xhc3M9XFxcInN3YWwyLXN1Y2Nlc3MtZml4XFxcIj48L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJzd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtcmlnaHRcXFwiPjwvZGl2PlxcbiAgICBcIjtcbiAgfSBlbHNlIGlmIChwYXJhbXMuaWNvbiA9PT0gJ2Vycm9yJykge1xuICAgIGljb24uaW5uZXJIVE1MID0gXCJcXG4gICAgICA8c3BhbiBjbGFzcz1cXFwic3dhbDIteC1tYXJrXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzd2FsMi14LW1hcmstbGluZS1sZWZ0XFxcIj48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwic3dhbDIteC1tYXJrLWxpbmUtcmlnaHRcXFwiPjwvc3Bhbj5cXG4gICAgICA8L3NwYW4+XFxuICAgIFwiO1xuICB9IGVsc2Uge1xuICAgIHZhciBkZWZhdWx0SWNvbkh0bWwgPSB7XG4gICAgICBxdWVzdGlvbjogJz8nLFxuICAgICAgd2FybmluZzogJyEnLFxuICAgICAgaW5mbzogJ2knXG4gICAgfTtcbiAgICBpY29uLmlubmVySFRNTCA9IGljb25Db250ZW50KGRlZmF1bHRJY29uSHRtbFtwYXJhbXMuaWNvbl0pO1xuICB9XG59O1xuXG52YXIgaWNvbkNvbnRlbnQgPSBmdW5jdGlvbiBpY29uQ29udGVudChjb250ZW50KSB7XG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiLmNvbmNhdChzd2FsQ2xhc3Nlc1snaWNvbi1jb250ZW50J10sIFwiXFxcIj5cIikuY29uY2F0KGNvbnRlbnQsIFwiPC9kaXY+XCIpO1xufTtcblxudmFyIHJlbmRlckltYWdlID0gZnVuY3Rpb24gcmVuZGVySW1hZ2UoaW5zdGFuY2UsIHBhcmFtcykge1xuICB2YXIgaW1hZ2UgPSBnZXRJbWFnZSgpO1xuXG4gIGlmICghcGFyYW1zLmltYWdlVXJsKSB7XG4gICAgcmV0dXJuIGhpZGUoaW1hZ2UpO1xuICB9XG5cbiAgc2hvdyhpbWFnZSk7IC8vIFNyYywgYWx0XG5cbiAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBwYXJhbXMuaW1hZ2VVcmwpO1xuICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHBhcmFtcy5pbWFnZUFsdCk7IC8vIFdpZHRoLCBoZWlnaHRcblxuICBhcHBseU51bWVyaWNhbFN0eWxlKGltYWdlLCAnd2lkdGgnLCBwYXJhbXMuaW1hZ2VXaWR0aCk7XG4gIGFwcGx5TnVtZXJpY2FsU3R5bGUoaW1hZ2UsICdoZWlnaHQnLCBwYXJhbXMuaW1hZ2VIZWlnaHQpOyAvLyBDbGFzc1xuXG4gIGltYWdlLmNsYXNzTmFtZSA9IHN3YWxDbGFzc2VzLmltYWdlO1xuICBhcHBseUN1c3RvbUNsYXNzKGltYWdlLCBwYXJhbXMsICdpbWFnZScpO1xufTtcblxudmFyIGN1cnJlbnRTdGVwcyA9IFtdO1xuLypcbiAqIEdsb2JhbCBmdW5jdGlvbiBmb3IgY2hhaW5pbmcgc3dlZXRBbGVydCBwb3B1cHNcbiAqL1xuXG52YXIgcXVldWUgPSBmdW5jdGlvbiBxdWV1ZShzdGVwcykge1xuICB2YXIgU3dhbCA9IHRoaXM7XG4gIGN1cnJlbnRTdGVwcyA9IHN0ZXBzO1xuXG4gIHZhciByZXNldEFuZFJlc29sdmUgPSBmdW5jdGlvbiByZXNldEFuZFJlc29sdmUocmVzb2x2ZSwgdmFsdWUpIHtcbiAgICBjdXJyZW50U3RlcHMgPSBbXTtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfTtcblxuICB2YXIgcXVldWVSZXN1bHQgPSBbXTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgKGZ1bmN0aW9uIHN0ZXAoaSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChpIDwgY3VycmVudFN0ZXBzLmxlbmd0aCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS1zd2FsMi1xdWV1ZS1zdGVwJywgaSk7XG4gICAgICAgIFN3YWwuZmlyZShjdXJyZW50U3RlcHNbaV0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0LnZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcXVldWVSZXN1bHQucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgc3RlcChpICsgMSwgY2FsbGJhY2spO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNldEFuZFJlc29sdmUocmVzb2x2ZSwge1xuICAgICAgICAgICAgICBkaXNtaXNzOiByZXN1bHQuZGlzbWlzc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0QW5kUmVzb2x2ZShyZXNvbHZlLCB7XG4gICAgICAgICAgdmFsdWU6IHF1ZXVlUmVzdWx0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pKDApO1xuICB9KTtcbn07XG4vKlxuICogR2xvYmFsIGZ1bmN0aW9uIGZvciBnZXR0aW5nIHRoZSBpbmRleCBvZiBjdXJyZW50IHBvcHVwIGluIHF1ZXVlXG4gKi9cblxudmFyIGdldFF1ZXVlU3RlcCA9IGZ1bmN0aW9uIGdldFF1ZXVlU3RlcCgpIHtcbiAgcmV0dXJuIGdldENvbnRhaW5lcigpLmdldEF0dHJpYnV0ZSgnZGF0YS1xdWV1ZS1zdGVwJyk7XG59O1xuLypcbiAqIEdsb2JhbCBmdW5jdGlvbiBmb3IgaW5zZXJ0aW5nIGEgcG9wdXAgdG8gdGhlIHF1ZXVlXG4gKi9cblxudmFyIGluc2VydFF1ZXVlU3RlcCA9IGZ1bmN0aW9uIGluc2VydFF1ZXVlU3RlcChzdGVwLCBpbmRleCkge1xuICBpZiAoaW5kZXggJiYgaW5kZXggPCBjdXJyZW50U3RlcHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdGVwcy5zcGxpY2UoaW5kZXgsIDAsIHN0ZXApO1xuICB9XG5cbiAgcmV0dXJuIGN1cnJlbnRTdGVwcy5wdXNoKHN0ZXApO1xufTtcbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gZm9yIGRlbGV0aW5nIGEgcG9wdXAgZnJvbSB0aGUgcXVldWVcbiAqL1xuXG52YXIgZGVsZXRlUXVldWVTdGVwID0gZnVuY3Rpb24gZGVsZXRlUXVldWVTdGVwKGluZGV4KSB7XG4gIGlmICh0eXBlb2YgY3VycmVudFN0ZXBzW2luZGV4XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjdXJyZW50U3RlcHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZVN0ZXBFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlU3RlcEVsZW1lbnQoc3RlcCkge1xuICB2YXIgc3RlcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgYWRkQ2xhc3Moc3RlcEVsLCBzd2FsQ2xhc3Nlc1sncHJvZ3Jlc3Mtc3RlcCddKTtcbiAgc3RlcEVsLmlubmVySFRNTCA9IHN0ZXA7XG4gIHJldHVybiBzdGVwRWw7XG59O1xuXG52YXIgY3JlYXRlTGluZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVMaW5lRWxlbWVudChwYXJhbXMpIHtcbiAgdmFyIGxpbmVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIGFkZENsYXNzKGxpbmVFbCwgc3dhbENsYXNzZXNbJ3Byb2dyZXNzLXN0ZXAtbGluZSddKTtcblxuICBpZiAocGFyYW1zLnByb2dyZXNzU3RlcHNEaXN0YW5jZSkge1xuICAgIGxpbmVFbC5zdHlsZS53aWR0aCA9IHBhcmFtcy5wcm9ncmVzc1N0ZXBzRGlzdGFuY2U7XG4gIH1cblxuICByZXR1cm4gbGluZUVsO1xufTtcblxudmFyIHJlbmRlclByb2dyZXNzU3RlcHMgPSBmdW5jdGlvbiByZW5kZXJQcm9ncmVzc1N0ZXBzKGluc3RhbmNlLCBwYXJhbXMpIHtcbiAgdmFyIHByb2dyZXNzU3RlcHNDb250YWluZXIgPSBnZXRQcm9ncmVzc1N0ZXBzKCk7XG5cbiAgaWYgKCFwYXJhbXMucHJvZ3Jlc3NTdGVwcyB8fCBwYXJhbXMucHJvZ3Jlc3NTdGVwcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaGlkZShwcm9ncmVzc1N0ZXBzQ29udGFpbmVyKTtcbiAgfVxuXG4gIHNob3cocHJvZ3Jlc3NTdGVwc0NvbnRhaW5lcik7XG4gIHByb2dyZXNzU3RlcHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIHZhciBjdXJyZW50UHJvZ3Jlc3NTdGVwID0gcGFyc2VJbnQocGFyYW1zLmN1cnJlbnRQcm9ncmVzc1N0ZXAgPT09IHVuZGVmaW5lZCA/IGdldFF1ZXVlU3RlcCgpIDogcGFyYW1zLmN1cnJlbnRQcm9ncmVzc1N0ZXApO1xuXG4gIGlmIChjdXJyZW50UHJvZ3Jlc3NTdGVwID49IHBhcmFtcy5wcm9ncmVzc1N0ZXBzLmxlbmd0aCkge1xuICAgIHdhcm4oJ0ludmFsaWQgY3VycmVudFByb2dyZXNzU3RlcCBwYXJhbWV0ZXIsIGl0IHNob3VsZCBiZSBsZXNzIHRoYW4gcHJvZ3Jlc3NTdGVwcy5sZW5ndGggJyArICcoY3VycmVudFByb2dyZXNzU3RlcCBsaWtlIEpTIGFycmF5cyBzdGFydHMgZnJvbSAwKScpO1xuICB9XG5cbiAgcGFyYW1zLnByb2dyZXNzU3RlcHMuZm9yRWFjaChmdW5jdGlvbiAoc3RlcCwgaW5kZXgpIHtcbiAgICB2YXIgc3RlcEVsID0gY3JlYXRlU3RlcEVsZW1lbnQoc3RlcCk7XG4gICAgcHJvZ3Jlc3NTdGVwc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzdGVwRWwpO1xuXG4gICAgaWYgKGluZGV4ID09PSBjdXJyZW50UHJvZ3Jlc3NTdGVwKSB7XG4gICAgICBhZGRDbGFzcyhzdGVwRWwsIHN3YWxDbGFzc2VzWydhY3RpdmUtcHJvZ3Jlc3Mtc3RlcCddKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggIT09IHBhcmFtcy5wcm9ncmVzc1N0ZXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHZhciBsaW5lRWwgPSBjcmVhdGVMaW5lRWxlbWVudChzdGVwKTtcbiAgICAgIHByb2dyZXNzU3RlcHNDb250YWluZXIuYXBwZW5kQ2hpbGQobGluZUVsKTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIHJlbmRlclRpdGxlID0gZnVuY3Rpb24gcmVuZGVyVGl0bGUoaW5zdGFuY2UsIHBhcmFtcykge1xuICB2YXIgdGl0bGUgPSBnZXRUaXRsZSgpO1xuICB0b2dnbGUodGl0bGUsIHBhcmFtcy50aXRsZSB8fCBwYXJhbXMudGl0bGVUZXh0KTtcblxuICBpZiAocGFyYW1zLnRpdGxlKSB7XG4gICAgcGFyc2VIdG1sVG9Db250YWluZXIocGFyYW1zLnRpdGxlLCB0aXRsZSk7XG4gIH1cblxuICBpZiAocGFyYW1zLnRpdGxlVGV4dCkge1xuICAgIHRpdGxlLmlubmVyVGV4dCA9IHBhcmFtcy50aXRsZVRleHQ7XG4gIH0gLy8gQ3VzdG9tIGNsYXNzXG5cblxuICBhcHBseUN1c3RvbUNsYXNzKHRpdGxlLCBwYXJhbXMsICd0aXRsZScpO1xufTtcblxudmFyIHJlbmRlckhlYWRlciA9IGZ1bmN0aW9uIHJlbmRlckhlYWRlcihpbnN0YW5jZSwgcGFyYW1zKSB7XG4gIHZhciBoZWFkZXIgPSBnZXRIZWFkZXIoKTsgLy8gQ3VzdG9tIGNsYXNzXG5cbiAgYXBwbHlDdXN0b21DbGFzcyhoZWFkZXIsIHBhcmFtcywgJ2hlYWRlcicpOyAvLyBQcm9ncmVzcyBzdGVwc1xuXG4gIHJlbmRlclByb2dyZXNzU3RlcHMoaW5zdGFuY2UsIHBhcmFtcyk7IC8vIEljb25cblxuICByZW5kZXJJY29uKGluc3RhbmNlLCBwYXJhbXMpOyAvLyBJbWFnZVxuXG4gIHJlbmRlckltYWdlKGluc3RhbmNlLCBwYXJhbXMpOyAvLyBUaXRsZVxuXG4gIHJlbmRlclRpdGxlKGluc3RhbmNlLCBwYXJhbXMpOyAvLyBDbG9zZSBidXR0b25cblxuICByZW5kZXJDbG9zZUJ1dHRvbihpbnN0YW5jZSwgcGFyYW1zKTtcbn07XG5cbnZhciByZW5kZXJQb3B1cCA9IGZ1bmN0aW9uIHJlbmRlclBvcHVwKGluc3RhbmNlLCBwYXJhbXMpIHtcbiAgdmFyIHBvcHVwID0gZ2V0UG9wdXAoKTsgLy8gV2lkdGhcblxuICBhcHBseU51bWVyaWNhbFN0eWxlKHBvcHVwLCAnd2lkdGgnLCBwYXJhbXMud2lkdGgpOyAvLyBQYWRkaW5nXG5cbiAgYXBwbHlOdW1lcmljYWxTdHlsZShwb3B1cCwgJ3BhZGRpbmcnLCBwYXJhbXMucGFkZGluZyk7IC8vIEJhY2tncm91bmRcblxuICBpZiAocGFyYW1zLmJhY2tncm91bmQpIHtcbiAgICBwb3B1cC5zdHlsZS5iYWNrZ3JvdW5kID0gcGFyYW1zLmJhY2tncm91bmQ7XG4gIH0gLy8gQ2xhc3Nlc1xuXG5cbiAgYWRkQ2xhc3Nlcyhwb3B1cCwgcGFyYW1zKTtcbn07XG5cbnZhciBhZGRDbGFzc2VzID0gZnVuY3Rpb24gYWRkQ2xhc3Nlcyhwb3B1cCwgcGFyYW1zKSB7XG4gIC8vIERlZmF1bHQgQ2xhc3MgKyBzaG93Q2xhc3Mgd2hlbiB1cGRhdGluZyBTd2FsLnVwZGF0ZSh7fSlcbiAgcG9wdXAuY2xhc3NOYW1lID0gXCJcIi5jb25jYXQoc3dhbENsYXNzZXMucG9wdXAsIFwiIFwiKS5jb25jYXQoaXNWaXNpYmxlKHBvcHVwKSA/IHBhcmFtcy5zaG93Q2xhc3MucG9wdXAgOiAnJyk7XG5cbiAgaWYgKHBhcmFtcy50b2FzdCkge1xuICAgIGFkZENsYXNzKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldLCBzd2FsQ2xhc3Nlc1sndG9hc3Qtc2hvd24nXSk7XG4gICAgYWRkQ2xhc3MocG9wdXAsIHN3YWxDbGFzc2VzLnRvYXN0KTtcbiAgfSBlbHNlIHtcbiAgICBhZGRDbGFzcyhwb3B1cCwgc3dhbENsYXNzZXMubW9kYWwpO1xuICB9IC8vIEN1c3RvbSBjbGFzc1xuXG5cbiAgYXBwbHlDdXN0b21DbGFzcyhwb3B1cCwgcGFyYW1zLCAncG9wdXAnKTtcblxuICBpZiAodHlwZW9mIHBhcmFtcy5jdXN0b21DbGFzcyA9PT0gJ3N0cmluZycpIHtcbiAgICBhZGRDbGFzcyhwb3B1cCwgcGFyYW1zLmN1c3RvbUNsYXNzKTtcbiAgfSAvLyBJY29uIGNsYXNzICgjMTg0MilcblxuXG4gIGlmIChwYXJhbXMuaWNvbikge1xuICAgIGFkZENsYXNzKHBvcHVwLCBzd2FsQ2xhc3Nlc1tcImljb24tXCIuY29uY2F0KHBhcmFtcy5pY29uKV0pO1xuICB9XG59O1xuXG52YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGluc3RhbmNlLCBwYXJhbXMpIHtcbiAgcmVuZGVyUG9wdXAoaW5zdGFuY2UsIHBhcmFtcyk7XG4gIHJlbmRlckNvbnRhaW5lcihpbnN0YW5jZSwgcGFyYW1zKTtcbiAgcmVuZGVySGVhZGVyKGluc3RhbmNlLCBwYXJhbXMpO1xuICByZW5kZXJDb250ZW50KGluc3RhbmNlLCBwYXJhbXMpO1xuICByZW5kZXJBY3Rpb25zKGluc3RhbmNlLCBwYXJhbXMpO1xuICByZW5kZXJGb290ZXIoaW5zdGFuY2UsIHBhcmFtcyk7XG5cbiAgaWYgKHR5cGVvZiBwYXJhbXMub25SZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwYXJhbXMub25SZW5kZXIoZ2V0UG9wdXAoKSk7XG4gIH1cbn07XG5cbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIFN3ZWV0QWxlcnQyIHBvcHVwIGlzIHNob3duXG4gKi9cblxudmFyIGlzVmlzaWJsZSQxID0gZnVuY3Rpb24gaXNWaXNpYmxlJCQxKCkge1xuICByZXR1cm4gaXNWaXNpYmxlKGdldFBvcHVwKCkpO1xufTtcbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gdG8gY2xpY2sgJ0NvbmZpcm0nIGJ1dHRvblxuICovXG5cbnZhciBjbGlja0NvbmZpcm0gPSBmdW5jdGlvbiBjbGlja0NvbmZpcm0oKSB7XG4gIHJldHVybiBnZXRDb25maXJtQnV0dG9uKCkgJiYgZ2V0Q29uZmlybUJ1dHRvbigpLmNsaWNrKCk7XG59O1xuLypcbiAqIEdsb2JhbCBmdW5jdGlvbiB0byBjbGljayAnQ2FuY2VsJyBidXR0b25cbiAqL1xuXG52YXIgY2xpY2tDYW5jZWwgPSBmdW5jdGlvbiBjbGlja0NhbmNlbCgpIHtcbiAgcmV0dXJuIGdldENhbmNlbEJ1dHRvbigpICYmIGdldENhbmNlbEJ1dHRvbigpLmNsaWNrKCk7XG59O1xuXG5mdW5jdGlvbiBmaXJlKCkge1xuICB2YXIgU3dhbCA9IHRoaXM7XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0KFN3YWwsIGFyZ3MpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gZXh0ZW5kZWQgdmVyc2lvbiBvZiBgU3dhbGAgY29udGFpbmluZyBgcGFyYW1zYCBhcyBkZWZhdWx0cy5cbiAqIFVzZWZ1bCBmb3IgcmV1c2luZyBTd2FsIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKlxuICogQmVmb3JlOlxuICogY29uc3QgdGV4dFByb21wdE9wdGlvbnMgPSB7IGlucHV0OiAndGV4dCcsIHNob3dDYW5jZWxCdXR0b246IHRydWUgfVxuICogY29uc3Qge3ZhbHVlOiBmaXJzdE5hbWV9ID0gYXdhaXQgU3dhbC5maXJlKHsgLi4udGV4dFByb21wdE9wdGlvbnMsIHRpdGxlOiAnV2hhdCBpcyB5b3VyIGZpcnN0IG5hbWU/JyB9KVxuICogY29uc3Qge3ZhbHVlOiBsYXN0TmFtZX0gPSBhd2FpdCBTd2FsLmZpcmUoeyAuLi50ZXh0UHJvbXB0T3B0aW9ucywgdGl0bGU6ICdXaGF0IGlzIHlvdXIgbGFzdCBuYW1lPycgfSlcbiAqXG4gKiBBZnRlcjpcbiAqIGNvbnN0IFRleHRQcm9tcHQgPSBTd2FsLm1peGluKHsgaW5wdXQ6ICd0ZXh0Jywgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSB9KVxuICogY29uc3Qge3ZhbHVlOiBmaXJzdE5hbWV9ID0gYXdhaXQgVGV4dFByb21wdCgnV2hhdCBpcyB5b3VyIGZpcnN0IG5hbWU/JylcbiAqIGNvbnN0IHt2YWx1ZTogbGFzdE5hbWV9ID0gYXdhaXQgVGV4dFByb21wdCgnV2hhdCBpcyB5b3VyIGxhc3QgbmFtZT8nKVxuICpcbiAqIEBwYXJhbSBtaXhpblBhcmFtc1xuICovXG5mdW5jdGlvbiBtaXhpbihtaXhpblBhcmFtcykge1xuICB2YXIgTWl4aW5Td2FsID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX3RoaXMpIHtcbiAgICBfaW5oZXJpdHMoTWl4aW5Td2FsLCBfdGhpcyk7XG5cbiAgICBmdW5jdGlvbiBNaXhpblN3YWwoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWl4aW5Td2FsKTtcblxuICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihNaXhpblN3YWwpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhNaXhpblN3YWwsIFt7XG4gICAgICBrZXk6IFwiX21haW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbWFpbihwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoX2dldFByb3RvdHlwZU9mKE1peGluU3dhbC5wcm90b3R5cGUpLCBcIl9tYWluXCIsIHRoaXMpLmNhbGwodGhpcywgX2V4dGVuZHMoe30sIG1peGluUGFyYW1zLCBwYXJhbXMpKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTWl4aW5Td2FsO1xuICB9KHRoaXMpO1xuXG4gIHJldHVybiBNaXhpblN3YWw7XG59XG5cbi8qKlxuICogU2hvdyBzcGlubmVyIGluc3RlYWQgb2YgQ29uZmlybSBidXR0b25cbiAqL1xuXG52YXIgc2hvd0xvYWRpbmcgPSBmdW5jdGlvbiBzaG93TG9hZGluZygpIHtcbiAgdmFyIHBvcHVwID0gZ2V0UG9wdXAoKTtcblxuICBpZiAoIXBvcHVwKSB7XG4gICAgU3dhbC5maXJlKCk7XG4gIH1cblxuICBwb3B1cCA9IGdldFBvcHVwKCk7XG4gIHZhciBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuICB2YXIgY29uZmlybUJ1dHRvbiA9IGdldENvbmZpcm1CdXR0b24oKTtcbiAgc2hvdyhhY3Rpb25zKTtcbiAgc2hvdyhjb25maXJtQnV0dG9uLCAnaW5saW5lLWJsb2NrJyk7XG4gIGFkZENsYXNzKFtwb3B1cCwgYWN0aW9uc10sIHN3YWxDbGFzc2VzLmxvYWRpbmcpO1xuICBjb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgcG9wdXAuc2V0QXR0cmlidXRlKCdkYXRhLWxvYWRpbmcnLCB0cnVlKTtcbiAgcG9wdXAuc2V0QXR0cmlidXRlKCdhcmlhLWJ1c3knLCB0cnVlKTtcbiAgcG9wdXAuZm9jdXMoKTtcbn07XG5cbnZhciBSRVNUT1JFX0ZPQ1VTX1RJTUVPVVQgPSAxMDA7XG5cbnZhciBnbG9iYWxTdGF0ZSA9IHt9O1xudmFyIGZvY3VzUHJldmlvdXNBY3RpdmVFbGVtZW50ID0gZnVuY3Rpb24gZm9jdXNQcmV2aW91c0FjdGl2ZUVsZW1lbnQoKSB7XG4gIGlmIChnbG9iYWxTdGF0ZS5wcmV2aW91c0FjdGl2ZUVsZW1lbnQgJiYgZ2xvYmFsU3RhdGUucHJldmlvdXNBY3RpdmVFbGVtZW50LmZvY3VzKSB7XG4gICAgZ2xvYmFsU3RhdGUucHJldmlvdXNBY3RpdmVFbGVtZW50LmZvY3VzKCk7XG4gICAgZ2xvYmFsU3RhdGUucHJldmlvdXNBY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5KSB7XG4gICAgZG9jdW1lbnQuYm9keS5mb2N1cygpO1xuICB9XG59OyAvLyBSZXN0b3JlIHByZXZpb3VzIGFjdGl2ZSAoZm9jdXNlZCkgZWxlbWVudFxuXG5cbnZhciByZXN0b3JlQWN0aXZlRWxlbWVudCA9IGZ1bmN0aW9uIHJlc3RvcmVBY3RpdmVFbGVtZW50KCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICB2YXIgeCA9IHdpbmRvdy5zY3JvbGxYO1xuICAgIHZhciB5ID0gd2luZG93LnNjcm9sbFk7XG4gICAgZ2xvYmFsU3RhdGUucmVzdG9yZUZvY3VzVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgZm9jdXNQcmV2aW91c0FjdGl2ZUVsZW1lbnQoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9LCBSRVNUT1JFX0ZPQ1VTX1RJTUVPVVQpOyAvLyBpc3N1ZXMvOTAwXG5cbiAgICBpZiAodHlwZW9mIHggIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gSUUgZG9lc24ndCBoYXZlIHNjcm9sbFgvc2Nyb2xsWSBzdXBwb3J0XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oeCwgeSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogSWYgYHRpbWVyYCBwYXJhbWV0ZXIgaXMgc2V0LCByZXR1cm5zIG51bWJlciBvZiBtaWxsaXNlY29uZHMgb2YgdGltZXIgcmVtYWluZWQuXG4gKiBPdGhlcndpc2UsIHJldHVybnMgdW5kZWZpbmVkLlxuICovXG5cbnZhciBnZXRUaW1lckxlZnQgPSBmdW5jdGlvbiBnZXRUaW1lckxlZnQoKSB7XG4gIHJldHVybiBnbG9iYWxTdGF0ZS50aW1lb3V0ICYmIGdsb2JhbFN0YXRlLnRpbWVvdXQuZ2V0VGltZXJMZWZ0KCk7XG59O1xuLyoqXG4gKiBTdG9wIHRpbWVyLiBSZXR1cm5zIG51bWJlciBvZiBtaWxsaXNlY29uZHMgb2YgdGltZXIgcmVtYWluZWQuXG4gKiBJZiBgdGltZXJgIHBhcmFtZXRlciBpc24ndCBzZXQsIHJldHVybnMgdW5kZWZpbmVkLlxuICovXG5cbnZhciBzdG9wVGltZXIgPSBmdW5jdGlvbiBzdG9wVGltZXIoKSB7XG4gIGlmIChnbG9iYWxTdGF0ZS50aW1lb3V0KSB7XG4gICAgc3RvcFRpbWVyUHJvZ3Jlc3NCYXIoKTtcbiAgICByZXR1cm4gZ2xvYmFsU3RhdGUudGltZW91dC5zdG9wKCk7XG4gIH1cbn07XG4vKipcbiAqIFJlc3VtZSB0aW1lci4gUmV0dXJucyBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIG9mIHRpbWVyIHJlbWFpbmVkLlxuICogSWYgYHRpbWVyYCBwYXJhbWV0ZXIgaXNuJ3Qgc2V0LCByZXR1cm5zIHVuZGVmaW5lZC5cbiAqL1xuXG52YXIgcmVzdW1lVGltZXIgPSBmdW5jdGlvbiByZXN1bWVUaW1lcigpIHtcbiAgaWYgKGdsb2JhbFN0YXRlLnRpbWVvdXQpIHtcbiAgICB2YXIgcmVtYWluaW5nID0gZ2xvYmFsU3RhdGUudGltZW91dC5zdGFydCgpO1xuICAgIGFuaW1hdGVUaW1lclByb2dyZXNzQmFyKHJlbWFpbmluZyk7XG4gICAgcmV0dXJuIHJlbWFpbmluZztcbiAgfVxufTtcbi8qKlxuICogUmVzdW1lIHRpbWVyLiBSZXR1cm5zIG51bWJlciBvZiBtaWxsaXNlY29uZHMgb2YgdGltZXIgcmVtYWluZWQuXG4gKiBJZiBgdGltZXJgIHBhcmFtZXRlciBpc24ndCBzZXQsIHJldHVybnMgdW5kZWZpbmVkLlxuICovXG5cbnZhciB0b2dnbGVUaW1lciA9IGZ1bmN0aW9uIHRvZ2dsZVRpbWVyKCkge1xuICB2YXIgdGltZXIgPSBnbG9iYWxTdGF0ZS50aW1lb3V0O1xuICByZXR1cm4gdGltZXIgJiYgKHRpbWVyLnJ1bm5pbmcgPyBzdG9wVGltZXIoKSA6IHJlc3VtZVRpbWVyKCkpO1xufTtcbi8qKlxuICogSW5jcmVhc2UgdGltZXIuIFJldHVybnMgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBvZiBhbiB1cGRhdGVkIHRpbWVyLlxuICogSWYgYHRpbWVyYCBwYXJhbWV0ZXIgaXNuJ3Qgc2V0LCByZXR1cm5zIHVuZGVmaW5lZC5cbiAqL1xuXG52YXIgaW5jcmVhc2VUaW1lciA9IGZ1bmN0aW9uIGluY3JlYXNlVGltZXIobikge1xuICBpZiAoZ2xvYmFsU3RhdGUudGltZW91dCkge1xuICAgIHZhciByZW1haW5pbmcgPSBnbG9iYWxTdGF0ZS50aW1lb3V0LmluY3JlYXNlKG4pO1xuICAgIGFuaW1hdGVUaW1lclByb2dyZXNzQmFyKHJlbWFpbmluZywgdHJ1ZSk7XG4gICAgcmV0dXJuIHJlbWFpbmluZztcbiAgfVxufTtcbi8qKlxuICogQ2hlY2sgaWYgdGltZXIgaXMgcnVubmluZy4gUmV0dXJucyB0cnVlIGlmIHRpbWVyIGlzIHJ1bm5pbmdcbiAqIG9yIGZhbHNlIGlmIHRpbWVyIGlzIHBhdXNlZCBvciBzdG9wcGVkLlxuICogSWYgYHRpbWVyYCBwYXJhbWV0ZXIgaXNuJ3Qgc2V0LCByZXR1cm5zIHVuZGVmaW5lZFxuICovXG5cbnZhciBpc1RpbWVyUnVubmluZyA9IGZ1bmN0aW9uIGlzVGltZXJSdW5uaW5nKCkge1xuICByZXR1cm4gZ2xvYmFsU3RhdGUudGltZW91dCAmJiBnbG9iYWxTdGF0ZS50aW1lb3V0LmlzUnVubmluZygpO1xufTtcblxudmFyIGRlZmF1bHRQYXJhbXMgPSB7XG4gIHRpdGxlOiAnJyxcbiAgdGl0bGVUZXh0OiAnJyxcbiAgdGV4dDogJycsXG4gIGh0bWw6ICcnLFxuICBmb290ZXI6ICcnLFxuICBpY29uOiB1bmRlZmluZWQsXG4gIGljb25IdG1sOiB1bmRlZmluZWQsXG4gIHRvYXN0OiBmYWxzZSxcbiAgYW5pbWF0aW9uOiB0cnVlLFxuICBzaG93Q2xhc3M6IHtcbiAgICBwb3B1cDogJ3N3YWwyLXNob3cnLFxuICAgIGJhY2tkcm9wOiAnc3dhbDItYmFja2Ryb3Atc2hvdycsXG4gICAgaWNvbjogJ3N3YWwyLWljb24tc2hvdydcbiAgfSxcbiAgaGlkZUNsYXNzOiB7XG4gICAgcG9wdXA6ICdzd2FsMi1oaWRlJyxcbiAgICBiYWNrZHJvcDogJ3N3YWwyLWJhY2tkcm9wLWhpZGUnLFxuICAgIGljb246ICdzd2FsMi1pY29uLWhpZGUnXG4gIH0sXG4gIGN1c3RvbUNsYXNzOiB1bmRlZmluZWQsXG4gIHRhcmdldDogJ2JvZHknLFxuICBiYWNrZHJvcDogdHJ1ZSxcbiAgaGVpZ2h0QXV0bzogdHJ1ZSxcbiAgYWxsb3dPdXRzaWRlQ2xpY2s6IHRydWUsXG4gIGFsbG93RXNjYXBlS2V5OiB0cnVlLFxuICBhbGxvd0VudGVyS2V5OiB0cnVlLFxuICBzdG9wS2V5ZG93blByb3BhZ2F0aW9uOiB0cnVlLFxuICBrZXlkb3duTGlzdGVuZXJDYXB0dXJlOiBmYWxzZSxcbiAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsXG4gIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLFxuICBwcmVDb25maXJtOiB1bmRlZmluZWQsXG4gIGNvbmZpcm1CdXR0b25UZXh0OiAnT0snLFxuICBjb25maXJtQnV0dG9uQXJpYUxhYmVsOiAnJyxcbiAgY29uZmlybUJ1dHRvbkNvbG9yOiB1bmRlZmluZWQsXG4gIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLFxuICBjYW5jZWxCdXR0b25BcmlhTGFiZWw6ICcnLFxuICBjYW5jZWxCdXR0b25Db2xvcjogdW5kZWZpbmVkLFxuICBidXR0b25zU3R5bGluZzogdHJ1ZSxcbiAgcmV2ZXJzZUJ1dHRvbnM6IGZhbHNlLFxuICBmb2N1c0NvbmZpcm06IHRydWUsXG4gIGZvY3VzQ2FuY2VsOiBmYWxzZSxcbiAgc2hvd0Nsb3NlQnV0dG9uOiBmYWxzZSxcbiAgY2xvc2VCdXR0b25IdG1sOiAnJnRpbWVzOycsXG4gIGNsb3NlQnV0dG9uQXJpYUxhYmVsOiAnQ2xvc2UgdGhpcyBkaWFsb2cnLFxuICBzaG93TG9hZGVyT25Db25maXJtOiBmYWxzZSxcbiAgaW1hZ2VVcmw6IHVuZGVmaW5lZCxcbiAgaW1hZ2VXaWR0aDogdW5kZWZpbmVkLFxuICBpbWFnZUhlaWdodDogdW5kZWZpbmVkLFxuICBpbWFnZUFsdDogJycsXG4gIHRpbWVyOiB1bmRlZmluZWQsXG4gIHRpbWVyUHJvZ3Jlc3NCYXI6IGZhbHNlLFxuICB3aWR0aDogdW5kZWZpbmVkLFxuICBwYWRkaW5nOiB1bmRlZmluZWQsXG4gIGJhY2tncm91bmQ6IHVuZGVmaW5lZCxcbiAgaW5wdXQ6IHVuZGVmaW5lZCxcbiAgaW5wdXRQbGFjZWhvbGRlcjogJycsXG4gIGlucHV0VmFsdWU6ICcnLFxuICBpbnB1dE9wdGlvbnM6IHt9LFxuICBpbnB1dEF1dG9UcmltOiB0cnVlLFxuICBpbnB1dEF0dHJpYnV0ZXM6IHt9LFxuICBpbnB1dFZhbGlkYXRvcjogdW5kZWZpbmVkLFxuICB2YWxpZGF0aW9uTWVzc2FnZTogdW5kZWZpbmVkLFxuICBncm93OiBmYWxzZSxcbiAgcG9zaXRpb246ICdjZW50ZXInLFxuICBwcm9ncmVzc1N0ZXBzOiBbXSxcbiAgY3VycmVudFByb2dyZXNzU3RlcDogdW5kZWZpbmVkLFxuICBwcm9ncmVzc1N0ZXBzRGlzdGFuY2U6IHVuZGVmaW5lZCxcbiAgb25CZWZvcmVPcGVuOiB1bmRlZmluZWQsXG4gIG9uT3BlbjogdW5kZWZpbmVkLFxuICBvblJlbmRlcjogdW5kZWZpbmVkLFxuICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gIG9uQWZ0ZXJDbG9zZTogdW5kZWZpbmVkLFxuICBzY3JvbGxiYXJQYWRkaW5nOiB0cnVlXG59O1xudmFyIHVwZGF0YWJsZVBhcmFtcyA9IFsndGl0bGUnLCAndGl0bGVUZXh0JywgJ3RleHQnLCAnaHRtbCcsICdpY29uJywgJ2N1c3RvbUNsYXNzJywgJ3Nob3dDb25maXJtQnV0dG9uJywgJ3Nob3dDYW5jZWxCdXR0b24nLCAnY29uZmlybUJ1dHRvblRleHQnLCAnY29uZmlybUJ1dHRvbkFyaWFMYWJlbCcsICdjb25maXJtQnV0dG9uQ29sb3InLCAnY2FuY2VsQnV0dG9uVGV4dCcsICdjYW5jZWxCdXR0b25BcmlhTGFiZWwnLCAnY2FuY2VsQnV0dG9uQ29sb3InLCAnYnV0dG9uc1N0eWxpbmcnLCAncmV2ZXJzZUJ1dHRvbnMnLCAnaW1hZ2VVcmwnLCAnaW1hZ2VXaWR0aCcsICdpbWFnZUhlaWdodCcsICdpbWFnZUFsdCcsICdwcm9ncmVzc1N0ZXBzJywgJ2N1cnJlbnRQcm9ncmVzc1N0ZXAnXTtcbnZhciBkZXByZWNhdGVkUGFyYW1zID0ge1xuICBhbmltYXRpb246ICdzaG93Q2xhc3NcIiBhbmQgXCJoaWRlQ2xhc3MnXG59O1xudmFyIHRvYXN0SW5jb21wYXRpYmxlUGFyYW1zID0gWydhbGxvd091dHNpZGVDbGljaycsICdhbGxvd0VudGVyS2V5JywgJ2JhY2tkcm9wJywgJ2ZvY3VzQ29uZmlybScsICdmb2N1c0NhbmNlbCcsICdoZWlnaHRBdXRvJywgJ2tleWRvd25MaXN0ZW5lckNhcHR1cmUnXTtcbi8qKlxuICogSXMgdmFsaWQgcGFyYW1ldGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFyYW1OYW1lXG4gKi9cblxudmFyIGlzVmFsaWRQYXJhbWV0ZXIgPSBmdW5jdGlvbiBpc1ZhbGlkUGFyYW1ldGVyKHBhcmFtTmFtZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlZmF1bHRQYXJhbXMsIHBhcmFtTmFtZSk7XG59O1xuLyoqXG4gKiBJcyB2YWxpZCBwYXJhbWV0ZXIgZm9yIFN3YWwudXBkYXRlKCkgbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFyYW1OYW1lXG4gKi9cblxudmFyIGlzVXBkYXRhYmxlUGFyYW1ldGVyID0gZnVuY3Rpb24gaXNVcGRhdGFibGVQYXJhbWV0ZXIocGFyYW1OYW1lKSB7XG4gIHJldHVybiB1cGRhdGFibGVQYXJhbXMuaW5kZXhPZihwYXJhbU5hbWUpICE9PSAtMTtcbn07XG4vKipcbiAqIElzIGRlcHJlY2F0ZWQgcGFyYW1ldGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFyYW1OYW1lXG4gKi9cblxudmFyIGlzRGVwcmVjYXRlZFBhcmFtZXRlciA9IGZ1bmN0aW9uIGlzRGVwcmVjYXRlZFBhcmFtZXRlcihwYXJhbU5hbWUpIHtcbiAgcmV0dXJuIGRlcHJlY2F0ZWRQYXJhbXNbcGFyYW1OYW1lXTtcbn07XG5cbnZhciBjaGVja0lmUGFyYW1Jc1ZhbGlkID0gZnVuY3Rpb24gY2hlY2tJZlBhcmFtSXNWYWxpZChwYXJhbSkge1xuICBpZiAoIWlzVmFsaWRQYXJhbWV0ZXIocGFyYW0pKSB7XG4gICAgd2FybihcIlVua25vd24gcGFyYW1ldGVyIFxcXCJcIi5jb25jYXQocGFyYW0sIFwiXFxcIlwiKSk7XG4gIH1cbn07XG5cbnZhciBjaGVja0lmVG9hc3RQYXJhbUlzVmFsaWQgPSBmdW5jdGlvbiBjaGVja0lmVG9hc3RQYXJhbUlzVmFsaWQocGFyYW0pIHtcbiAgaWYgKHRvYXN0SW5jb21wYXRpYmxlUGFyYW1zLmluZGV4T2YocGFyYW0pICE9PSAtMSkge1xuICAgIHdhcm4oXCJUaGUgcGFyYW1ldGVyIFxcXCJcIi5jb25jYXQocGFyYW0sIFwiXFxcIiBpcyBpbmNvbXBhdGlibGUgd2l0aCB0b2FzdHNcIikpO1xuICB9XG59O1xuXG52YXIgY2hlY2tJZlBhcmFtSXNEZXByZWNhdGVkID0gZnVuY3Rpb24gY2hlY2tJZlBhcmFtSXNEZXByZWNhdGVkKHBhcmFtKSB7XG4gIGlmIChpc0RlcHJlY2F0ZWRQYXJhbWV0ZXIocGFyYW0pKSB7XG4gICAgd2FybkFib3V0RGVwcmVhdGlvbihwYXJhbSwgaXNEZXByZWNhdGVkUGFyYW1ldGVyKHBhcmFtKSk7XG4gIH1cbn07XG4vKipcbiAqIFNob3cgcmVsZXZhbnQgd2FybmluZ3MgZm9yIGdpdmVuIHBhcmFtc1xuICpcbiAqIEBwYXJhbSBwYXJhbXNcbiAqL1xuXG5cbnZhciBzaG93V2FybmluZ3NGb3JQYXJhbXMgPSBmdW5jdGlvbiBzaG93V2FybmluZ3NGb3JQYXJhbXMocGFyYW1zKSB7XG4gIGZvciAodmFyIHBhcmFtIGluIHBhcmFtcykge1xuICAgIGNoZWNrSWZQYXJhbUlzVmFsaWQocGFyYW0pO1xuXG4gICAgaWYgKHBhcmFtcy50b2FzdCkge1xuICAgICAgY2hlY2tJZlRvYXN0UGFyYW1Jc1ZhbGlkKHBhcmFtKTtcbiAgICB9XG5cbiAgICBjaGVja0lmUGFyYW1Jc0RlcHJlY2F0ZWQocGFyYW0pO1xuICB9XG59O1xuXG5cblxudmFyIHN0YXRpY01ldGhvZHMgPSBPYmplY3QuZnJlZXplKHtcblx0aXNWYWxpZFBhcmFtZXRlcjogaXNWYWxpZFBhcmFtZXRlcixcblx0aXNVcGRhdGFibGVQYXJhbWV0ZXI6IGlzVXBkYXRhYmxlUGFyYW1ldGVyLFxuXHRpc0RlcHJlY2F0ZWRQYXJhbWV0ZXI6IGlzRGVwcmVjYXRlZFBhcmFtZXRlcixcblx0YXJnc1RvUGFyYW1zOiBhcmdzVG9QYXJhbXMsXG5cdGlzVmlzaWJsZTogaXNWaXNpYmxlJDEsXG5cdGNsaWNrQ29uZmlybTogY2xpY2tDb25maXJtLFxuXHRjbGlja0NhbmNlbDogY2xpY2tDYW5jZWwsXG5cdGdldENvbnRhaW5lcjogZ2V0Q29udGFpbmVyLFxuXHRnZXRQb3B1cDogZ2V0UG9wdXAsXG5cdGdldFRpdGxlOiBnZXRUaXRsZSxcblx0Z2V0Q29udGVudDogZ2V0Q29udGVudCxcblx0Z2V0SHRtbENvbnRhaW5lcjogZ2V0SHRtbENvbnRhaW5lcixcblx0Z2V0SW1hZ2U6IGdldEltYWdlLFxuXHRnZXRJY29uOiBnZXRJY29uLFxuXHRnZXRJY29uczogZ2V0SWNvbnMsXG5cdGdldENsb3NlQnV0dG9uOiBnZXRDbG9zZUJ1dHRvbixcblx0Z2V0QWN0aW9uczogZ2V0QWN0aW9ucyxcblx0Z2V0Q29uZmlybUJ1dHRvbjogZ2V0Q29uZmlybUJ1dHRvbixcblx0Z2V0Q2FuY2VsQnV0dG9uOiBnZXRDYW5jZWxCdXR0b24sXG5cdGdldEhlYWRlcjogZ2V0SGVhZGVyLFxuXHRnZXRGb290ZXI6IGdldEZvb3Rlcixcblx0Z2V0Rm9jdXNhYmxlRWxlbWVudHM6IGdldEZvY3VzYWJsZUVsZW1lbnRzLFxuXHRnZXRWYWxpZGF0aW9uTWVzc2FnZTogZ2V0VmFsaWRhdGlvbk1lc3NhZ2UsXG5cdGlzTG9hZGluZzogaXNMb2FkaW5nLFxuXHRmaXJlOiBmaXJlLFxuXHRtaXhpbjogbWl4aW4sXG5cdHF1ZXVlOiBxdWV1ZSxcblx0Z2V0UXVldWVTdGVwOiBnZXRRdWV1ZVN0ZXAsXG5cdGluc2VydFF1ZXVlU3RlcDogaW5zZXJ0UXVldWVTdGVwLFxuXHRkZWxldGVRdWV1ZVN0ZXA6IGRlbGV0ZVF1ZXVlU3RlcCxcblx0c2hvd0xvYWRpbmc6IHNob3dMb2FkaW5nLFxuXHRlbmFibGVMb2FkaW5nOiBzaG93TG9hZGluZyxcblx0Z2V0VGltZXJMZWZ0OiBnZXRUaW1lckxlZnQsXG5cdHN0b3BUaW1lcjogc3RvcFRpbWVyLFxuXHRyZXN1bWVUaW1lcjogcmVzdW1lVGltZXIsXG5cdHRvZ2dsZVRpbWVyOiB0b2dnbGVUaW1lcixcblx0aW5jcmVhc2VUaW1lcjogaW5jcmVhc2VUaW1lcixcblx0aXNUaW1lclJ1bm5pbmc6IGlzVGltZXJSdW5uaW5nXG59KTtcblxuLyoqXG4gKiBFbmFibGVzIGJ1dHRvbnMgYW5kIGhpZGUgbG9hZGVyLlxuICovXG5cbmZ1bmN0aW9uIGhpZGVMb2FkaW5nKCkge1xuICAvLyBkbyBub3RoaW5nIGlmIHBvcHVwIGlzIGNsb3NlZFxuICB2YXIgaW5uZXJQYXJhbXMgPSBwcml2YXRlUHJvcHMuaW5uZXJQYXJhbXMuZ2V0KHRoaXMpO1xuXG4gIGlmICghaW5uZXJQYXJhbXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZG9tQ2FjaGUgPSBwcml2YXRlUHJvcHMuZG9tQ2FjaGUuZ2V0KHRoaXMpO1xuXG4gIGlmICghaW5uZXJQYXJhbXMuc2hvd0NvbmZpcm1CdXR0b24pIHtcbiAgICBoaWRlKGRvbUNhY2hlLmNvbmZpcm1CdXR0b24pO1xuXG4gICAgaWYgKCFpbm5lclBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uKSB7XG4gICAgICBoaWRlKGRvbUNhY2hlLmFjdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUNsYXNzKFtkb21DYWNoZS5wb3B1cCwgZG9tQ2FjaGUuYWN0aW9uc10sIHN3YWxDbGFzc2VzLmxvYWRpbmcpO1xuICBkb21DYWNoZS5wb3B1cC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtYnVzeScpO1xuICBkb21DYWNoZS5wb3B1cC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbG9hZGluZycpO1xuICBkb21DYWNoZS5jb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIGRvbUNhY2hlLmNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRJbnB1dCQxKGluc3RhbmNlKSB7XG4gIHZhciBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UgfHwgdGhpcyk7XG4gIHZhciBkb21DYWNoZSA9IHByaXZhdGVQcm9wcy5kb21DYWNoZS5nZXQoaW5zdGFuY2UgfHwgdGhpcyk7XG5cbiAgaWYgKCFkb21DYWNoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGdldElucHV0KGRvbUNhY2hlLmNvbnRlbnQsIGlubmVyUGFyYW1zLmlucHV0KTtcbn1cblxudmFyIGZpeFNjcm9sbGJhciA9IGZ1bmN0aW9uIGZpeFNjcm9sbGJhcigpIHtcbiAgLy8gZm9yIHF1ZXVlcywgZG8gbm90IGRvIHRoaXMgbW9yZSB0aGFuIG9uY2VcbiAgaWYgKHN0YXRlcy5wcmV2aW91c0JvZHlQYWRkaW5nICE9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIGlmIHRoZSBib2R5IGhhcyBvdmVyZmxvd1xuXG5cbiAgaWYgKGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgLy8gYWRkIHBhZGRpbmcgc28gdGhlIGNvbnRlbnQgZG9lc24ndCBzaGlmdCBhZnRlciByZW1vdmFsIG9mIHNjcm9sbGJhclxuICAgIHN0YXRlcy5wcmV2aW91c0JvZHlQYWRkaW5nID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy1yaWdodCcpKTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IFwiXCIuY29uY2F0KHN0YXRlcy5wcmV2aW91c0JvZHlQYWRkaW5nICsgbWVhc3VyZVNjcm9sbGJhcigpLCBcInB4XCIpO1xuICB9XG59O1xudmFyIHVuZG9TY3JvbGxiYXIgPSBmdW5jdGlvbiB1bmRvU2Nyb2xsYmFyKCkge1xuICBpZiAoc3RhdGVzLnByZXZpb3VzQm9keVBhZGRpbmcgIT09IG51bGwpIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IFwiXCIuY29uY2F0KHN0YXRlcy5wcmV2aW91c0JvZHlQYWRkaW5nLCBcInB4XCIpO1xuICAgIHN0YXRlcy5wcmV2aW91c0JvZHlQYWRkaW5nID0gbnVsbDtcbiAgfVxufTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxudmFyIGlPU2ZpeCA9IGZ1bmN0aW9uIGlPU2ZpeCgpIHtcbiAgdmFyIGlPUyA9IC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICF3aW5kb3cuTVNTdHJlYW0gfHwgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDE7XG5cbiAgaWYgKGlPUyAmJiAhaGFzQ2xhc3MoZG9jdW1lbnQuYm9keSwgc3dhbENsYXNzZXMuaW9zZml4KSkge1xuICAgIHZhciBvZmZzZXQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IFwiXCIuY29uY2F0KG9mZnNldCAqIC0xLCBcInB4XCIpO1xuICAgIGFkZENsYXNzKGRvY3VtZW50LmJvZHksIHN3YWxDbGFzc2VzLmlvc2ZpeCk7XG4gICAgbG9ja0JvZHlTY3JvbGwoKTtcbiAgfVxufTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cbnZhciBsb2NrQm9keVNjcm9sbCA9IGZ1bmN0aW9uIGxvY2tCb2R5U2Nyb2xsKCkge1xuICAvLyAjMTI0NlxuICB2YXIgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gIHZhciBwcmV2ZW50VG91Y2hNb3ZlO1xuXG4gIGNvbnRhaW5lci5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHByZXZlbnRUb3VjaE1vdmUgPSBlLnRhcmdldCA9PT0gY29udGFpbmVyIHx8ICFpc1Njcm9sbGFibGUoY29udGFpbmVyKSAmJiBlLnRhcmdldC50YWdOYW1lICE9PSAnSU5QVVQnIC8vICMxNjAzXG4gICAgO1xuICB9O1xuXG4gIGNvbnRhaW5lci5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKHByZXZlbnRUb3VjaE1vdmUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9O1xufTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cblxudmFyIHVuZG9JT1NmaXggPSBmdW5jdGlvbiB1bmRvSU9TZml4KCkge1xuICBpZiAoaGFzQ2xhc3MoZG9jdW1lbnQuYm9keSwgc3dhbENsYXNzZXMuaW9zZml4KSkge1xuICAgIHZhciBvZmZzZXQgPSBwYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCwgMTApO1xuICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksIHN3YWxDbGFzc2VzLmlvc2ZpeCk7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAnJztcbiAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IG9mZnNldCAqIC0xO1xuICB9XG59O1xuXG52YXIgaXNJRTExID0gZnVuY3Rpb24gaXNJRTExKCkge1xuICByZXR1cm4gISF3aW5kb3cuTVNJbnB1dE1ldGhvZENvbnRleHQgJiYgISFkb2N1bWVudC5kb2N1bWVudE1vZGU7XG59OyAvLyBGaXggSUUxMSBjZW50ZXJpbmcgc3dlZXRhbGVydDIvaXNzdWVzLzkzM1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG5cbnZhciBmaXhWZXJ0aWNhbFBvc2l0aW9uSUUgPSBmdW5jdGlvbiBmaXhWZXJ0aWNhbFBvc2l0aW9uSUUoKSB7XG4gIHZhciBjb250YWluZXIgPSBnZXRDb250YWluZXIoKTtcbiAgdmFyIHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgY29udGFpbmVyLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdhbGlnbi1pdGVtcycpO1xuXG4gIGlmIChwb3B1cC5vZmZzZXRUb3AgPCAwKSB7XG4gICAgY29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAnZmxleC1zdGFydCc7XG4gIH1cbn07XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG5cbnZhciBJRWZpeCA9IGZ1bmN0aW9uIElFZml4KCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNJRTExKCkpIHtcbiAgICBmaXhWZXJ0aWNhbFBvc2l0aW9uSUUoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZml4VmVydGljYWxQb3NpdGlvbklFKTtcbiAgfVxufTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cbnZhciB1bmRvSUVmaXggPSBmdW5jdGlvbiB1bmRvSUVmaXgoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBpc0lFMTEoKSkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmaXhWZXJ0aWNhbFBvc2l0aW9uSUUpO1xuICB9XG59O1xuXG4vLyBBZGRpbmcgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdG8gZWxlbWVudHMgb3V0c2lkZSBvZiB0aGUgYWN0aXZlIG1vZGFsIGRpYWxvZyBlbnN1cmVzIHRoYXRcbi8vIGVsZW1lbnRzIG5vdCB3aXRoaW4gdGhlIGFjdGl2ZSBtb2RhbCBkaWFsb2cgd2lsbCBub3QgYmUgc3VyZmFjZWQgaWYgYSB1c2VyIG9wZW5zIGEgc2NyZWVuXG4vLyByZWFkZXLigJlzIGxpc3Qgb2YgZWxlbWVudHMgKGhlYWRpbmdzLCBmb3JtIGNvbnRyb2xzLCBsYW5kbWFya3MsIGV0Yy4pIGluIHRoZSBkb2N1bWVudC5cblxudmFyIHNldEFyaWFIaWRkZW4gPSBmdW5jdGlvbiBzZXRBcmlhSGlkZGVuKCkge1xuICB2YXIgYm9keUNoaWxkcmVuID0gdG9BcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgYm9keUNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKGVsID09PSBnZXRDb250YWluZXIoKSB8fCBjb250YWlucyhlbCwgZ2V0Q29udGFpbmVyKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXByZXZpb3VzLWFyaWEtaGlkZGVuJywgZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpKTtcbiAgICB9XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgfSk7XG59O1xudmFyIHVuc2V0QXJpYUhpZGRlbiA9IGZ1bmN0aW9uIHVuc2V0QXJpYUhpZGRlbigpIHtcbiAgdmFyIGJvZHlDaGlsZHJlbiA9IHRvQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gIGJvZHlDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcHJldmlvdXMtYXJpYS1oaWRkZW4nKSkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlbicpKTtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgY29udGFpbnRzIGBXZWFrTWFwYHMgZm9yIGVhY2ggZWZmZWN0aXZlbHktXCJwcml2YXRlICBwcm9wZXJ0eVwiIHRoYXQgYSBgU3dhbGAgaGFzLlxuICogRm9yIGV4YW1wbGUsIHRvIHNldCB0aGUgcHJpdmF0ZSBwcm9wZXJ0eSBcImZvb1wiIG9mIGB0aGlzYCB0byBcImJhclwiLCB5b3UgY2FuIGBwcml2YXRlUHJvcHMuZm9vLnNldCh0aGlzLCAnYmFyJylgXG4gKiBUaGlzIGlzIHRoZSBhcHByb2FjaCB0aGF0IEJhYmVsIHdpbGwgcHJvYmFibHkgdGFrZSB0byBpbXBsZW1lbnQgcHJpdmF0ZSBtZXRob2RzL2ZpZWxkc1xuICogICBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcml2YXRlLW1ldGhvZHNcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsL3B1bGwvNzU1NVxuICogT25jZSB3ZSBoYXZlIHRoZSBjaGFuZ2VzIGZyb20gdGhhdCBQUiBpbiBCYWJlbCwgYW5kIG91ciBjb3JlIGNsYXNzIGZpdHMgcmVhc29uYWJsZSBpbiAqb25lIG1vZHVsZSpcbiAqICAgdGhlbiB3ZSBjYW4gdXNlIHRoYXQgbGFuZ3VhZ2UgZmVhdHVyZS5cbiAqL1xudmFyIHByaXZhdGVNZXRob2RzID0ge1xuICBzd2FsUHJvbWlzZVJlc29sdmU6IG5ldyBXZWFrTWFwKClcbn07XG5cbi8qXG4gKiBJbnN0YW5jZSBtZXRob2QgdG8gY2xvc2Ugc3dlZXRBbGVydFxuICovXG5cbmZ1bmN0aW9uIHJlbW92ZVBvcHVwQW5kUmVzZXRTdGF0ZShpbnN0YW5jZSwgY29udGFpbmVyLCBpc1RvYXN0LCBvbkFmdGVyQ2xvc2UpIHtcbiAgaWYgKGlzVG9hc3QpIHtcbiAgICB0cmlnZ2VyT25BZnRlckNsb3NlQW5kRGlzcG9zZShpbnN0YW5jZSwgb25BZnRlckNsb3NlKTtcbiAgfSBlbHNlIHtcbiAgICByZXN0b3JlQWN0aXZlRWxlbWVudCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRyaWdnZXJPbkFmdGVyQ2xvc2VBbmREaXNwb3NlKGluc3RhbmNlLCBvbkFmdGVyQ2xvc2UpO1xuICAgIH0pO1xuICAgIGdsb2JhbFN0YXRlLmtleWRvd25UYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGdsb2JhbFN0YXRlLmtleWRvd25IYW5kbGVyLCB7XG4gICAgICBjYXB0dXJlOiBnbG9iYWxTdGF0ZS5rZXlkb3duTGlzdGVuZXJDYXB0dXJlXG4gICAgfSk7XG4gICAgZ2xvYmFsU3RhdGUua2V5ZG93bkhhbmRsZXJBZGRlZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGNvbnRhaW5lci5wYXJlbnROb2RlKSB7XG4gICAgY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgfVxuXG4gIGlmIChpc01vZGFsKCkpIHtcbiAgICB1bmRvU2Nyb2xsYmFyKCk7XG4gICAgdW5kb0lPU2ZpeCgpO1xuICAgIHVuZG9JRWZpeCgpO1xuICAgIHVuc2V0QXJpYUhpZGRlbigpO1xuICB9XG5cbiAgcmVtb3ZlQm9keUNsYXNzZXMoKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQm9keUNsYXNzZXMoKSB7XG4gIHJlbW92ZUNsYXNzKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldLCBbc3dhbENsYXNzZXMuc2hvd24sIHN3YWxDbGFzc2VzWydoZWlnaHQtYXV0byddLCBzd2FsQ2xhc3Nlc1snbm8tYmFja2Ryb3AnXSwgc3dhbENsYXNzZXNbJ3RvYXN0LXNob3duJ10sIHN3YWxDbGFzc2VzWyd0b2FzdC1jb2x1bW4nXV0pO1xufVxuXG5mdW5jdGlvbiBkaXNwb3NlU3dhbChpbnN0YW5jZSkge1xuICAvLyBVbnNldCB0aGlzLnBhcmFtcyBzbyBHQyB3aWxsIGRpc3Bvc2UgaXQgKCMxNTY5KVxuICBkZWxldGUgaW5zdGFuY2UucGFyYW1zOyAvLyBVbnNldCBnbG9iYWxTdGF0ZSBwcm9wcyBzbyBHQyB3aWxsIGRpc3Bvc2UgZ2xvYmFsU3RhdGUgKCMxNTY5KVxuXG4gIGRlbGV0ZSBnbG9iYWxTdGF0ZS5rZXlkb3duSGFuZGxlcjtcbiAgZGVsZXRlIGdsb2JhbFN0YXRlLmtleWRvd25UYXJnZXQ7IC8vIFVuc2V0IFdlYWtNYXBzIHNvIEdDIHdpbGwgYmUgYWJsZSB0byBkaXNwb3NlIHRoZW0gKCMxNTY5KVxuXG4gIHVuc2V0V2Vha01hcHMocHJpdmF0ZVByb3BzKTtcbiAgdW5zZXRXZWFrTWFwcyhwcml2YXRlTWV0aG9kcyk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlKHJlc29sdmVWYWx1ZSkge1xuICB2YXIgcG9wdXAgPSBnZXRQb3B1cCgpO1xuXG4gIGlmICghcG9wdXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaW5uZXJQYXJhbXMgPSBwcml2YXRlUHJvcHMuaW5uZXJQYXJhbXMuZ2V0KHRoaXMpO1xuXG4gIGlmICghaW5uZXJQYXJhbXMgfHwgaGFzQ2xhc3MocG9wdXAsIGlubmVyUGFyYW1zLmhpZGVDbGFzcy5wb3B1cCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc3dhbFByb21pc2VSZXNvbHZlID0gcHJpdmF0ZU1ldGhvZHMuc3dhbFByb21pc2VSZXNvbHZlLmdldCh0aGlzKTtcbiAgcmVtb3ZlQ2xhc3MocG9wdXAsIGlubmVyUGFyYW1zLnNob3dDbGFzcy5wb3B1cCk7XG4gIGFkZENsYXNzKHBvcHVwLCBpbm5lclBhcmFtcy5oaWRlQ2xhc3MucG9wdXApO1xuICB2YXIgYmFja2Ryb3AgPSBnZXRDb250YWluZXIoKTtcbiAgcmVtb3ZlQ2xhc3MoYmFja2Ryb3AsIGlubmVyUGFyYW1zLnNob3dDbGFzcy5iYWNrZHJvcCk7XG4gIGFkZENsYXNzKGJhY2tkcm9wLCBpbm5lclBhcmFtcy5oaWRlQ2xhc3MuYmFja2Ryb3ApO1xuICBoYW5kbGVQb3B1cEFuaW1hdGlvbih0aGlzLCBwb3B1cCwgaW5uZXJQYXJhbXMpOyAvLyBSZXNvbHZlIFN3YWwgcHJvbWlzZVxuXG4gIHN3YWxQcm9taXNlUmVzb2x2ZShyZXNvbHZlVmFsdWUgfHwge30pO1xufVxuXG52YXIgaGFuZGxlUG9wdXBBbmltYXRpb24gPSBmdW5jdGlvbiBoYW5kbGVQb3B1cEFuaW1hdGlvbihpbnN0YW5jZSwgcG9wdXAsIGlubmVyUGFyYW1zKSB7XG4gIHZhciBjb250YWluZXIgPSBnZXRDb250YWluZXIoKTsgLy8gSWYgYW5pbWF0aW9uIGlzIHN1cHBvcnRlZCwgYW5pbWF0ZVxuXG4gIHZhciBhbmltYXRpb25Jc1N1cHBvcnRlZCA9IGFuaW1hdGlvbkVuZEV2ZW50ICYmIGhhc0Nzc0FuaW1hdGlvbihwb3B1cCk7XG4gIHZhciBvbkNsb3NlID0gaW5uZXJQYXJhbXMub25DbG9zZSxcbiAgICAgIG9uQWZ0ZXJDbG9zZSA9IGlubmVyUGFyYW1zLm9uQWZ0ZXJDbG9zZTtcblxuICBpZiAob25DbG9zZSAhPT0gbnVsbCAmJiB0eXBlb2Ygb25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9uQ2xvc2UocG9wdXApO1xuICB9XG5cbiAgaWYgKGFuaW1hdGlvbklzU3VwcG9ydGVkKSB7XG4gICAgYW5pbWF0ZVBvcHVwKGluc3RhbmNlLCBwb3B1cCwgY29udGFpbmVyLCBvbkFmdGVyQ2xvc2UpO1xuICB9IGVsc2Uge1xuICAgIC8vIE90aGVyd2lzZSwgcmVtb3ZlIGltbWVkaWF0ZWx5XG4gICAgcmVtb3ZlUG9wdXBBbmRSZXNldFN0YXRlKGluc3RhbmNlLCBjb250YWluZXIsIGlzVG9hc3QoKSwgb25BZnRlckNsb3NlKTtcbiAgfVxufTtcblxudmFyIGFuaW1hdGVQb3B1cCA9IGZ1bmN0aW9uIGFuaW1hdGVQb3B1cChpbnN0YW5jZSwgcG9wdXAsIGNvbnRhaW5lciwgb25BZnRlckNsb3NlKSB7XG4gIGdsb2JhbFN0YXRlLnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjayA9IHJlbW92ZVBvcHVwQW5kUmVzZXRTdGF0ZS5iaW5kKG51bGwsIGluc3RhbmNlLCBjb250YWluZXIsIGlzVG9hc3QoKSwgb25BZnRlckNsb3NlKTtcbiAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihhbmltYXRpb25FbmRFdmVudCwgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IHBvcHVwKSB7XG4gICAgICBnbG9iYWxTdGF0ZS5zd2FsQ2xvc2VFdmVudEZpbmlzaGVkQ2FsbGJhY2soKTtcbiAgICAgIGRlbGV0ZSBnbG9iYWxTdGF0ZS5zd2FsQ2xvc2VFdmVudEZpbmlzaGVkQ2FsbGJhY2s7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciB1bnNldFdlYWtNYXBzID0gZnVuY3Rpb24gdW5zZXRXZWFrTWFwcyhvYmopIHtcbiAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBvYmpbaV0gPSBuZXcgV2Vha01hcCgpO1xuICB9XG59O1xuXG52YXIgdHJpZ2dlck9uQWZ0ZXJDbG9zZUFuZERpc3Bvc2UgPSBmdW5jdGlvbiB0cmlnZ2VyT25BZnRlckNsb3NlQW5kRGlzcG9zZShpbnN0YW5jZSwgb25BZnRlckNsb3NlKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvbkFmdGVyQ2xvc2UgIT09IG51bGwgJiYgdHlwZW9mIG9uQWZ0ZXJDbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb25BZnRlckNsb3NlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFnZXRQb3B1cCgpKSB7XG4gICAgICBkaXNwb3NlU3dhbChpbnN0YW5jZSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIHNldEJ1dHRvbnNEaXNhYmxlZChpbnN0YW5jZSwgYnV0dG9ucywgZGlzYWJsZWQpIHtcbiAgdmFyIGRvbUNhY2hlID0gcHJpdmF0ZVByb3BzLmRvbUNhY2hlLmdldChpbnN0YW5jZSk7XG4gIGJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgZG9tQ2FjaGVbYnV0dG9uXS5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0SW5wdXREaXNhYmxlZChpbnB1dCwgZGlzYWJsZWQpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpbnB1dC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgdmFyIHJhZGlvc0NvbnRhaW5lciA9IGlucHV0LnBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICB2YXIgcmFkaW9zID0gcmFkaW9zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhZGlvcy5sZW5ndGg7IGkrKykge1xuICAgICAgcmFkaW9zW2ldLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlucHV0LmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5hYmxlQnV0dG9ucygpIHtcbiAgc2V0QnV0dG9uc0Rpc2FibGVkKHRoaXMsIFsnY29uZmlybUJ1dHRvbicsICdjYW5jZWxCdXR0b24nXSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gZGlzYWJsZUJ1dHRvbnMoKSB7XG4gIHNldEJ1dHRvbnNEaXNhYmxlZCh0aGlzLCBbJ2NvbmZpcm1CdXR0b24nLCAnY2FuY2VsQnV0dG9uJ10sIHRydWUpO1xufVxuZnVuY3Rpb24gZW5hYmxlSW5wdXQoKSB7XG4gIHJldHVybiBzZXRJbnB1dERpc2FibGVkKHRoaXMuZ2V0SW5wdXQoKSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gZGlzYWJsZUlucHV0KCkge1xuICByZXR1cm4gc2V0SW5wdXREaXNhYmxlZCh0aGlzLmdldElucHV0KCksIHRydWUpO1xufVxuXG5mdW5jdGlvbiBzaG93VmFsaWRhdGlvbk1lc3NhZ2UoZXJyb3IpIHtcbiAgdmFyIGRvbUNhY2hlID0gcHJpdmF0ZVByb3BzLmRvbUNhY2hlLmdldCh0aGlzKTtcbiAgZG9tQ2FjaGUudmFsaWRhdGlvbk1lc3NhZ2UuaW5uZXJIVE1MID0gZXJyb3I7XG4gIHZhciBwb3B1cENvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb21DYWNoZS5wb3B1cCk7XG4gIGRvbUNhY2hlLnZhbGlkYXRpb25NZXNzYWdlLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi1cIi5jb25jYXQocG9wdXBDb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctbGVmdCcpKTtcbiAgZG9tQ2FjaGUudmFsaWRhdGlvbk1lc3NhZ2Uuc3R5bGUubWFyZ2luUmlnaHQgPSBcIi1cIi5jb25jYXQocG9wdXBDb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctcmlnaHQnKSk7XG4gIHNob3coZG9tQ2FjaGUudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICB2YXIgaW5wdXQgPSB0aGlzLmdldElucHV0KCk7XG5cbiAgaWYgKGlucHV0KSB7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCB0cnVlKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkQnknLCBzd2FsQ2xhc3Nlc1sndmFsaWRhdGlvbi1tZXNzYWdlJ10pO1xuICAgIGZvY3VzSW5wdXQoaW5wdXQpO1xuICAgIGFkZENsYXNzKGlucHV0LCBzd2FsQ2xhc3Nlcy5pbnB1dGVycm9yKTtcbiAgfVxufSAvLyBIaWRlIGJsb2NrIHdpdGggdmFsaWRhdGlvbiBtZXNzYWdlXG5cbmZ1bmN0aW9uIHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UkMSgpIHtcbiAgdmFyIGRvbUNhY2hlID0gcHJpdmF0ZVByb3BzLmRvbUNhY2hlLmdldCh0aGlzKTtcblxuICBpZiAoZG9tQ2FjaGUudmFsaWRhdGlvbk1lc3NhZ2UpIHtcbiAgICBoaWRlKGRvbUNhY2hlLnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgfVxuXG4gIHZhciBpbnB1dCA9IHRoaXMuZ2V0SW5wdXQoKTtcblxuICBpZiAoaW5wdXQpIHtcbiAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcpO1xuICAgIGlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRCeScpO1xuICAgIHJlbW92ZUNsYXNzKGlucHV0LCBzd2FsQ2xhc3Nlcy5pbnB1dGVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQcm9ncmVzc1N0ZXBzJDEoKSB7XG4gIHZhciBkb21DYWNoZSA9IHByaXZhdGVQcm9wcy5kb21DYWNoZS5nZXQodGhpcyk7XG4gIHJldHVybiBkb21DYWNoZS5wcm9ncmVzc1N0ZXBzO1xufVxuXG52YXIgVGltZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaW1lcihjYWxsYmFjaywgZGVsYXkpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZXIpO1xuXG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMucmVtYWluaW5nID0gZGVsYXk7XG4gICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgdGhpcy5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRpbWVyLCBbe1xuICAgIGtleTogXCJzdGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgIGlmICghdGhpcy5ydW5uaW5nKSB7XG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuaWQgPSBzZXRUaW1lb3V0KHRoaXMuY2FsbGJhY2ssIHRoaXMucmVtYWluaW5nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdG9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICBpZiAodGhpcy5ydW5uaW5nKSB7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5pZCk7XG4gICAgICAgIHRoaXMucmVtYWluaW5nIC09IG5ldyBEYXRlKCkgLSB0aGlzLnN0YXJ0ZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5jcmVhc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5jcmVhc2Uobikge1xuICAgICAgdmFyIHJ1bm5pbmcgPSB0aGlzLnJ1bm5pbmc7XG5cbiAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbWFpbmluZyArPSBuO1xuXG4gICAgICBpZiAocnVubmluZykge1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VGltZXJMZWZ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRpbWVyTGVmdCgpIHtcbiAgICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1J1bm5pbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNSdW5uaW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMucnVubmluZztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGltZXI7XG59KCk7XG5cbnZhciBkZWZhdWx0SW5wdXRWYWxpZGF0b3JzID0ge1xuICBlbWFpbDogZnVuY3Rpb24gZW1haWwoc3RyaW5nLCB2YWxpZGF0aW9uTWVzc2FnZSkge1xuICAgIHJldHVybiAvXlthLXpBLVowLTkuK18tXStAW2EtekEtWjAtOS4tXStcXC5bYS16QS1aMC05LV17MiwyNH0kLy50ZXN0KHN0cmluZykgPyBQcm9taXNlLnJlc29sdmUoKSA6IFByb21pc2UucmVzb2x2ZSh2YWxpZGF0aW9uTWVzc2FnZSB8fCAnSW52YWxpZCBlbWFpbCBhZGRyZXNzJyk7XG4gIH0sXG4gIHVybDogZnVuY3Rpb24gdXJsKHN0cmluZywgdmFsaWRhdGlvbk1lc3NhZ2UpIHtcbiAgICAvLyB0YWtlbiBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zODA5NDM1IHdpdGggYSBzbWFsbCBjaGFuZ2UgZnJvbSAjMTMwNlxuICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC8od3d3XFwuKT9bLWEtekEtWjAtOUA6JS5fK34jPV17MiwyNTZ9XFwuW2Etel17Miw2M31cXGIoWy1hLXpBLVowLTlAOiVfKy5+Iz8mLz1dKikkLy50ZXN0KHN0cmluZykgPyBQcm9taXNlLnJlc29sdmUoKSA6IFByb21pc2UucmVzb2x2ZSh2YWxpZGF0aW9uTWVzc2FnZSB8fCAnSW52YWxpZCBVUkwnKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0RGVmYXVsdElucHV0VmFsaWRhdG9ycyhwYXJhbXMpIHtcbiAgLy8gVXNlIGRlZmF1bHQgYGlucHV0VmFsaWRhdG9yYCBmb3Igc3VwcG9ydGVkIGlucHV0IHR5cGVzIGlmIG5vdCBwcm92aWRlZFxuICBpZiAoIXBhcmFtcy5pbnB1dFZhbGlkYXRvcikge1xuICAgIE9iamVjdC5rZXlzKGRlZmF1bHRJbnB1dFZhbGlkYXRvcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKHBhcmFtcy5pbnB1dCA9PT0ga2V5KSB7XG4gICAgICAgIHBhcmFtcy5pbnB1dFZhbGlkYXRvciA9IGRlZmF1bHRJbnB1dFZhbGlkYXRvcnNba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUN1c3RvbVRhcmdldEVsZW1lbnQocGFyYW1zKSB7XG4gIC8vIERldGVybWluZSBpZiB0aGUgY3VzdG9tIHRhcmdldCBlbGVtZW50IGlzIHZhbGlkXG4gIGlmICghcGFyYW1zLnRhcmdldCB8fCB0eXBlb2YgcGFyYW1zLnRhcmdldCA9PT0gJ3N0cmluZycgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyYW1zLnRhcmdldCkgfHwgdHlwZW9mIHBhcmFtcy50YXJnZXQgIT09ICdzdHJpbmcnICYmICFwYXJhbXMudGFyZ2V0LmFwcGVuZENoaWxkKSB7XG4gICAgd2FybignVGFyZ2V0IHBhcmFtZXRlciBpcyBub3QgdmFsaWQsIGRlZmF1bHRpbmcgdG8gXCJib2R5XCInKTtcbiAgICBwYXJhbXMudGFyZ2V0ID0gJ2JvZHknO1xuICB9XG59XG4vKipcbiAqIFNldCB0eXBlLCB0ZXh0IGFuZCBhY3Rpb25zIG9uIHBvcHVwXG4gKlxuICogQHBhcmFtIHBhcmFtc1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuXG5mdW5jdGlvbiBzZXRQYXJhbWV0ZXJzKHBhcmFtcykge1xuICBzZXREZWZhdWx0SW5wdXRWYWxpZGF0b3JzKHBhcmFtcyk7IC8vIHNob3dMb2FkZXJPbkNvbmZpcm0gJiYgcHJlQ29uZmlybVxuXG4gIGlmIChwYXJhbXMuc2hvd0xvYWRlck9uQ29uZmlybSAmJiAhcGFyYW1zLnByZUNvbmZpcm0pIHtcbiAgICB3YXJuKCdzaG93TG9hZGVyT25Db25maXJtIGlzIHNldCB0byB0cnVlLCBidXQgcHJlQ29uZmlybSBpcyBub3QgZGVmaW5lZC5cXG4nICsgJ3Nob3dMb2FkZXJPbkNvbmZpcm0gc2hvdWxkIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBwcmVDb25maXJtLCBzZWUgdXNhZ2UgZXhhbXBsZTpcXG4nICsgJ2h0dHBzOi8vc3dlZXRhbGVydDIuZ2l0aHViLmlvLyNhamF4LXJlcXVlc3QnKTtcbiAgfSAvLyBwYXJhbXMuYW5pbWF0aW9uIHdpbGwgYmUgYWN0dWFsbHkgdXNlZCBpbiByZW5kZXJQb3B1cC5qc1xuICAvLyBidXQgaW4gY2FzZSB3aGVuIHBhcmFtcy5hbmltYXRpb24gaXMgYSBmdW5jdGlvbiwgd2UgbmVlZCB0byBjYWxsIHRoYXQgZnVuY3Rpb25cbiAgLy8gYmVmb3JlIHBvcHVwIChyZSlpbml0aWFsaXphdGlvbiwgc28gaXQnbGwgYmUgcG9zc2libGUgdG8gY2hlY2sgU3dhbC5pc1Zpc2libGUoKVxuICAvLyBpbnNpZGUgdGhlIHBhcmFtcy5hbmltYXRpb24gZnVuY3Rpb25cblxuXG4gIHBhcmFtcy5hbmltYXRpb24gPSBjYWxsSWZGdW5jdGlvbihwYXJhbXMuYW5pbWF0aW9uKTtcbiAgdmFsaWRhdGVDdXN0b21UYXJnZXRFbGVtZW50KHBhcmFtcyk7IC8vIFJlcGxhY2UgbmV3bGluZXMgd2l0aCA8YnI+IGluIHRpdGxlXG5cbiAgaWYgKHR5cGVvZiBwYXJhbXMudGl0bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcGFyYW1zLnRpdGxlID0gcGFyYW1zLnRpdGxlLnNwbGl0KCdcXG4nKS5qb2luKCc8YnIgLz4nKTtcbiAgfVxuXG4gIGluaXQocGFyYW1zKTtcbn1cblxuZnVuY3Rpb24gc3dhbE9wZW5BbmltYXRpb25GaW5pc2hlZChwb3B1cCwgY29udGFpbmVyKSB7XG4gIHBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoYW5pbWF0aW9uRW5kRXZlbnQsIHN3YWxPcGVuQW5pbWF0aW9uRmluaXNoZWQpO1xuICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3dZID0gJ2F1dG8nO1xufVxuLyoqXG4gKiBPcGVuIHBvcHVwLCBhZGQgbmVjZXNzYXJ5IGNsYXNzZXMgYW5kIHN0eWxlcywgZml4IHNjcm9sbGJhclxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtc1xuICovXG5cblxudmFyIG9wZW5Qb3B1cCA9IGZ1bmN0aW9uIG9wZW5Qb3B1cChwYXJhbXMpIHtcbiAgdmFyIGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpO1xuICB2YXIgcG9wdXAgPSBnZXRQb3B1cCgpO1xuXG4gIGlmICh0eXBlb2YgcGFyYW1zLm9uQmVmb3JlT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHBhcmFtcy5vbkJlZm9yZU9wZW4ocG9wdXApO1xuICB9XG5cbiAgYWRkQ2xhc3NlcyQxKGNvbnRhaW5lciwgcG9wdXAsIHBhcmFtcyk7IC8vIHNjcm9sbGluZyBpcyAnaGlkZGVuJyB1bnRpbCBhbmltYXRpb24gaXMgZG9uZSwgYWZ0ZXIgdGhhdCAnYXV0bydcblxuICBzZXRTY3JvbGxpbmdWaXNpYmlsaXR5KGNvbnRhaW5lciwgcG9wdXApO1xuXG4gIGlmIChpc01vZGFsKCkpIHtcbiAgICBmaXhTY3JvbGxDb250YWluZXIoY29udGFpbmVyLCBwYXJhbXMuc2Nyb2xsYmFyUGFkZGluZyk7XG4gIH1cblxuICBpZiAoIWlzVG9hc3QoKSAmJiAhZ2xvYmFsU3RhdGUucHJldmlvdXNBY3RpdmVFbGVtZW50KSB7XG4gICAgZ2xvYmFsU3RhdGUucHJldmlvdXNBY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGFyYW1zLm9uT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHBhcmFtcy5vbk9wZW4ocG9wdXApO1xuICAgIH0pO1xuICB9XG59O1xuXG52YXIgc2V0U2Nyb2xsaW5nVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIHNldFNjcm9sbGluZ1Zpc2liaWxpdHkoY29udGFpbmVyLCBwb3B1cCkge1xuICBpZiAoYW5pbWF0aW9uRW5kRXZlbnQgJiYgaGFzQ3NzQW5pbWF0aW9uKHBvcHVwKSkge1xuICAgIGNvbnRhaW5lci5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJztcbiAgICBwb3B1cC5hZGRFdmVudExpc3RlbmVyKGFuaW1hdGlvbkVuZEV2ZW50LCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBwb3B1cCkge1xuICAgICAgICBzd2FsT3BlbkFuaW1hdGlvbkZpbmlzaGVkLmJpbmQobnVsbCwgcG9wdXAsIGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93WSA9ICdhdXRvJztcbiAgfVxufTtcblxudmFyIGZpeFNjcm9sbENvbnRhaW5lciA9IGZ1bmN0aW9uIGZpeFNjcm9sbENvbnRhaW5lcihjb250YWluZXIsIHNjcm9sbGJhclBhZGRpbmcpIHtcbiAgaU9TZml4KCk7XG4gIElFZml4KCk7XG4gIHNldEFyaWFIaWRkZW4oKTtcblxuICBpZiAoc2Nyb2xsYmFyUGFkZGluZykge1xuICAgIGZpeFNjcm9sbGJhcigpO1xuICB9IC8vIHN3ZWV0YWxlcnQyL2lzc3Vlcy8xMjQ3XG5cblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gMDtcbiAgfSk7XG59O1xuXG52YXIgYWRkQ2xhc3NlcyQxID0gZnVuY3Rpb24gYWRkQ2xhc3Nlcyhjb250YWluZXIsIHBvcHVwLCBwYXJhbXMpIHtcbiAgYWRkQ2xhc3MoY29udGFpbmVyLCBwYXJhbXMuc2hvd0NsYXNzLmJhY2tkcm9wKTtcbiAgc2hvdyhwb3B1cCk7IC8vIEFuaW1hdGUgcG9wdXAgcmlnaHQgYWZ0ZXIgc2hvd2luZyBpdFxuXG4gIGFkZENsYXNzKHBvcHVwLCBwYXJhbXMuc2hvd0NsYXNzLnBvcHVwKTtcbiAgYWRkQ2xhc3MoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0sIHN3YWxDbGFzc2VzLnNob3duKTtcblxuICBpZiAocGFyYW1zLmhlaWdodEF1dG8gJiYgcGFyYW1zLmJhY2tkcm9wICYmICFwYXJhbXMudG9hc3QpIHtcbiAgICBhZGRDbGFzcyhbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudC5ib2R5XSwgc3dhbENsYXNzZXNbJ2hlaWdodC1hdXRvJ10pO1xuICB9XG59O1xuXG52YXIgaGFuZGxlSW5wdXRPcHRpb25zQW5kVmFsdWUgPSBmdW5jdGlvbiBoYW5kbGVJbnB1dE9wdGlvbnNBbmRWYWx1ZShpbnN0YW5jZSwgcGFyYW1zKSB7XG4gIGlmIChwYXJhbXMuaW5wdXQgPT09ICdzZWxlY3QnIHx8IHBhcmFtcy5pbnB1dCA9PT0gJ3JhZGlvJykge1xuICAgIGhhbmRsZUlucHV0T3B0aW9ucyhpbnN0YW5jZSwgcGFyYW1zKTtcbiAgfSBlbHNlIGlmIChbJ3RleHQnLCAnZW1haWwnLCAnbnVtYmVyJywgJ3RlbCcsICd0ZXh0YXJlYSddLmluZGV4T2YocGFyYW1zLmlucHV0KSAhPT0gLTEgJiYgaXNQcm9taXNlKHBhcmFtcy5pbnB1dFZhbHVlKSkge1xuICAgIGhhbmRsZUlucHV0VmFsdWUoaW5zdGFuY2UsIHBhcmFtcyk7XG4gIH1cbn07XG52YXIgZ2V0SW5wdXRWYWx1ZSA9IGZ1bmN0aW9uIGdldElucHV0VmFsdWUoaW5zdGFuY2UsIGlubmVyUGFyYW1zKSB7XG4gIHZhciBpbnB1dCA9IGluc3RhbmNlLmdldElucHV0KCk7XG5cbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3dpdGNoIChpbm5lclBhcmFtcy5pbnB1dCkge1xuICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIHJldHVybiBnZXRDaGVja2JveFZhbHVlKGlucHV0KTtcblxuICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgIHJldHVybiBnZXRSYWRpb1ZhbHVlKGlucHV0KTtcblxuICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgcmV0dXJuIGdldEZpbGVWYWx1ZShpbnB1dCk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGlubmVyUGFyYW1zLmlucHV0QXV0b1RyaW0gPyBpbnB1dC52YWx1ZS50cmltKCkgOiBpbnB1dC52YWx1ZTtcbiAgfVxufTtcblxudmFyIGdldENoZWNrYm94VmFsdWUgPSBmdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5jaGVja2VkID8gMSA6IDA7XG59O1xuXG52YXIgZ2V0UmFkaW9WYWx1ZSA9IGZ1bmN0aW9uIGdldFJhZGlvVmFsdWUoaW5wdXQpIHtcbiAgcmV0dXJuIGlucHV0LmNoZWNrZWQgPyBpbnB1dC52YWx1ZSA6IG51bGw7XG59O1xuXG52YXIgZ2V0RmlsZVZhbHVlID0gZnVuY3Rpb24gZ2V0RmlsZVZhbHVlKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5maWxlcy5sZW5ndGggPyBpbnB1dC5nZXRBdHRyaWJ1dGUoJ211bHRpcGxlJykgIT09IG51bGwgPyBpbnB1dC5maWxlcyA6IGlucHV0LmZpbGVzWzBdIDogbnVsbDtcbn07XG5cbnZhciBoYW5kbGVJbnB1dE9wdGlvbnMgPSBmdW5jdGlvbiBoYW5kbGVJbnB1dE9wdGlvbnMoaW5zdGFuY2UsIHBhcmFtcykge1xuICB2YXIgY29udGVudCA9IGdldENvbnRlbnQoKTtcblxuICB2YXIgcHJvY2Vzc0lucHV0T3B0aW9ucyA9IGZ1bmN0aW9uIHByb2Nlc3NJbnB1dE9wdGlvbnMoaW5wdXRPcHRpb25zKSB7XG4gICAgcmV0dXJuIHBvcHVsYXRlSW5wdXRPcHRpb25zW3BhcmFtcy5pbnB1dF0oY29udGVudCwgZm9ybWF0SW5wdXRPcHRpb25zKGlucHV0T3B0aW9ucyksIHBhcmFtcyk7XG4gIH07XG5cbiAgaWYgKGlzUHJvbWlzZShwYXJhbXMuaW5wdXRPcHRpb25zKSkge1xuICAgIHNob3dMb2FkaW5nKCk7XG4gICAgcGFyYW1zLmlucHV0T3B0aW9ucy50aGVuKGZ1bmN0aW9uIChpbnB1dE9wdGlvbnMpIHtcbiAgICAgIGluc3RhbmNlLmhpZGVMb2FkaW5nKCk7XG4gICAgICBwcm9jZXNzSW5wdXRPcHRpb25zKGlucHV0T3B0aW9ucyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoX3R5cGVvZihwYXJhbXMuaW5wdXRPcHRpb25zKSA9PT0gJ29iamVjdCcpIHtcbiAgICBwcm9jZXNzSW5wdXRPcHRpb25zKHBhcmFtcy5pbnB1dE9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGVycm9yKFwiVW5leHBlY3RlZCB0eXBlIG9mIGlucHV0T3B0aW9ucyEgRXhwZWN0ZWQgb2JqZWN0LCBNYXAgb3IgUHJvbWlzZSwgZ290IFwiLmNvbmNhdChfdHlwZW9mKHBhcmFtcy5pbnB1dE9wdGlvbnMpKSk7XG4gIH1cbn07XG5cbnZhciBoYW5kbGVJbnB1dFZhbHVlID0gZnVuY3Rpb24gaGFuZGxlSW5wdXRWYWx1ZShpbnN0YW5jZSwgcGFyYW1zKSB7XG4gIHZhciBpbnB1dCA9IGluc3RhbmNlLmdldElucHV0KCk7XG4gIGhpZGUoaW5wdXQpO1xuICBwYXJhbXMuaW5wdXRWYWx1ZS50aGVuKGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XG4gICAgaW5wdXQudmFsdWUgPSBwYXJhbXMuaW5wdXQgPT09ICdudW1iZXInID8gcGFyc2VGbG9hdChpbnB1dFZhbHVlKSB8fCAwIDogXCJcIi5jb25jYXQoaW5wdXRWYWx1ZSk7XG4gICAgc2hvdyhpbnB1dCk7XG4gICAgaW5wdXQuZm9jdXMoKTtcbiAgICBpbnN0YW5jZS5oaWRlTG9hZGluZygpO1xuICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBlcnJvcihcIkVycm9yIGluIGlucHV0VmFsdWUgcHJvbWlzZTogXCIuY29uY2F0KGVycikpO1xuICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgc2hvdyhpbnB1dCk7XG4gICAgaW5wdXQuZm9jdXMoKTtcbiAgICBpbnN0YW5jZS5oaWRlTG9hZGluZygpO1xuICB9KTtcbn07XG5cbnZhciBwb3B1bGF0ZUlucHV0T3B0aW9ucyA9IHtcbiAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoY29udGVudCwgaW5wdXRPcHRpb25zLCBwYXJhbXMpIHtcbiAgICB2YXIgc2VsZWN0ID0gZ2V0Q2hpbGRCeUNsYXNzKGNvbnRlbnQsIHN3YWxDbGFzc2VzLnNlbGVjdCk7XG4gICAgaW5wdXRPcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKGlucHV0T3B0aW9uKSB7XG4gICAgICB2YXIgb3B0aW9uVmFsdWUgPSBpbnB1dE9wdGlvblswXTtcbiAgICAgIHZhciBvcHRpb25MYWJlbCA9IGlucHV0T3B0aW9uWzFdO1xuICAgICAgdmFyIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgb3B0aW9uLnZhbHVlID0gb3B0aW9uVmFsdWU7XG4gICAgICBvcHRpb24uaW5uZXJIVE1MID0gb3B0aW9uTGFiZWw7XG5cbiAgICAgIGlmIChwYXJhbXMuaW5wdXRWYWx1ZS50b1N0cmluZygpID09PSBvcHRpb25WYWx1ZS50b1N0cmluZygpKSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH0pO1xuICAgIHNlbGVjdC5mb2N1cygpO1xuICB9LFxuICByYWRpbzogZnVuY3Rpb24gcmFkaW8oY29udGVudCwgaW5wdXRPcHRpb25zLCBwYXJhbXMpIHtcbiAgICB2YXIgcmFkaW8gPSBnZXRDaGlsZEJ5Q2xhc3MoY29udGVudCwgc3dhbENsYXNzZXMucmFkaW8pO1xuICAgIGlucHV0T3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dE9wdGlvbikge1xuICAgICAgdmFyIHJhZGlvVmFsdWUgPSBpbnB1dE9wdGlvblswXTtcbiAgICAgIHZhciByYWRpb0xhYmVsID0gaW5wdXRPcHRpb25bMV07XG4gICAgICB2YXIgcmFkaW9JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICB2YXIgcmFkaW9MYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgcmFkaW9JbnB1dC50eXBlID0gJ3JhZGlvJztcbiAgICAgIHJhZGlvSW5wdXQubmFtZSA9IHN3YWxDbGFzc2VzLnJhZGlvO1xuICAgICAgcmFkaW9JbnB1dC52YWx1ZSA9IHJhZGlvVmFsdWU7XG5cbiAgICAgIGlmIChwYXJhbXMuaW5wdXRWYWx1ZS50b1N0cmluZygpID09PSByYWRpb1ZhbHVlLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgcmFkaW9JbnB1dC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgbGFiZWwuaW5uZXJIVE1MID0gcmFkaW9MYWJlbDtcbiAgICAgIGxhYmVsLmNsYXNzTmFtZSA9IHN3YWxDbGFzc2VzLmxhYmVsO1xuICAgICAgcmFkaW9MYWJlbEVsZW1lbnQuYXBwZW5kQ2hpbGQocmFkaW9JbnB1dCk7XG4gICAgICByYWRpb0xhYmVsRWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICByYWRpby5hcHBlbmRDaGlsZChyYWRpb0xhYmVsRWxlbWVudCk7XG4gICAgfSk7XG4gICAgdmFyIHJhZGlvcyA9IHJhZGlvLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG5cbiAgICBpZiAocmFkaW9zLmxlbmd0aCkge1xuICAgICAgcmFkaW9zWzBdLmZvY3VzKCk7XG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBgaW5wdXRPcHRpb25zYCBpbnRvIGFuIGFycmF5IG9mIGBbdmFsdWUsIGxhYmVsXWBzXG4gKiBAcGFyYW0gaW5wdXRPcHRpb25zXG4gKi9cblxudmFyIGZvcm1hdElucHV0T3B0aW9ucyA9IGZ1bmN0aW9uIGZvcm1hdElucHV0T3B0aW9ucyhpbnB1dE9wdGlvbnMpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gIGlmICh0eXBlb2YgTWFwICE9PSAndW5kZWZpbmVkJyAmJiBpbnB1dE9wdGlvbnMgaW5zdGFuY2VvZiBNYXApIHtcbiAgICBpbnB1dE9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0LnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3Qua2V5cyhpbnB1dE9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmVzdWx0LnB1c2goW2tleSwgaW5wdXRPcHRpb25zW2tleV1dKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgaGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrKGluc3RhbmNlLCBpbm5lclBhcmFtcykge1xuICBpbnN0YW5jZS5kaXNhYmxlQnV0dG9ucygpO1xuXG4gIGlmIChpbm5lclBhcmFtcy5pbnB1dCkge1xuICAgIGhhbmRsZUNvbmZpcm1XaXRoSW5wdXQoaW5zdGFuY2UsIGlubmVyUGFyYW1zKTtcbiAgfSBlbHNlIHtcbiAgICBjb25maXJtKGluc3RhbmNlLCBpbm5lclBhcmFtcywgdHJ1ZSk7XG4gIH1cbn07XG52YXIgaGFuZGxlQ2FuY2VsQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDYW5jZWxCdXR0b25DbGljayhpbnN0YW5jZSwgZGlzbWlzc1dpdGgpIHtcbiAgaW5zdGFuY2UuZGlzYWJsZUJ1dHRvbnMoKTtcbiAgZGlzbWlzc1dpdGgoRGlzbWlzc1JlYXNvbi5jYW5jZWwpO1xufTtcblxudmFyIGhhbmRsZUNvbmZpcm1XaXRoSW5wdXQgPSBmdW5jdGlvbiBoYW5kbGVDb25maXJtV2l0aElucHV0KGluc3RhbmNlLCBpbm5lclBhcmFtcykge1xuICB2YXIgaW5wdXRWYWx1ZSA9IGdldElucHV0VmFsdWUoaW5zdGFuY2UsIGlubmVyUGFyYW1zKTtcblxuICBpZiAoaW5uZXJQYXJhbXMuaW5wdXRWYWxpZGF0b3IpIHtcbiAgICBpbnN0YW5jZS5kaXNhYmxlSW5wdXQoKTtcbiAgICB2YXIgdmFsaWRhdGlvblByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpbm5lclBhcmFtcy5pbnB1dFZhbGlkYXRvcihpbnB1dFZhbHVlLCBpbm5lclBhcmFtcy52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSk7XG4gICAgdmFsaWRhdGlvblByb21pc2UudGhlbihmdW5jdGlvbiAodmFsaWRhdGlvbk1lc3NhZ2UpIHtcbiAgICAgIGluc3RhbmNlLmVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgIGluc3RhbmNlLmVuYWJsZUlucHV0KCk7XG5cbiAgICAgIGlmICh2YWxpZGF0aW9uTWVzc2FnZSkge1xuICAgICAgICBpbnN0YW5jZS5zaG93VmFsaWRhdGlvbk1lc3NhZ2UodmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uZmlybShpbnN0YW5jZSwgaW5uZXJQYXJhbXMsIGlucHV0VmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKCFpbnN0YW5jZS5nZXRJbnB1dCgpLmNoZWNrVmFsaWRpdHkoKSkge1xuICAgIGluc3RhbmNlLmVuYWJsZUJ1dHRvbnMoKTtcbiAgICBpbnN0YW5jZS5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoaW5uZXJQYXJhbXMudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpcm0oaW5zdGFuY2UsIGlubmVyUGFyYW1zLCBpbnB1dFZhbHVlKTtcbiAgfVxufTtcblxudmFyIHN1Y2NlZWRXaXRoID0gZnVuY3Rpb24gc3VjY2VlZFdpdGgoaW5zdGFuY2UsIHZhbHVlKSB7XG4gIGluc3RhbmNlLmNsb3NlUG9wdXAoe1xuICAgIHZhbHVlOiB2YWx1ZVxuICB9KTtcbn07XG5cbnZhciBjb25maXJtID0gZnVuY3Rpb24gY29uZmlybShpbnN0YW5jZSwgaW5uZXJQYXJhbXMsIHZhbHVlKSB7XG4gIGlmIChpbm5lclBhcmFtcy5zaG93TG9hZGVyT25Db25maXJtKSB7XG4gICAgc2hvd0xvYWRpbmcoKTsgLy8gVE9ETzogbWFrZSBzaG93TG9hZGluZyBhbiAqaW5zdGFuY2UqIG1ldGhvZFxuICB9XG5cbiAgaWYgKGlubmVyUGFyYW1zLnByZUNvbmZpcm0pIHtcbiAgICBpbnN0YW5jZS5yZXNldFZhbGlkYXRpb25NZXNzYWdlKCk7XG4gICAgdmFyIHByZUNvbmZpcm1Qcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW5uZXJQYXJhbXMucHJlQ29uZmlybSh2YWx1ZSwgaW5uZXJQYXJhbXMudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0pO1xuICAgIHByZUNvbmZpcm1Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKHByZUNvbmZpcm1WYWx1ZSkge1xuICAgICAgaWYgKGlzVmlzaWJsZShnZXRWYWxpZGF0aW9uTWVzc2FnZSgpKSB8fCBwcmVDb25maXJtVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIGluc3RhbmNlLmhpZGVMb2FkaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdWNjZWVkV2l0aChpbnN0YW5jZSwgdHlwZW9mIHByZUNvbmZpcm1WYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyB2YWx1ZSA6IHByZUNvbmZpcm1WYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc3VjY2VlZFdpdGgoaW5zdGFuY2UsIHZhbHVlKTtcbiAgfVxufTtcblxudmFyIGFkZEtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gYWRkS2V5ZG93bkhhbmRsZXIoaW5zdGFuY2UsIGdsb2JhbFN0YXRlLCBpbm5lclBhcmFtcywgZGlzbWlzc1dpdGgpIHtcbiAgaWYgKGdsb2JhbFN0YXRlLmtleWRvd25UYXJnZXQgJiYgZ2xvYmFsU3RhdGUua2V5ZG93bkhhbmRsZXJBZGRlZCkge1xuICAgIGdsb2JhbFN0YXRlLmtleWRvd25UYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGdsb2JhbFN0YXRlLmtleWRvd25IYW5kbGVyLCB7XG4gICAgICBjYXB0dXJlOiBnbG9iYWxTdGF0ZS5rZXlkb3duTGlzdGVuZXJDYXB0dXJlXG4gICAgfSk7XG4gICAgZ2xvYmFsU3RhdGUua2V5ZG93bkhhbmRsZXJBZGRlZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCFpbm5lclBhcmFtcy50b2FzdCkge1xuICAgIGdsb2JhbFN0YXRlLmtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBrZXlkb3duSGFuZGxlcihpbnN0YW5jZSwgZSwgaW5uZXJQYXJhbXMsIGRpc21pc3NXaXRoKTtcbiAgICB9O1xuXG4gICAgZ2xvYmFsU3RhdGUua2V5ZG93blRhcmdldCA9IGlubmVyUGFyYW1zLmtleWRvd25MaXN0ZW5lckNhcHR1cmUgPyB3aW5kb3cgOiBnZXRQb3B1cCgpO1xuICAgIGdsb2JhbFN0YXRlLmtleWRvd25MaXN0ZW5lckNhcHR1cmUgPSBpbm5lclBhcmFtcy5rZXlkb3duTGlzdGVuZXJDYXB0dXJlO1xuICAgIGdsb2JhbFN0YXRlLmtleWRvd25UYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGdsb2JhbFN0YXRlLmtleWRvd25IYW5kbGVyLCB7XG4gICAgICBjYXB0dXJlOiBnbG9iYWxTdGF0ZS5rZXlkb3duTGlzdGVuZXJDYXB0dXJlXG4gICAgfSk7XG4gICAgZ2xvYmFsU3RhdGUua2V5ZG93bkhhbmRsZXJBZGRlZCA9IHRydWU7XG4gIH1cbn07IC8vIEZvY3VzIGhhbmRsaW5nXG5cbnZhciBzZXRGb2N1cyA9IGZ1bmN0aW9uIHNldEZvY3VzKGlubmVyUGFyYW1zLCBpbmRleCwgaW5jcmVtZW50KSB7XG4gIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKCk7IC8vIHNlYXJjaCBmb3IgdmlzaWJsZSBlbGVtZW50cyBhbmQgc2VsZWN0IHRoZSBuZXh0IHBvc3NpYmxlIG1hdGNoXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGluZGV4ID0gaW5kZXggKyBpbmNyZW1lbnQ7IC8vIHJvbGxvdmVyIHRvIGZpcnN0IGl0ZW1cblxuICAgIGlmIChpbmRleCA9PT0gZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICBpbmRleCA9IDA7IC8vIGdvIHRvIGxhc3QgaXRlbVxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICBpbmRleCA9IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvY3VzYWJsZUVsZW1lbnRzW2luZGV4XS5mb2N1cygpO1xuICB9IC8vIG5vIHZpc2libGUgZm9jdXNhYmxlIGVsZW1lbnRzLCBmb2N1cyB0aGUgcG9wdXBcblxuXG4gIGdldFBvcHVwKCkuZm9jdXMoKTtcbn07XG52YXIgYXJyb3dLZXlzID0gWydBcnJvd0xlZnQnLCAnQXJyb3dSaWdodCcsICdBcnJvd1VwJywgJ0Fycm93RG93bicsICdMZWZ0JywgJ1JpZ2h0JywgJ1VwJywgJ0Rvd24nIC8vIElFMTFcbl07XG52YXIgZXNjS2V5cyA9IFsnRXNjYXBlJywgJ0VzYycgLy8gSUUxMVxuXTtcblxudmFyIGtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24ga2V5ZG93bkhhbmRsZXIoaW5zdGFuY2UsIGUsIGlubmVyUGFyYW1zLCBkaXNtaXNzV2l0aCkge1xuICBpZiAoaW5uZXJQYXJhbXMuc3RvcEtleWRvd25Qcm9wYWdhdGlvbikge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0gLy8gRU5URVJcblxuXG4gIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgIGhhbmRsZUVudGVyKGluc3RhbmNlLCBlLCBpbm5lclBhcmFtcyk7IC8vIFRBQlxuICB9IGVsc2UgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgIGhhbmRsZVRhYihlLCBpbm5lclBhcmFtcyk7IC8vIEFSUk9XUyAtIHN3aXRjaCBmb2N1cyBiZXR3ZWVuIGJ1dHRvbnNcbiAgfSBlbHNlIGlmIChhcnJvd0tleXMuaW5kZXhPZihlLmtleSkgIT09IC0xKSB7XG4gICAgaGFuZGxlQXJyb3dzKCk7IC8vIEVTQ1xuICB9IGVsc2UgaWYgKGVzY0tleXMuaW5kZXhPZihlLmtleSkgIT09IC0xKSB7XG4gICAgaGFuZGxlRXNjKGUsIGlubmVyUGFyYW1zLCBkaXNtaXNzV2l0aCk7XG4gIH1cbn07XG5cbnZhciBoYW5kbGVFbnRlciA9IGZ1bmN0aW9uIGhhbmRsZUVudGVyKGluc3RhbmNlLCBlLCBpbm5lclBhcmFtcykge1xuICAvLyAjNzIwICM3MjFcbiAgaWYgKGUuaXNDb21wb3NpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZS50YXJnZXQgJiYgaW5zdGFuY2UuZ2V0SW5wdXQoKSAmJiBlLnRhcmdldC5vdXRlckhUTUwgPT09IGluc3RhbmNlLmdldElucHV0KCkub3V0ZXJIVE1MKSB7XG4gICAgaWYgKFsndGV4dGFyZWEnLCAnZmlsZSddLmluZGV4T2YoaW5uZXJQYXJhbXMuaW5wdXQpICE9PSAtMSkge1xuICAgICAgcmV0dXJuOyAvLyBkbyBub3Qgc3VibWl0XG4gICAgfVxuXG4gICAgY2xpY2tDb25maXJtKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59O1xuXG52YXIgaGFuZGxlVGFiID0gZnVuY3Rpb24gaGFuZGxlVGFiKGUsIGlubmVyUGFyYW1zKSB7XG4gIHZhciB0YXJnZXRFbGVtZW50ID0gZS50YXJnZXQ7XG4gIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKCk7XG4gIHZhciBidG5JbmRleCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGFyZ2V0RWxlbWVudCA9PT0gZm9jdXNhYmxlRWxlbWVudHNbaV0pIHtcbiAgICAgIGJ0bkluZGV4ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICghZS5zaGlmdEtleSkge1xuICAgIC8vIEN5Y2xlIHRvIHRoZSBuZXh0IGJ1dHRvblxuICAgIHNldEZvY3VzKGlubmVyUGFyYW1zLCBidG5JbmRleCwgMSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ3ljbGUgdG8gdGhlIHByZXYgYnV0dG9uXG4gICAgc2V0Rm9jdXMoaW5uZXJQYXJhbXMsIGJ0bkluZGV4LCAtMSk7XG4gIH1cblxuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG52YXIgaGFuZGxlQXJyb3dzID0gZnVuY3Rpb24gaGFuZGxlQXJyb3dzKCkge1xuICB2YXIgY29uZmlybUJ1dHRvbiA9IGdldENvbmZpcm1CdXR0b24oKTtcbiAgdmFyIGNhbmNlbEJ1dHRvbiA9IGdldENhbmNlbEJ1dHRvbigpOyAvLyBmb2N1cyBDYW5jZWwgYnV0dG9uIGlmIENvbmZpcm0gYnV0dG9uIGlzIGN1cnJlbnRseSBmb2N1c2VkXG5cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGNvbmZpcm1CdXR0b24gJiYgaXNWaXNpYmxlKGNhbmNlbEJ1dHRvbikpIHtcbiAgICBjYW5jZWxCdXR0b24uZm9jdXMoKTsgLy8gYW5kIHZpY2UgdmVyc2FcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBjYW5jZWxCdXR0b24gJiYgaXNWaXNpYmxlKGNvbmZpcm1CdXR0b24pKSB7XG4gICAgY29uZmlybUJ1dHRvbi5mb2N1cygpO1xuICB9XG59O1xuXG52YXIgaGFuZGxlRXNjID0gZnVuY3Rpb24gaGFuZGxlRXNjKGUsIGlubmVyUGFyYW1zLCBkaXNtaXNzV2l0aCkge1xuICBpZiAoY2FsbElmRnVuY3Rpb24oaW5uZXJQYXJhbXMuYWxsb3dFc2NhcGVLZXkpKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRpc21pc3NXaXRoKERpc21pc3NSZWFzb24uZXNjKTtcbiAgfVxufTtcblxudmFyIGhhbmRsZVBvcHVwQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVQb3B1cENsaWNrKGRvbUNhY2hlLCBpbm5lclBhcmFtcywgZGlzbWlzc1dpdGgpIHtcbiAgaWYgKGlubmVyUGFyYW1zLnRvYXN0KSB7XG4gICAgaGFuZGxlVG9hc3RDbGljayhkb21DYWNoZSwgaW5uZXJQYXJhbXMsIGRpc21pc3NXaXRoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZ25vcmUgY2xpY2sgZXZlbnRzIHRoYXQgaGFkIG1vdXNlZG93biBvbiB0aGUgcG9wdXAgYnV0IG1vdXNldXAgb24gdGhlIGNvbnRhaW5lclxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiB3aGVuIHRoZSB1c2VyIGRyYWdzIGEgc2xpZGVyXG4gICAgaGFuZGxlTW9kYWxNb3VzZWRvd24oZG9tQ2FjaGUpOyAvLyBJZ25vcmUgY2xpY2sgZXZlbnRzIHRoYXQgaGFkIG1vdXNlZG93biBvbiB0aGUgY29udGFpbmVyIGJ1dCBtb3VzZXVwIG9uIHRoZSBwb3B1cFxuXG4gICAgaGFuZGxlQ29udGFpbmVyTW91c2Vkb3duKGRvbUNhY2hlKTtcbiAgICBoYW5kbGVNb2RhbENsaWNrKGRvbUNhY2hlLCBpbm5lclBhcmFtcywgZGlzbWlzc1dpdGgpO1xuICB9XG59O1xuXG52YXIgaGFuZGxlVG9hc3RDbGljayA9IGZ1bmN0aW9uIGhhbmRsZVRvYXN0Q2xpY2soZG9tQ2FjaGUsIGlubmVyUGFyYW1zLCBkaXNtaXNzV2l0aCkge1xuICAvLyBDbG9zaW5nIHRvYXN0IGJ5IGludGVybmFsIGNsaWNrXG4gIGRvbUNhY2hlLnBvcHVwLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlubmVyUGFyYW1zLnNob3dDb25maXJtQnV0dG9uIHx8IGlubmVyUGFyYW1zLnNob3dDYW5jZWxCdXR0b24gfHwgaW5uZXJQYXJhbXMuc2hvd0Nsb3NlQnV0dG9uIHx8IGlubmVyUGFyYW1zLmlucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlzbWlzc1dpdGgoRGlzbWlzc1JlYXNvbi5jbG9zZSk7XG4gIH07XG59O1xuXG52YXIgaWdub3JlT3V0c2lkZUNsaWNrID0gZmFsc2U7XG5cbnZhciBoYW5kbGVNb2RhbE1vdXNlZG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vZGFsTW91c2Vkb3duKGRvbUNhY2hlKSB7XG4gIGRvbUNhY2hlLnBvcHVwLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKCkge1xuICAgIGRvbUNhY2hlLmNvbnRhaW5lci5vbm1vdXNldXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZG9tQ2FjaGUuY29udGFpbmVyLm9ubW91c2V1cCA9IHVuZGVmaW5lZDsgLy8gV2Ugb25seSBjaGVjayBpZiB0aGUgbW91c2V1cCB0YXJnZXQgaXMgdGhlIGNvbnRhaW5lciBiZWNhdXNlIHVzdWFsbHkgaXQgZG9lc24ndFxuICAgICAgLy8gaGF2ZSBhbnkgb3RoZXIgZGlyZWN0IGNoaWxkcmVuIGFzaWRlIG9mIHRoZSBwb3B1cFxuXG4gICAgICBpZiAoZS50YXJnZXQgPT09IGRvbUNhY2hlLmNvbnRhaW5lcikge1xuICAgICAgICBpZ25vcmVPdXRzaWRlQ2xpY2sgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59O1xuXG52YXIgaGFuZGxlQ29udGFpbmVyTW91c2Vkb3duID0gZnVuY3Rpb24gaGFuZGxlQ29udGFpbmVyTW91c2Vkb3duKGRvbUNhY2hlKSB7XG4gIGRvbUNhY2hlLmNvbnRhaW5lci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICBkb21DYWNoZS5wb3B1cC5vbm1vdXNldXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZG9tQ2FjaGUucG9wdXAub25tb3VzZXVwID0gdW5kZWZpbmVkOyAvLyBXZSBhbHNvIG5lZWQgdG8gY2hlY2sgaWYgdGhlIG1vdXNldXAgdGFyZ2V0IGlzIGEgY2hpbGQgb2YgdGhlIHBvcHVwXG5cbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZG9tQ2FjaGUucG9wdXAgfHwgZG9tQ2FjaGUucG9wdXAuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgIGlnbm9yZU91dHNpZGVDbGljayA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBoYW5kbGVNb2RhbENsaWNrID0gZnVuY3Rpb24gaGFuZGxlTW9kYWxDbGljayhkb21DYWNoZSwgaW5uZXJQYXJhbXMsIGRpc21pc3NXaXRoKSB7XG4gIGRvbUNhY2hlLmNvbnRhaW5lci5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoaWdub3JlT3V0c2lkZUNsaWNrKSB7XG4gICAgICBpZ25vcmVPdXRzaWRlQ2xpY2sgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZS50YXJnZXQgPT09IGRvbUNhY2hlLmNvbnRhaW5lciAmJiBjYWxsSWZGdW5jdGlvbihpbm5lclBhcmFtcy5hbGxvd091dHNpZGVDbGljaykpIHtcbiAgICAgIGRpc21pc3NXaXRoKERpc21pc3NSZWFzb24uYmFja2Ryb3ApO1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIF9tYWluKHVzZXJQYXJhbXMpIHtcbiAgc2hvd1dhcm5pbmdzRm9yUGFyYW1zKHVzZXJQYXJhbXMpOyAvLyBDaGVjayBpZiB0aGVyZSBpcyBhbm90aGVyIFN3YWwgY2xvc2luZ1xuXG4gIGlmIChnZXRQb3B1cCgpICYmIGdsb2JhbFN0YXRlLnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjaykge1xuICAgIGdsb2JhbFN0YXRlLnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjaygpO1xuICAgIGRlbGV0ZSBnbG9iYWxTdGF0ZS5zd2FsQ2xvc2VFdmVudEZpbmlzaGVkQ2FsbGJhY2s7XG4gIH0gLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzd2FsIGRpc3Bvc2FsIGRlZmVyIHRpbWVyXG5cblxuICBpZiAoZ2xvYmFsU3RhdGUuZGVmZXJEaXNwb3NhbFRpbWVyKSB7XG4gICAgY2xlYXJUaW1lb3V0KGdsb2JhbFN0YXRlLmRlZmVyRGlzcG9zYWxUaW1lcik7XG4gICAgZGVsZXRlIGdsb2JhbFN0YXRlLmRlZmVyRGlzcG9zYWxUaW1lcjtcbiAgfVxuXG4gIHZhciBpbm5lclBhcmFtcyA9IHByZXBhcmVQYXJhbXModXNlclBhcmFtcyk7XG4gIHNldFBhcmFtZXRlcnMoaW5uZXJQYXJhbXMpO1xuICBPYmplY3QuZnJlZXplKGlubmVyUGFyYW1zKTsgLy8gY2xlYXIgdGhlIHByZXZpb3VzIHRpbWVyXG5cbiAgaWYgKGdsb2JhbFN0YXRlLnRpbWVvdXQpIHtcbiAgICBnbG9iYWxTdGF0ZS50aW1lb3V0LnN0b3AoKTtcbiAgICBkZWxldGUgZ2xvYmFsU3RhdGUudGltZW91dDtcbiAgfSAvLyBjbGVhciB0aGUgcmVzdG9yZSBmb2N1cyB0aW1lb3V0XG5cblxuICBjbGVhclRpbWVvdXQoZ2xvYmFsU3RhdGUucmVzdG9yZUZvY3VzVGltZW91dCk7XG4gIHZhciBkb21DYWNoZSA9IHBvcHVsYXRlRG9tQ2FjaGUodGhpcyk7XG4gIHJlbmRlcih0aGlzLCBpbm5lclBhcmFtcyk7XG4gIHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5zZXQodGhpcywgaW5uZXJQYXJhbXMpO1xuICByZXR1cm4gc3dhbFByb21pc2UodGhpcywgZG9tQ2FjaGUsIGlubmVyUGFyYW1zKTtcbn1cblxudmFyIHByZXBhcmVQYXJhbXMgPSBmdW5jdGlvbiBwcmVwYXJlUGFyYW1zKHVzZXJQYXJhbXMpIHtcbiAgdmFyIHNob3dDbGFzcyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0UGFyYW1zLnNob3dDbGFzcywgdXNlclBhcmFtcy5zaG93Q2xhc3MpO1xuXG4gIHZhciBoaWRlQ2xhc3MgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdFBhcmFtcy5oaWRlQ2xhc3MsIHVzZXJQYXJhbXMuaGlkZUNsYXNzKTtcblxuICB2YXIgcGFyYW1zID0gX2V4dGVuZHMoe30sIGRlZmF1bHRQYXJhbXMsIHVzZXJQYXJhbXMpO1xuXG4gIHBhcmFtcy5zaG93Q2xhc3MgPSBzaG93Q2xhc3M7XG4gIHBhcmFtcy5oaWRlQ2xhc3MgPSBoaWRlQ2xhc3M7IC8vIEBkZXByZWNhdGVkXG5cbiAgaWYgKHVzZXJQYXJhbXMuYW5pbWF0aW9uID09PSBmYWxzZSkge1xuICAgIHBhcmFtcy5zaG93Q2xhc3MgPSB7XG4gICAgICBwb3B1cDogJycsXG4gICAgICBiYWNrZHJvcDogJ3N3YWwyLWJhY2tkcm9wLXNob3cgc3dhbDItbm9hbmltYXRpb24nXG4gICAgfTtcbiAgICBwYXJhbXMuaGlkZUNsYXNzID0ge307XG4gIH1cblxuICByZXR1cm4gcGFyYW1zO1xufTtcblxudmFyIHN3YWxQcm9taXNlID0gZnVuY3Rpb24gc3dhbFByb21pc2UoaW5zdGFuY2UsIGRvbUNhY2hlLCBpbm5lclBhcmFtcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAvLyBmdW5jdGlvbnMgdG8gaGFuZGxlIGFsbCBjbG9zaW5ncy9kaXNtaXNzYWxzXG4gICAgdmFyIGRpc21pc3NXaXRoID0gZnVuY3Rpb24gZGlzbWlzc1dpdGgoZGlzbWlzcykge1xuICAgICAgaW5zdGFuY2UuY2xvc2VQb3B1cCh7XG4gICAgICAgIGRpc21pc3M6IGRpc21pc3NcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBwcml2YXRlTWV0aG9kcy5zd2FsUHJvbWlzZVJlc29sdmUuc2V0KGluc3RhbmNlLCByZXNvbHZlKTtcbiAgICBzZXR1cFRpbWVyKGdsb2JhbFN0YXRlLCBpbm5lclBhcmFtcywgZGlzbWlzc1dpdGgpO1xuXG4gICAgZG9tQ2FjaGUuY29uZmlybUJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGhhbmRsZUNvbmZpcm1CdXR0b25DbGljayhpbnN0YW5jZSwgaW5uZXJQYXJhbXMpO1xuICAgIH07XG5cbiAgICBkb21DYWNoZS5jYW5jZWxCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBoYW5kbGVDYW5jZWxCdXR0b25DbGljayhpbnN0YW5jZSwgZGlzbWlzc1dpdGgpO1xuICAgIH07XG5cbiAgICBkb21DYWNoZS5jbG9zZUJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRpc21pc3NXaXRoKERpc21pc3NSZWFzb24uY2xvc2UpO1xuICAgIH07XG5cbiAgICBoYW5kbGVQb3B1cENsaWNrKGRvbUNhY2hlLCBpbm5lclBhcmFtcywgZGlzbWlzc1dpdGgpO1xuICAgIGFkZEtleWRvd25IYW5kbGVyKGluc3RhbmNlLCBnbG9iYWxTdGF0ZSwgaW5uZXJQYXJhbXMsIGRpc21pc3NXaXRoKTtcblxuICAgIGlmIChpbm5lclBhcmFtcy50b2FzdCAmJiAoaW5uZXJQYXJhbXMuaW5wdXQgfHwgaW5uZXJQYXJhbXMuZm9vdGVyIHx8IGlubmVyUGFyYW1zLnNob3dDbG9zZUJ1dHRvbikpIHtcbiAgICAgIGFkZENsYXNzKGRvY3VtZW50LmJvZHksIHN3YWxDbGFzc2VzWyd0b2FzdC1jb2x1bW4nXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksIHN3YWxDbGFzc2VzWyd0b2FzdC1jb2x1bW4nXSk7XG4gICAgfVxuXG4gICAgaGFuZGxlSW5wdXRPcHRpb25zQW5kVmFsdWUoaW5zdGFuY2UsIGlubmVyUGFyYW1zKTtcbiAgICBvcGVuUG9wdXAoaW5uZXJQYXJhbXMpO1xuICAgIGluaXRGb2N1cyhkb21DYWNoZSwgaW5uZXJQYXJhbXMpOyAvLyBTY3JvbGwgY29udGFpbmVyIHRvIHRvcCBvbiBvcGVuICgjMTI0NylcblxuICAgIGRvbUNhY2hlLmNvbnRhaW5lci5zY3JvbGxUb3AgPSAwO1xuICB9KTtcbn07XG5cbnZhciBwb3B1bGF0ZURvbUNhY2hlID0gZnVuY3Rpb24gcG9wdWxhdGVEb21DYWNoZShpbnN0YW5jZSkge1xuICB2YXIgZG9tQ2FjaGUgPSB7XG4gICAgcG9wdXA6IGdldFBvcHVwKCksXG4gICAgY29udGFpbmVyOiBnZXRDb250YWluZXIoKSxcbiAgICBjb250ZW50OiBnZXRDb250ZW50KCksXG4gICAgYWN0aW9uczogZ2V0QWN0aW9ucygpLFxuICAgIGNvbmZpcm1CdXR0b246IGdldENvbmZpcm1CdXR0b24oKSxcbiAgICBjYW5jZWxCdXR0b246IGdldENhbmNlbEJ1dHRvbigpLFxuICAgIGNsb3NlQnV0dG9uOiBnZXRDbG9zZUJ1dHRvbigpLFxuICAgIHZhbGlkYXRpb25NZXNzYWdlOiBnZXRWYWxpZGF0aW9uTWVzc2FnZSgpLFxuICAgIHByb2dyZXNzU3RlcHM6IGdldFByb2dyZXNzU3RlcHMoKVxuICB9O1xuICBwcml2YXRlUHJvcHMuZG9tQ2FjaGUuc2V0KGluc3RhbmNlLCBkb21DYWNoZSk7XG4gIHJldHVybiBkb21DYWNoZTtcbn07XG5cbnZhciBzZXR1cFRpbWVyID0gZnVuY3Rpb24gc2V0dXBUaW1lcihnbG9iYWxTdGF0ZSQkMSwgaW5uZXJQYXJhbXMsIGRpc21pc3NXaXRoKSB7XG4gIHZhciB0aW1lclByb2dyZXNzQmFyID0gZ2V0VGltZXJQcm9ncmVzc0JhcigpO1xuICBoaWRlKHRpbWVyUHJvZ3Jlc3NCYXIpO1xuXG4gIGlmIChpbm5lclBhcmFtcy50aW1lcikge1xuICAgIGdsb2JhbFN0YXRlJCQxLnRpbWVvdXQgPSBuZXcgVGltZXIoZnVuY3Rpb24gKCkge1xuICAgICAgZGlzbWlzc1dpdGgoJ3RpbWVyJyk7XG4gICAgICBkZWxldGUgZ2xvYmFsU3RhdGUkJDEudGltZW91dDtcbiAgICB9LCBpbm5lclBhcmFtcy50aW1lcik7XG5cbiAgICBpZiAoaW5uZXJQYXJhbXMudGltZXJQcm9ncmVzc0Jhcikge1xuICAgICAgc2hvdyh0aW1lclByb2dyZXNzQmFyKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhbmltYXRlVGltZXJQcm9ncmVzc0Jhcihpbm5lclBhcmFtcy50aW1lcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBpbml0Rm9jdXMgPSBmdW5jdGlvbiBpbml0Rm9jdXMoZG9tQ2FjaGUsIGlubmVyUGFyYW1zKSB7XG4gIGlmIChpbm5lclBhcmFtcy50b2FzdCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghY2FsbElmRnVuY3Rpb24oaW5uZXJQYXJhbXMuYWxsb3dFbnRlcktleSkpIHtcbiAgICByZXR1cm4gYmx1ckFjdGl2ZUVsZW1lbnQoKTtcbiAgfVxuXG4gIGlmIChpbm5lclBhcmFtcy5mb2N1c0NhbmNlbCAmJiBpc1Zpc2libGUoZG9tQ2FjaGUuY2FuY2VsQnV0dG9uKSkge1xuICAgIHJldHVybiBkb21DYWNoZS5jYW5jZWxCdXR0b24uZm9jdXMoKTtcbiAgfVxuXG4gIGlmIChpbm5lclBhcmFtcy5mb2N1c0NvbmZpcm0gJiYgaXNWaXNpYmxlKGRvbUNhY2hlLmNvbmZpcm1CdXR0b24pKSB7XG4gICAgcmV0dXJuIGRvbUNhY2hlLmNvbmZpcm1CdXR0b24uZm9jdXMoKTtcbiAgfVxuXG4gIHNldEZvY3VzKGlubmVyUGFyYW1zLCAtMSwgMSk7XG59O1xuXG52YXIgYmx1ckFjdGl2ZUVsZW1lbnQgPSBmdW5jdGlvbiBibHVyQWN0aXZlRWxlbWVudCgpIHtcbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgdHlwZW9mIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1ciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgcG9wdXAgcGFyYW1ldGVycy5cbiAqL1xuXG5mdW5jdGlvbiB1cGRhdGUocGFyYW1zKSB7XG4gIHZhciBwb3B1cCA9IGdldFBvcHVwKCk7XG4gIHZhciBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQodGhpcyk7XG5cbiAgaWYgKCFwb3B1cCB8fCBoYXNDbGFzcyhwb3B1cCwgaW5uZXJQYXJhbXMuaGlkZUNsYXNzLnBvcHVwKSkge1xuICAgIHJldHVybiB3YXJuKFwiWW91J3JlIHRyeWluZyB0byB1cGRhdGUgdGhlIGNsb3NlZCBvciBjbG9zaW5nIHBvcHVwLCB0aGF0IHdvbid0IHdvcmsuIFVzZSB0aGUgdXBkYXRlKCkgbWV0aG9kIGluIHByZUNvbmZpcm0gcGFyYW1ldGVyIG9yIHNob3cgYSBuZXcgcG9wdXAuXCIpO1xuICB9XG5cbiAgdmFyIHZhbGlkVXBkYXRhYmxlUGFyYW1zID0ge307IC8vIGFzc2lnbiB2YWxpZCBwYXJhbXMgZnJvbSBgcGFyYW1zYCB0byBgZGVmYXVsdHNgXG5cbiAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIGlmIChTd2FsLmlzVXBkYXRhYmxlUGFyYW1ldGVyKHBhcmFtKSkge1xuICAgICAgdmFsaWRVcGRhdGFibGVQYXJhbXNbcGFyYW1dID0gcGFyYW1zW3BhcmFtXTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybihcIkludmFsaWQgcGFyYW1ldGVyIHRvIHVwZGF0ZTogXFxcIlwiLmNvbmNhdChwYXJhbSwgXCJcXFwiLiBVcGRhdGFibGUgcGFyYW1zIGFyZSBsaXN0ZWQgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyL2Jsb2IvbWFzdGVyL3NyYy91dGlscy9wYXJhbXMuanNcIikpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHVwZGF0ZWRQYXJhbXMgPSBfZXh0ZW5kcyh7fSwgaW5uZXJQYXJhbXMsIHZhbGlkVXBkYXRhYmxlUGFyYW1zKTtcblxuICByZW5kZXIodGhpcywgdXBkYXRlZFBhcmFtcyk7XG4gIHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5zZXQodGhpcywgdXBkYXRlZFBhcmFtcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICBwYXJhbXM6IHtcbiAgICAgIHZhbHVlOiBfZXh0ZW5kcyh7fSwgdGhpcy5wYXJhbXMsIHBhcmFtcyksXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbn1cblxuXG5cbnZhciBpbnN0YW5jZU1ldGhvZHMgPSBPYmplY3QuZnJlZXplKHtcblx0aGlkZUxvYWRpbmc6IGhpZGVMb2FkaW5nLFxuXHRkaXNhYmxlTG9hZGluZzogaGlkZUxvYWRpbmcsXG5cdGdldElucHV0OiBnZXRJbnB1dCQxLFxuXHRjbG9zZTogY2xvc2UsXG5cdGNsb3NlUG9wdXA6IGNsb3NlLFxuXHRjbG9zZU1vZGFsOiBjbG9zZSxcblx0Y2xvc2VUb2FzdDogY2xvc2UsXG5cdGVuYWJsZUJ1dHRvbnM6IGVuYWJsZUJ1dHRvbnMsXG5cdGRpc2FibGVCdXR0b25zOiBkaXNhYmxlQnV0dG9ucyxcblx0ZW5hYmxlSW5wdXQ6IGVuYWJsZUlucHV0LFxuXHRkaXNhYmxlSW5wdXQ6IGRpc2FibGVJbnB1dCxcblx0c2hvd1ZhbGlkYXRpb25NZXNzYWdlOiBzaG93VmFsaWRhdGlvbk1lc3NhZ2UsXG5cdHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2U6IHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UkMSxcblx0Z2V0UHJvZ3Jlc3NTdGVwczogZ2V0UHJvZ3Jlc3NTdGVwcyQxLFxuXHRfbWFpbjogX21haW4sXG5cdHVwZGF0ZTogdXBkYXRlXG59KTtcblxudmFyIGN1cnJlbnRJbnN0YW5jZTsgLy8gU3dlZXRBbGVydCBjb25zdHJ1Y3RvclxuXG5mdW5jdGlvbiBTd2VldEFsZXJ0KCkge1xuICAvLyBQcmV2ZW50IHJ1biBpbiBOb2RlIGVudlxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gQ2hlY2sgZm9yIHRoZSBleGlzdGVuY2Ugb2YgUHJvbWlzZVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXG5cbiAgaWYgKHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJykge1xuICAgIGVycm9yKCdUaGlzIHBhY2thZ2UgcmVxdWlyZXMgYSBQcm9taXNlIGxpYnJhcnksIHBsZWFzZSBpbmNsdWRlIGEgc2hpbSB0byBlbmFibGUgaXQgaW4gdGhpcyBicm93c2VyIChTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi93aWtpL01pZ3JhdGlvbi1mcm9tLVN3ZWV0QWxlcnQtdG8tU3dlZXRBbGVydDIjMS1pZS1zdXBwb3J0KScpO1xuICB9XG5cbiAgY3VycmVudEluc3RhbmNlID0gdGhpcztcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIG91dGVyUGFyYW1zID0gT2JqZWN0LmZyZWV6ZSh0aGlzLmNvbnN0cnVjdG9yLmFyZ3NUb1BhcmFtcyhhcmdzKSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICBwYXJhbXM6IHtcbiAgICAgIHZhbHVlOiBvdXRlclBhcmFtcyxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBwcm9taXNlID0gdGhpcy5fbWFpbih0aGlzLnBhcmFtcyk7XG5cbiAgcHJpdmF0ZVByb3BzLnByb21pc2Uuc2V0KHRoaXMsIHByb21pc2UpO1xufSAvLyBgY2F0Y2hgIGNhbm5vdCBiZSB0aGUgbmFtZSBvZiBhIG1vZHVsZSBleHBvcnQsIHNvIHdlIGRlZmluZSBvdXIgdGhlbmFibGUgbWV0aG9kcyBoZXJlIGluc3RlYWRcblxuXG5Td2VldEFsZXJ0LnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uRnVsZmlsbGVkKSB7XG4gIHZhciBwcm9taXNlID0gcHJpdmF0ZVByb3BzLnByb21pc2UuZ2V0KHRoaXMpO1xuICByZXR1cm4gcHJvbWlzZS50aGVuKG9uRnVsZmlsbGVkKTtcbn07XG5cblN3ZWV0QWxlcnQucHJvdG90eXBlW1wiZmluYWxseVwiXSA9IGZ1bmN0aW9uIChvbkZpbmFsbHkpIHtcbiAgdmFyIHByb21pc2UgPSBwcml2YXRlUHJvcHMucHJvbWlzZS5nZXQodGhpcyk7XG4gIHJldHVybiBwcm9taXNlW1wiZmluYWxseVwiXShvbkZpbmFsbHkpO1xufTsgLy8gQXNzaWduIGluc3RhbmNlIG1ldGhvZHMgZnJvbSBzcmMvaW5zdGFuY2VNZXRob2RzLyouanMgdG8gcHJvdG90eXBlXG5cblxuX2V4dGVuZHMoU3dlZXRBbGVydC5wcm90b3R5cGUsIGluc3RhbmNlTWV0aG9kcyk7IC8vIEFzc2lnbiBzdGF0aWMgbWV0aG9kcyBmcm9tIHNyYy9zdGF0aWNNZXRob2RzLyouanMgdG8gY29uc3RydWN0b3JcblxuXG5fZXh0ZW5kcyhTd2VldEFsZXJ0LCBzdGF0aWNNZXRob2RzKTsgLy8gUHJveHkgdG8gaW5zdGFuY2UgbWV0aG9kcyB0byBjb25zdHJ1Y3RvciwgZm9yIG5vdywgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cblxuT2JqZWN0LmtleXMoaW5zdGFuY2VNZXRob2RzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgU3dlZXRBbGVydFtrZXldID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjdXJyZW50SW5zdGFuY2UpIHtcbiAgICAgIHZhciBfY3VycmVudEluc3RhbmNlO1xuXG4gICAgICByZXR1cm4gKF9jdXJyZW50SW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UpW2tleV0uYXBwbHkoX2N1cnJlbnRJbnN0YW5jZSwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG59KTtcblN3ZWV0QWxlcnQuRGlzbWlzc1JlYXNvbiA9IERpc21pc3NSZWFzb247XG5Td2VldEFsZXJ0LnZlcnNpb24gPSAnOS41LjMnO1xuXG52YXIgU3dhbCA9IFN3ZWV0QWxlcnQ7XG5Td2FsW1wiZGVmYXVsdFwiXSA9IFN3YWw7XG5cbnJldHVybiBTd2FsO1xuXG59KSkpO1xuaWYgKHR5cGVvZiB0aGlzICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLlN3ZWV0YWxlcnQyKXsgIHRoaXMuc3dhbCA9IHRoaXMuc3dlZXRBbGVydCA9IHRoaXMuU3dhbCA9IHRoaXMuU3dlZXRBbGVydCA9IHRoaXMuU3dlZXRhbGVydDJ9XG5cblwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtpZihlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChuKSxuLnN0eWxlU2hlZXQpbi5zdHlsZVNoZWV0LmRpc2FibGVkfHwobi5zdHlsZVNoZWV0LmNzc1RleHQ9dCk7ZWxzZSB0cnl7bi5pbm5lckhUTUw9dH1jYXRjaChlKXtuLmlubmVyVGV4dD10fX0oZG9jdW1lbnQsXCIuc3dhbDItcG9wdXAuc3dhbDItdG9hc3R7LXdlYmtpdC1ib3gtb3JpZW50Omhvcml6b250YWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDtmbGV4LWRpcmVjdGlvbjpyb3c7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDphdXRvO3BhZGRpbmc6LjYyNWVtO292ZXJmbG93LXk6aGlkZGVuO2JhY2tncm91bmQ6I2ZmZjtib3gtc2hhZG93OjAgMCAuNjI1ZW0gI2Q5ZDlkOX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWhlYWRlcnstd2Via2l0LWJveC1vcmllbnQ6aG9yaXpvbnRhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsO2ZsZXgtZGlyZWN0aW9uOnJvd30uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXRpdGxley13ZWJraXQtYm94LWZsZXg6MTtmbGV4LWdyb3c6MTstd2Via2l0LWJveC1wYWNrOnN0YXJ0O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O21hcmdpbjowIC42ZW07Zm9udC1zaXplOjFlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWZvb3RlcnttYXJnaW46LjVlbSAwIDA7cGFkZGluZzouNWVtIDAgMDtmb250LXNpemU6LjhlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWNsb3Nle3Bvc2l0aW9uOnN0YXRpYzt3aWR0aDouOGVtO2hlaWdodDouOGVtO2xpbmUtaGVpZ2h0Oi44fS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItY29udGVudHstd2Via2l0LWJveC1wYWNrOnN0YXJ0O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O2ZvbnQtc2l6ZToxZW19LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1pY29ue3dpZHRoOjJlbTttaW4td2lkdGg6MmVtO2hlaWdodDoyZW07bWFyZ2luOjB9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1pY29uIC5zd2FsMi1pY29uLWNvbnRlbnR7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtmb250LXNpemU6MS44ZW07Zm9udC13ZWlnaHQ6NzAwfUBtZWRpYSBhbGwgYW5kICgtbXMtaGlnaC1jb250cmFzdDpub25lKSwoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsuc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWljb24gLnN3YWwyLWljb24tY29udGVudHtmb250LXNpemU6LjI1ZW19fS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIC5zd2FsMi1zdWNjZXNzLXJpbmd7d2lkdGg6MmVtO2hlaWdodDoyZW19LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1pY29uLnN3YWwyLWVycm9yIFtjbGFzc149c3dhbDIteC1tYXJrLWxpbmVde3RvcDouODc1ZW07d2lkdGg6MS4zNzVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWljb24uc3dhbDItZXJyb3IgW2NsYXNzXj1zd2FsMi14LW1hcmstbGluZV1bY2xhc3MkPWxlZnRde2xlZnQ6LjMxMjVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWljb24uc3dhbDItZXJyb3IgW2NsYXNzXj1zd2FsMi14LW1hcmstbGluZV1bY2xhc3MkPXJpZ2h0XXtyaWdodDouMzEyNWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItYWN0aW9uc3tmbGV4LWJhc2lzOmF1dG8haW1wb3J0YW50O3dpZHRoOmF1dG87aGVpZ2h0OmF1dG87bWFyZ2luOjAgLjMxMjVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN0eWxlZHttYXJnaW46MCAuMzEyNWVtO3BhZGRpbmc6LjMxMjVlbSAuNjI1ZW07Zm9udC1zaXplOjFlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN0eWxlZDpmb2N1c3tib3gtc2hhZG93OjAgMCAwIDFweCAjZmZmLDAgMCAwIDNweCByZ2JhKDUwLDEwMCwxNTAsLjQpfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2Vzc3tib3JkZXItY29sb3I6I2E1ZGM4Nn0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVde3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEuNmVtO2hlaWdodDozZW07LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtib3JkZXItcmFkaXVzOjUwJX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVdW2NsYXNzJD1sZWZ0XXt0b3A6LS44ZW07bGVmdDotLjVlbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjJlbSAyZW07dHJhbnNmb3JtLW9yaWdpbjoyZW0gMmVtO2JvcmRlci1yYWRpdXM6NGVtIDAgMCA0ZW19LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXVtjbGFzcyQ9cmlnaHRde3RvcDotLjI1ZW07bGVmdDouOTM3NWVtOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjowIDEuNWVtO3RyYW5zZm9ybS1vcmlnaW46MCAxLjVlbTtib3JkZXItcmFkaXVzOjAgNGVtIDRlbSAwfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyAuc3dhbDItc3VjY2Vzcy1yaW5ne3dpZHRoOjJlbTtoZWlnaHQ6MmVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyAuc3dhbDItc3VjY2Vzcy1maXh7dG9wOjA7bGVmdDouNDM3NWVtO3dpZHRoOi40Mzc1ZW07aGVpZ2h0OjIuNjg3NWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV17aGVpZ2h0Oi4zMTI1ZW19LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1saW5lXVtjbGFzcyQ9dGlwXXt0b3A6MS4xMjVlbTtsZWZ0Oi4xODc1ZW07d2lkdGg6Ljc1ZW19LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1saW5lXVtjbGFzcyQ9bG9uZ117dG9wOi45Mzc1ZW07cmlnaHQ6LjE4NzVlbTt3aWR0aDoxLjM3NWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2Vzcy5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXN1Y2Nlc3MtbGluZS10aXB7LXdlYmtpdC1hbmltYXRpb246c3dhbDItdG9hc3QtYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwIC43NXM7YW5pbWF0aW9uOnN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcCAuNzVzfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2Vzcy5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXN1Y2Nlc3MtbGluZS1sb25ney13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmcgLjc1czthbmltYXRpb246c3dhbDItdG9hc3QtYW5pbWF0ZS1zdWNjZXNzLWxpbmUtbG9uZyAuNzVzfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdC5zd2FsMi1zaG93ey13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLXRvYXN0LXNob3cgLjVzO2FuaW1hdGlvbjpzd2FsMi10b2FzdC1zaG93IC41c30uc3dhbDItcG9wdXAuc3dhbDItdG9hc3Quc3dhbDItaGlkZXstd2Via2l0LWFuaW1hdGlvbjpzd2FsMi10b2FzdC1oaWRlIC4xcyBmb3J3YXJkczthbmltYXRpb246c3dhbDItdG9hc3QtaGlkZSAuMXMgZm9yd2FyZHN9LnN3YWwyLWNvbnRhaW5lcntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwNjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7LXdlYmtpdC1ib3gtb3JpZW50Omhvcml6b250YWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDtmbGV4LWRpcmVjdGlvbjpyb3c7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3BhZGRpbmc6LjYyNWVtO292ZXJmbG93LXg6aGlkZGVuOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4xczt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjFzOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNofS5zd2FsMi1jb250YWluZXIuc3dhbDItYmFja2Ryb3Atc2hvd3tiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjQpfS5zd2FsMi1jb250YWluZXIuc3dhbDItYmFja2Ryb3AtaGlkZXtiYWNrZ3JvdW5kOjAgMCFpbXBvcnRhbnR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3B7LXdlYmtpdC1ib3gtYWxpZ246c3RhcnQ7YWxpZ24taXRlbXM6ZmxleC1zdGFydH0uc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1sZWZ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXN0YXJ0ey13ZWJraXQtYm94LWFsaWduOnN0YXJ0O2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7LXdlYmtpdC1ib3gtcGFjazpzdGFydDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydH0uc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1lbmQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3AtcmlnaHR7LXdlYmtpdC1ib3gtYWxpZ246c3RhcnQ7YWxpZ24taXRlbXM6ZmxleC1zdGFydDstd2Via2l0LWJveC1wYWNrOmVuZDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXJ7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1sZWZ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLXN0YXJ0ey13ZWJraXQtYm94LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpzdGFydDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydH0uc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1lbmQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItcmlnaHR7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmVuZDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b217LXdlYmtpdC1ib3gtYWxpZ246ZW5kO2FsaWduLWl0ZW1zOmZsZXgtZW5kfS5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLWxlZnQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tc3RhcnR7LXdlYmtpdC1ib3gtYWxpZ246ZW5kO2FsaWduLWl0ZW1zOmZsZXgtZW5kOy13ZWJraXQtYm94LXBhY2s6c3RhcnQ7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tZW5kLC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXJpZ2h0ey13ZWJraXQtYm94LWFsaWduOmVuZDthbGlnbi1pdGVtczpmbGV4LWVuZDstd2Via2l0LWJveC1wYWNrOmVuZDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tZW5kPjpmaXJzdC1jaGlsZCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1sZWZ0PjpmaXJzdC1jaGlsZCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1yaWdodD46Zmlyc3QtY2hpbGQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tc3RhcnQ+OmZpcnN0LWNoaWxkLC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tPjpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOmF1dG99LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWZ1bGxzY3JlZW4+LnN3YWwyLW1vZGFse2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZmxleDoxO2ZsZXg6MTthbGlnbi1zZWxmOnN0cmV0Y2g7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctcm93Pi5zd2FsMi1tb2RhbHtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LWZsZXg6MTtmbGV4OjE7YWxpZ24tY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uey13ZWJraXQtYm94LWZsZXg6MTtmbGV4OjE7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsOy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWw7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItYm90dG9tLC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItY2VudGVyLC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItdG9wey13ZWJraXQtYm94LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbi5zd2FsMi1ib3R0b20tbGVmdCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uLnN3YWwyLWJvdHRvbS1zdGFydCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uLnN3YWwyLWNlbnRlci1sZWZ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItY2VudGVyLXN0YXJ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItdG9wLWxlZnQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbi5zd2FsMi10b3Atc3RhcnR7LXdlYmtpdC1ib3gtYWxpZ246c3RhcnQ7YWxpZ24taXRlbXM6ZmxleC1zdGFydH0uc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uLnN3YWwyLWJvdHRvbS1lbmQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbi5zd2FsMi1ib3R0b20tcmlnaHQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbi5zd2FsMi1jZW50ZXItZW5kLC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItY2VudGVyLXJpZ2h0LC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItdG9wLWVuZCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uLnN3YWwyLXRvcC1yaWdodHstd2Via2l0LWJveC1hbGlnbjplbmQ7YWxpZ24taXRlbXM6ZmxleC1lbmR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbj4uc3dhbDItbW9kYWx7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1mbGV4OjE7ZmxleDoxO2FsaWduLWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnN3YWwyLWNvbnRhaW5lcjpub3QoLnN3YWwyLXRvcCk6bm90KC5zd2FsMi10b3Atc3RhcnQpOm5vdCguc3dhbDItdG9wLWVuZCk6bm90KC5zd2FsMi10b3AtbGVmdCk6bm90KC5zd2FsMi10b3AtcmlnaHQpOm5vdCguc3dhbDItY2VudGVyLXN0YXJ0KTpub3QoLnN3YWwyLWNlbnRlci1lbmQpOm5vdCguc3dhbDItY2VudGVyLWxlZnQpOm5vdCguc3dhbDItY2VudGVyLXJpZ2h0KTpub3QoLnN3YWwyLWJvdHRvbSk6bm90KC5zd2FsMi1ib3R0b20tc3RhcnQpOm5vdCguc3dhbDItYm90dG9tLWVuZCk6bm90KC5zd2FsMi1ib3R0b20tbGVmdCk6bm90KC5zd2FsMi1ib3R0b20tcmlnaHQpOm5vdCguc3dhbDItZ3Jvdy1mdWxsc2NyZWVuKT4uc3dhbDItbW9kYWx7bWFyZ2luOmF1dG99QG1lZGlhIGFsbCBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0Om5vbmUpLCgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5zd2FsMi1jb250YWluZXIgLnN3YWwyLW1vZGFse21hcmdpbjowIWltcG9ydGFudH19LnN3YWwyLXBvcHVwe2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsOy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWw7ZmxleC1kaXJlY3Rpb246Y29sdW1uOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MzJlbTttYXgtd2lkdGg6MTAwJTtwYWRkaW5nOjEuMjVlbTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOi4zMTI1ZW07YmFja2dyb3VuZDojZmZmO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjFyZW19LnN3YWwyLXBvcHVwOmZvY3Vze291dGxpbmU6MH0uc3dhbDItcG9wdXAuc3dhbDItbG9hZGluZ3tvdmVyZmxvdy15OmhpZGRlbn0uc3dhbDItaGVhZGVye2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5zd2FsMi10aXRsZXtwb3NpdGlvbjpyZWxhdGl2ZTttYXgtd2lkdGg6MTAwJTttYXJnaW46MCAwIC40ZW07cGFkZGluZzowO2NvbG9yOiM1OTU5NTk7Zm9udC1zaXplOjEuODc1ZW07Zm9udC13ZWlnaHQ6NjAwO3RleHQtYWxpZ246Y2VudGVyO3RleHQtdHJhbnNmb3JtOm5vbmU7d29yZC13cmFwOmJyZWFrLXdvcmR9LnN3YWwyLWFjdGlvbnN7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5OmZsZXg7ei1pbmRleDoxO2ZsZXgtd3JhcDp3cmFwOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlO21hcmdpbjoxLjI1ZW0gYXV0byAwfS5zd2FsMi1hY3Rpb25zOm5vdCguc3dhbDItbG9hZGluZykgLnN3YWwyLXN0eWxlZFtkaXNhYmxlZF17b3BhY2l0eTouNH0uc3dhbDItYWN0aW9uczpub3QoLnN3YWwyLWxvYWRpbmcpIC5zd2FsMi1zdHlsZWQ6aG92ZXJ7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKHJnYmEoMCwwLDAsLjEpKSx0byhyZ2JhKDAsMCwwLC4xKSkpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHJnYmEoMCwwLDAsLjEpLHJnYmEoMCwwLDAsLjEpKX0uc3dhbDItYWN0aW9uczpub3QoLnN3YWwyLWxvYWRpbmcpIC5zd2FsMi1zdHlsZWQ6YWN0aXZle2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbShyZ2JhKDAsMCwwLC4yKSksdG8ocmdiYSgwLDAsMCwuMikpKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudChyZ2JhKDAsMCwwLC4yKSxyZ2JhKDAsMCwwLC4yKSl9LnN3YWwyLWFjdGlvbnMuc3dhbDItbG9hZGluZyAuc3dhbDItc3R5bGVkLnN3YWwyLWNvbmZpcm17Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOjIuNWVtO2hlaWdodDoyLjVlbTttYXJnaW46LjQ2ODc1ZW07cGFkZGluZzowOy13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLXJvdGF0ZS1sb2FkaW5nIDEuNXMgbGluZWFyIDBzIGluZmluaXRlIG5vcm1hbDthbmltYXRpb246c3dhbDItcm90YXRlLWxvYWRpbmcgMS41cyBsaW5lYXIgMHMgaW5maW5pdGUgbm9ybWFsO2JvcmRlcjouMjVlbSBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmFkaXVzOjEwMCU7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50O2NvbG9yOnRyYW5zcGFyZW50O2N1cnNvcjpkZWZhdWx0Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uc3dhbDItYWN0aW9ucy5zd2FsMi1sb2FkaW5nIC5zd2FsMi1zdHlsZWQuc3dhbDItY2FuY2Vse21hcmdpbi1yaWdodDozMHB4O21hcmdpbi1sZWZ0OjMwcHh9LnN3YWwyLWFjdGlvbnMuc3dhbDItbG9hZGluZyA6bm90KC5zd2FsMi1zdHlsZWQpLnN3YWwyLWNvbmZpcm06OmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTVweDtoZWlnaHQ6MTVweDttYXJnaW4tbGVmdDo1cHg7LXdlYmtpdC1hbmltYXRpb246c3dhbDItcm90YXRlLWxvYWRpbmcgMS41cyBsaW5lYXIgMHMgaW5maW5pdGUgbm9ybWFsO2FuaW1hdGlvbjpzd2FsMi1yb3RhdGUtbG9hZGluZyAxLjVzIGxpbmVhciAwcyBpbmZpbml0ZSBub3JtYWw7Ym9yZGVyOjNweCBzb2xpZCAjOTk5O2JvcmRlci1yYWRpdXM6NTAlO2JvcmRlci1yaWdodC1jb2xvcjp0cmFuc3BhcmVudDtib3gtc2hhZG93OjFweCAxcHggMXB4ICNmZmZ9LnN3YWwyLXN0eWxlZHttYXJnaW46LjMxMjVlbTtwYWRkaW5nOi42MjVlbSAyZW07Ym94LXNoYWRvdzpub25lO2ZvbnQtd2VpZ2h0OjUwMH0uc3dhbDItc3R5bGVkOm5vdChbZGlzYWJsZWRdKXtjdXJzb3I6cG9pbnRlcn0uc3dhbDItc3R5bGVkLnN3YWwyLWNvbmZpcm17Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czouMjVlbTtiYWNrZ3JvdW5kOmluaXRpYWw7YmFja2dyb3VuZC1jb2xvcjojMzA4NWQ2O2NvbG9yOiNmZmY7Zm9udC1zaXplOjEuMDYyNWVtfS5zd2FsMi1zdHlsZWQuc3dhbDItY2FuY2Vse2JvcmRlcjowO2JvcmRlci1yYWRpdXM6LjI1ZW07YmFja2dyb3VuZDppbml0aWFsO2JhY2tncm91bmQtY29sb3I6I2FhYTtjb2xvcjojZmZmO2ZvbnQtc2l6ZToxLjA2MjVlbX0uc3dhbDItc3R5bGVkOmZvY3Vze291dGxpbmU6MDtib3gtc2hhZG93OjAgMCAwIDFweCAjZmZmLDAgMCAwIDNweCByZ2JhKDUwLDEwMCwxNTAsLjQpfS5zd2FsMi1zdHlsZWQ6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjB9LnN3YWwyLWZvb3Rlcnstd2Via2l0LWJveC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbjoxLjI1ZW0gMCAwO3BhZGRpbmc6MWVtIDAgMDtib3JkZXItdG9wOjFweCBzb2xpZCAjZWVlO2NvbG9yOiM1NDU0NTQ7Zm9udC1zaXplOjFlbX0uc3dhbDItdGltZXItcHJvZ3Jlc3MtYmFye3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDouMjVlbTtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjIpfS5zd2FsMi1pbWFnZXttYXgtd2lkdGg6MTAwJTttYXJnaW46MS4yNWVtIGF1dG99LnN3YWwyLWNsb3Nle3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6Mjt0b3A6MDtyaWdodDowOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MS4yZW07aGVpZ2h0OjEuMmVtO3BhZGRpbmc6MDtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC10cmFuc2l0aW9uOmNvbG9yIC4xcyBlYXNlLW91dDt0cmFuc2l0aW9uOmNvbG9yIC4xcyBlYXNlLW91dDtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjA7b3V0bGluZTppbml0aWFsO2JhY2tncm91bmQ6MCAwO2NvbG9yOiNjY2M7Zm9udC1mYW1pbHk6c2VyaWY7Zm9udC1zaXplOjIuNWVtO2xpbmUtaGVpZ2h0OjEuMjtjdXJzb3I6cG9pbnRlcn0uc3dhbDItY2xvc2U6aG92ZXJ7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZTtiYWNrZ3JvdW5kOjAgMDtjb2xvcjojZjI3NDc0fS5zd2FsMi1jbG9zZTo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MH0uc3dhbDItY29udGVudHt6LWluZGV4OjE7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW46MDtwYWRkaW5nOjA7Y29sb3I6IzU0NTQ1NDtmb250LXNpemU6MS4xMjVlbTtmb250LXdlaWdodDo0MDA7bGluZS1oZWlnaHQ6bm9ybWFsO3RleHQtYWxpZ246Y2VudGVyO3dvcmQtd3JhcDpicmVhay13b3JkfS5zd2FsMi1jaGVja2JveCwuc3dhbDItZmlsZSwuc3dhbDItaW5wdXQsLnN3YWwyLXJhZGlvLC5zd2FsMi1zZWxlY3QsLnN3YWwyLXRleHRhcmVhe21hcmdpbjoxZW0gYXV0b30uc3dhbDItZmlsZSwuc3dhbDItaW5wdXQsLnN3YWwyLXRleHRhcmVhe2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDoxMDAlOy13ZWJraXQtdHJhbnNpdGlvbjpib3JkZXItY29sb3IgLjNzLGJveC1zaGFkb3cgLjNzO3RyYW5zaXRpb246Ym9yZGVyLWNvbG9yIC4zcyxib3gtc2hhZG93IC4zcztib3JkZXI6MXB4IHNvbGlkICNkOWQ5ZDk7Ym9yZGVyLXJhZGl1czouMTg3NWVtO2JhY2tncm91bmQ6aW5oZXJpdDtib3gtc2hhZG93Omluc2V0IDAgMXB4IDFweCByZ2JhKDAsMCwwLC4wNik7Y29sb3I6aW5oZXJpdDtmb250LXNpemU6MS4xMjVlbX0uc3dhbDItZmlsZS5zd2FsMi1pbnB1dGVycm9yLC5zd2FsMi1pbnB1dC5zd2FsMi1pbnB1dGVycm9yLC5zd2FsMi10ZXh0YXJlYS5zd2FsMi1pbnB1dGVycm9ye2JvcmRlci1jb2xvcjojZjI3NDc0IWltcG9ydGFudDtib3gtc2hhZG93OjAgMCAycHggI2YyNzQ3NCFpbXBvcnRhbnR9LnN3YWwyLWZpbGU6Zm9jdXMsLnN3YWwyLWlucHV0OmZvY3VzLC5zd2FsMi10ZXh0YXJlYTpmb2N1c3tib3JkZXI6MXB4IHNvbGlkICNiNGRiZWQ7b3V0bGluZTowO2JveC1zaGFkb3c6MCAwIDNweCAjYzRlNmY1fS5zd2FsMi1maWxlOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyLC5zd2FsMi1pbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciwuc3dhbDItdGV4dGFyZWE6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6I2NjY30uc3dhbDItZmlsZTo6LW1vei1wbGFjZWhvbGRlciwuc3dhbDItaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIsLnN3YWwyLXRleHRhcmVhOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiNjY2N9LnN3YWwyLWZpbGU6LW1zLWlucHV0LXBsYWNlaG9sZGVyLC5zd2FsMi1pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXIsLnN3YWwyLXRleHRhcmVhOi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojY2NjfS5zd2FsMi1maWxlOjotbXMtaW5wdXQtcGxhY2Vob2xkZXIsLnN3YWwyLWlucHV0OjotbXMtaW5wdXQtcGxhY2Vob2xkZXIsLnN3YWwyLXRleHRhcmVhOjotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6I2NjY30uc3dhbDItZmlsZTo6cGxhY2Vob2xkZXIsLnN3YWwyLWlucHV0OjpwbGFjZWhvbGRlciwuc3dhbDItdGV4dGFyZWE6OnBsYWNlaG9sZGVye2NvbG9yOiNjY2N9LnN3YWwyLXJhbmdle21hcmdpbjoxZW0gYXV0bztiYWNrZ3JvdW5kOiNmZmZ9LnN3YWwyLXJhbmdlIGlucHV0e3dpZHRoOjgwJX0uc3dhbDItcmFuZ2Ugb3V0cHV0e3dpZHRoOjIwJTtjb2xvcjppbmhlcml0O2ZvbnQtd2VpZ2h0OjYwMDt0ZXh0LWFsaWduOmNlbnRlcn0uc3dhbDItcmFuZ2UgaW5wdXQsLnN3YWwyLXJhbmdlIG91dHB1dHtoZWlnaHQ6Mi42MjVlbTtwYWRkaW5nOjA7Zm9udC1zaXplOjEuMTI1ZW07bGluZS1oZWlnaHQ6Mi42MjVlbX0uc3dhbDItaW5wdXR7aGVpZ2h0OjIuNjI1ZW07cGFkZGluZzowIC43NWVtfS5zd2FsMi1pbnB1dFt0eXBlPW51bWJlcl17bWF4LXdpZHRoOjEwZW19LnN3YWwyLWZpbGV7YmFja2dyb3VuZDppbmhlcml0O2ZvbnQtc2l6ZToxLjEyNWVtfS5zd2FsMi10ZXh0YXJlYXtoZWlnaHQ6Ni43NWVtO3BhZGRpbmc6Ljc1ZW19LnN3YWwyLXNlbGVjdHttaW4td2lkdGg6NTAlO21heC13aWR0aDoxMDAlO3BhZGRpbmc6LjM3NWVtIC42MjVlbTtiYWNrZ3JvdW5kOmluaGVyaXQ7Y29sb3I6aW5oZXJpdDtmb250LXNpemU6MS4xMjVlbX0uc3dhbDItY2hlY2tib3gsLnN3YWwyLXJhZGlvey13ZWJraXQtYm94LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtiYWNrZ3JvdW5kOiNmZmY7Y29sb3I6aW5oZXJpdH0uc3dhbDItY2hlY2tib3ggbGFiZWwsLnN3YWwyLXJhZGlvIGxhYmVse21hcmdpbjowIC42ZW07Zm9udC1zaXplOjEuMTI1ZW19LnN3YWwyLWNoZWNrYm94IGlucHV0LC5zd2FsMi1yYWRpbyBpbnB1dHttYXJnaW46MCAuNGVtfS5zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2V7ZGlzcGxheTpub25lOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwYWRkaW5nOi42MjVlbTtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZDojZjBmMGYwO2NvbG9yOiM2NjY7Zm9udC1zaXplOjFlbTtmb250LXdlaWdodDozMDB9LnN3YWwyLXZhbGlkYXRpb24tbWVzc2FnZTo6YmVmb3Jle2NvbnRlbnQ6XFxcIiFcXFwiO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEuNWVtO21pbi13aWR0aDoxLjVlbTtoZWlnaHQ6MS41ZW07bWFyZ2luOjAgLjYyNWVtO2JvcmRlci1yYWRpdXM6NTAlO2JhY2tncm91bmQtY29sb3I6I2YyNzQ3NDtjb2xvcjojZmZmO2ZvbnQtd2VpZ2h0OjYwMDtsaW5lLWhlaWdodDoxLjVlbTt0ZXh0LWFsaWduOmNlbnRlcn0uc3dhbDItaWNvbntwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6NWVtO2hlaWdodDo1ZW07bWFyZ2luOjEuMjVlbSBhdXRvIDEuODc1ZW07Ym9yZGVyOi4yNWVtIHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yYWRpdXM6NTAlO2ZvbnQtZmFtaWx5OmluaGVyaXQ7bGluZS1oZWlnaHQ6NWVtO2N1cnNvcjpkZWZhdWx0Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uc3dhbDItaWNvbiAuc3dhbDItaWNvbi1jb250ZW50e2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Zm9udC1zaXplOjMuNzVlbX0uc3dhbDItaWNvbi5zd2FsMi1lcnJvcntib3JkZXItY29sb3I6I2YyNzQ3NDtjb2xvcjojZjI3NDc0fS5zd2FsMi1pY29uLnN3YWwyLWVycm9yIC5zd2FsMi14LW1hcmt7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC1ib3gtZmxleDoxO2ZsZXgtZ3JvdzoxfS5zd2FsMi1pY29uLnN3YWwyLWVycm9yIFtjbGFzc149c3dhbDIteC1tYXJrLWxpbmVde2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dG9wOjIuMzEyNWVtO3dpZHRoOjIuOTM3NWVtO2hlaWdodDouMzEyNWVtO2JvcmRlci1yYWRpdXM6LjEyNWVtO2JhY2tncm91bmQtY29sb3I6I2YyNzQ3NH0uc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9bGVmdF17bGVmdDoxLjA2MjVlbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5zd2FsMi1pY29uLnN3YWwyLWVycm9yIFtjbGFzc149c3dhbDIteC1tYXJrLWxpbmVdW2NsYXNzJD1yaWdodF17cmlnaHQ6MWVtOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uc3dhbDItaWNvbi5zd2FsMi1lcnJvci5zd2FsMi1pY29uLXNob3d7LXdlYmtpdC1hbmltYXRpb246c3dhbDItYW5pbWF0ZS1lcnJvci1pY29uIC41czthbmltYXRpb246c3dhbDItYW5pbWF0ZS1lcnJvci1pY29uIC41c30uc3dhbDItaWNvbi5zd2FsMi1lcnJvci5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXgtbWFya3std2Via2l0LWFuaW1hdGlvbjpzd2FsMi1hbmltYXRlLWVycm9yLXgtbWFyayAuNXM7YW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtZXJyb3IteC1tYXJrIC41c30uc3dhbDItaWNvbi5zd2FsMi13YXJuaW5ne2JvcmRlci1jb2xvcjojZmFjZWE4O2NvbG9yOiNmOGJiODZ9LnN3YWwyLWljb24uc3dhbDItaW5mb3tib3JkZXItY29sb3I6IzlkZTBmNjtjb2xvcjojM2ZjM2VlfS5zd2FsMi1pY29uLnN3YWwyLXF1ZXN0aW9ue2JvcmRlci1jb2xvcjojYzlkYWUxO2NvbG9yOiM4N2FkYmR9LnN3YWwyLWljb24uc3dhbDItc3VjY2Vzc3tib3JkZXItY29sb3I6I2E1ZGM4Njtjb2xvcjojYTVkYzg2fS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVde3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjMuNzVlbTtoZWlnaHQ6Ny41ZW07LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtib3JkZXItcmFkaXVzOjUwJX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXVtjbGFzcyQ9bGVmdF17dG9wOi0uNDM3NWVtO2xlZnQ6LTIuMDYzNWVtOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46My43NWVtIDMuNzVlbTt0cmFuc2Zvcm0tb3JpZ2luOjMuNzVlbSAzLjc1ZW07Ym9yZGVyLXJhZGl1czo3LjVlbSAwIDAgNy41ZW19LnN3YWwyLWljb24uc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV1bY2xhc3MkPXJpZ2h0XXt0b3A6LS42ODc1ZW07bGVmdDoxLjg3NWVtOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCAzLjc1ZW07dHJhbnNmb3JtLW9yaWdpbjowIDMuNzVlbTtib3JkZXItcmFkaXVzOjAgNy41ZW0gNy41ZW0gMH0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIC5zd2FsMi1zdWNjZXNzLXJpbmd7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyO3RvcDotLjI1ZW07bGVmdDotLjI1ZW07Ym94LXNpemluZzpjb250ZW50LWJveDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JvcmRlcjouMjVlbSBzb2xpZCByZ2JhKDE2NSwyMjAsMTM0LC4zKTtib3JkZXItcmFkaXVzOjUwJX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIC5zd2FsMi1zdWNjZXNzLWZpeHtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7dG9wOi41ZW07bGVmdDoxLjYyNWVtO3dpZHRoOi40Mzc1ZW07aGVpZ2h0OjUuNjI1ZW07LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWxpbmVde2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyO2hlaWdodDouMzEyNWVtO2JvcmRlci1yYWRpdXM6LjEyNWVtO2JhY2tncm91bmQtY29sb3I6I2E1ZGM4Nn0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1saW5lXVtjbGFzcyQ9dGlwXXt0b3A6Mi44NzVlbTtsZWZ0Oi44NzVlbTt3aWR0aDoxLjU2MjVlbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWxpbmVdW2NsYXNzJD1sb25nXXt0b3A6Mi4zNzVlbTtyaWdodDouNWVtO3dpZHRoOjIuOTM3NWVtOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzLnN3YWwyLWljb24tc2hvdyAuc3dhbDItc3VjY2Vzcy1saW5lLXRpcHstd2Via2l0LWFuaW1hdGlvbjpzd2FsMi1hbmltYXRlLXN1Y2Nlc3MtbGluZS10aXAgLjc1czthbmltYXRpb246c3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwIC43NXN9LnN3YWwyLWljb24uc3dhbDItc3VjY2Vzcy5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXN1Y2Nlc3MtbGluZS1sb25ney13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmcgLjc1czthbmltYXRpb246c3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtbG9uZyAuNzVzfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3Muc3dhbDItaWNvbi1zaG93IC5zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtcmlnaHR7LXdlYmtpdC1hbmltYXRpb246c3dhbDItcm90YXRlLXN1Y2Nlc3MtY2lyY3VsYXItbGluZSA0LjI1cyBlYXNlLWluO2FuaW1hdGlvbjpzd2FsMi1yb3RhdGUtc3VjY2Vzcy1jaXJjdWxhci1saW5lIDQuMjVzIGVhc2UtaW59LnN3YWwyLXByb2dyZXNzLXN0ZXBzey13ZWJraXQtYm94LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luOjAgMCAxLjI1ZW07cGFkZGluZzowO2JhY2tncm91bmQ6aW5oZXJpdDtmb250LXdlaWdodDo2MDB9LnN3YWwyLXByb2dyZXNzLXN0ZXBzIGxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5zd2FsMi1wcm9ncmVzcy1zdGVwcyAuc3dhbDItcHJvZ3Jlc3Mtc3RlcHt6LWluZGV4OjIwO3dpZHRoOjJlbTtoZWlnaHQ6MmVtO2JvcmRlci1yYWRpdXM6MmVtO2JhY2tncm91bmQ6IzMwODVkNjtjb2xvcjojZmZmO2xpbmUtaGVpZ2h0OjJlbTt0ZXh0LWFsaWduOmNlbnRlcn0uc3dhbDItcHJvZ3Jlc3Mtc3RlcHMgLnN3YWwyLXByb2dyZXNzLXN0ZXAuc3dhbDItYWN0aXZlLXByb2dyZXNzLXN0ZXB7YmFja2dyb3VuZDojMzA4NWQ2fS5zd2FsMi1wcm9ncmVzcy1zdGVwcyAuc3dhbDItcHJvZ3Jlc3Mtc3RlcC5zd2FsMi1hY3RpdmUtcHJvZ3Jlc3Mtc3RlcH4uc3dhbDItcHJvZ3Jlc3Mtc3RlcHtiYWNrZ3JvdW5kOiNhZGQ4ZTY7Y29sb3I6I2ZmZn0uc3dhbDItcHJvZ3Jlc3Mtc3RlcHMgLnN3YWwyLXByb2dyZXNzLXN0ZXAuc3dhbDItYWN0aXZlLXByb2dyZXNzLXN0ZXB+LnN3YWwyLXByb2dyZXNzLXN0ZXAtbGluZXtiYWNrZ3JvdW5kOiNhZGQ4ZTZ9LnN3YWwyLXByb2dyZXNzLXN0ZXBzIC5zd2FsMi1wcm9ncmVzcy1zdGVwLWxpbmV7ei1pbmRleDoxMDt3aWR0aDoyLjVlbTtoZWlnaHQ6LjRlbTttYXJnaW46MCAtMXB4O2JhY2tncm91bmQ6IzMwODVkNn1bY2xhc3NePXN3YWwyXXstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6dHJhbnNwYXJlbnR9LnN3YWwyLXNob3d7LXdlYmtpdC1hbmltYXRpb246c3dhbDItc2hvdyAuM3M7YW5pbWF0aW9uOnN3YWwyLXNob3cgLjNzfS5zd2FsMi1oaWRley13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLWhpZGUgLjE1cyBmb3J3YXJkczthbmltYXRpb246c3dhbDItaGlkZSAuMTVzIGZvcndhcmRzfS5zd2FsMi1ub2FuaW1hdGlvbnstd2Via2l0LXRyYW5zaXRpb246bm9uZTt0cmFuc2l0aW9uOm5vbmV9LnN3YWwyLXNjcm9sbGJhci1tZWFzdXJle3Bvc2l0aW9uOmFic29sdXRlO3RvcDotOTk5OXB4O3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6c2Nyb2xsfS5zd2FsMi1ydGwgLnN3YWwyLWNsb3Nle3JpZ2h0OmF1dG87bGVmdDowfS5zd2FsMi1ydGwgLnN3YWwyLXRpbWVyLXByb2dyZXNzLWJhcntyaWdodDowO2xlZnQ6YXV0b31Ac3VwcG9ydHMgKC1tcy1hY2NlbGVyYXRvcjp0cnVlKXsuc3dhbDItcmFuZ2UgaW5wdXR7d2lkdGg6MTAwJSFpbXBvcnRhbnR9LnN3YWwyLXJhbmdlIG91dHB1dHtkaXNwbGF5Om5vbmV9fUBtZWRpYSBhbGwgYW5kICgtbXMtaGlnaC1jb250cmFzdDpub25lKSwoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsuc3dhbDItcmFuZ2UgaW5wdXR7d2lkdGg6MTAwJSFpbXBvcnRhbnR9LnN3YWwyLXJhbmdlIG91dHB1dHtkaXNwbGF5Om5vbmV9fUAtbW96LWRvY3VtZW50IHVybC1wcmVmaXgoKXsuc3dhbDItY2xvc2U6Zm9jdXN7b3V0bGluZToycHggc29saWQgcmdiYSg1MCwxMDAsMTUwLC40KX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLXRvYXN0LXNob3d7MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtLjYyNWVtKSByb3RhdGVaKDJkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0uNjI1ZW0pIHJvdGF0ZVooMmRlZyl9MzMley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgcm90YXRlWigtMmRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgcm90YXRlWigtMmRlZyl9NjYley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLjMxMjVlbSkgcm90YXRlWigyZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSguMzEyNWVtKSByb3RhdGVaKDJkZWcpfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVooMCl9fUBrZXlmcmFtZXMgc3dhbDItdG9hc3Qtc2hvd3swJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0uNjI1ZW0pIHJvdGF0ZVooMmRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLS42MjVlbSkgcm90YXRlWigyZGVnKX0zMyV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKC0yZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKC0yZGVnKX02NiV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSguMzEyNWVtKSByb3RhdGVaKDJkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC4zMTI1ZW0pIHJvdGF0ZVooMmRlZyl9MTAwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgcm90YXRlWigwKX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLXRvYXN0LWhpZGV7MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVaKDFkZWcpO3RyYW5zZm9ybTpyb3RhdGVaKDFkZWcpO29wYWNpdHk6MH19QGtleWZyYW1lcyBzd2FsMi10b2FzdC1oaWRlezEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWigxZGVnKTt0cmFuc2Zvcm06cm90YXRlWigxZGVnKTtvcGFjaXR5OjB9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS10aXB7MCV7dG9wOi41NjI1ZW07bGVmdDouMDYyNWVtO3dpZHRoOjB9NTQle3RvcDouMTI1ZW07bGVmdDouMTI1ZW07d2lkdGg6MH03MCV7dG9wOi42MjVlbTtsZWZ0Oi0uMjVlbTt3aWR0aDoxLjYyNWVtfTg0JXt0b3A6MS4wNjI1ZW07bGVmdDouNzVlbTt3aWR0aDouNWVtfTEwMCV7dG9wOjEuMTI1ZW07bGVmdDouMTg3NWVtO3dpZHRoOi43NWVtfX1Aa2V5ZnJhbWVzIHN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcHswJXt0b3A6LjU2MjVlbTtsZWZ0Oi4wNjI1ZW07d2lkdGg6MH01NCV7dG9wOi4xMjVlbTtsZWZ0Oi4xMjVlbTt3aWR0aDowfTcwJXt0b3A6LjYyNWVtO2xlZnQ6LS4yNWVtO3dpZHRoOjEuNjI1ZW19ODQle3RvcDoxLjA2MjVlbTtsZWZ0Oi43NWVtO3dpZHRoOi41ZW19MTAwJXt0b3A6MS4xMjVlbTtsZWZ0Oi4xODc1ZW07d2lkdGg6Ljc1ZW19fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDoxLjYyNWVtO3JpZ2h0OjEuMzc1ZW07d2lkdGg6MH02NSV7dG9wOjEuMjVlbTtyaWdodDouOTM3NWVtO3dpZHRoOjB9ODQle3RvcDouOTM3NWVtO3JpZ2h0OjA7d2lkdGg6MS4xMjVlbX0xMDAle3RvcDouOTM3NWVtO3JpZ2h0Oi4xODc1ZW07d2lkdGg6MS4zNzVlbX19QGtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDoxLjYyNWVtO3JpZ2h0OjEuMzc1ZW07d2lkdGg6MH02NSV7dG9wOjEuMjVlbTtyaWdodDouOTM3NWVtO3dpZHRoOjB9ODQle3RvcDouOTM3NWVtO3JpZ2h0OjA7d2lkdGg6MS4xMjVlbX0xMDAle3RvcDouOTM3NWVtO3JpZ2h0Oi4xODc1ZW07d2lkdGg6MS4zNzVlbX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLXNob3d7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjcpO3RyYW5zZm9ybTpzY2FsZSguNyl9NDUley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMDUpO3RyYW5zZm9ybTpzY2FsZSgxLjA1KX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjk1KTt0cmFuc2Zvcm06c2NhbGUoLjk1KX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBzd2FsMi1zaG93ezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC43KTt0cmFuc2Zvcm06c2NhbGUoLjcpfTQ1JXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjA1KTt0cmFuc2Zvcm06c2NhbGUoMS4wNSl9ODAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC45NSk7dHJhbnNmb3JtOnNjYWxlKC45NSl9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1oaWRlezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNSk7dHJhbnNmb3JtOnNjYWxlKC41KTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgc3dhbDItaGlkZXswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjUpO3RyYW5zZm9ybTpzY2FsZSguNSk7b3BhY2l0eTowfX1ALXdlYmtpdC1rZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwezAle3RvcDoxLjE4NzVlbTtsZWZ0Oi4wNjI1ZW07d2lkdGg6MH01NCV7dG9wOjEuMDYyNWVtO2xlZnQ6LjEyNWVtO3dpZHRoOjB9NzAle3RvcDoyLjE4NzVlbTtsZWZ0Oi0uMzc1ZW07d2lkdGg6My4xMjVlbX04NCV7dG9wOjNlbTtsZWZ0OjEuMzEyNWVtO3dpZHRoOjEuMDYyNWVtfTEwMCV7dG9wOjIuODEyNWVtO2xlZnQ6Ljg3NWVtO3dpZHRoOjEuNTYyNWVtfX1Aa2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcHswJXt0b3A6MS4xODc1ZW07bGVmdDouMDYyNWVtO3dpZHRoOjB9NTQle3RvcDoxLjA2MjVlbTtsZWZ0Oi4xMjVlbTt3aWR0aDowfTcwJXt0b3A6Mi4xODc1ZW07bGVmdDotLjM3NWVtO3dpZHRoOjMuMTI1ZW19ODQle3RvcDozZW07bGVmdDoxLjMxMjVlbTt3aWR0aDoxLjA2MjVlbX0xMDAle3RvcDoyLjgxMjVlbTtsZWZ0Oi44NzVlbTt3aWR0aDoxLjU2MjVlbX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmd7MCV7dG9wOjMuMzc1ZW07cmlnaHQ6Mi44NzVlbTt3aWR0aDowfTY1JXt0b3A6My4zNzVlbTtyaWdodDoyLjg3NWVtO3dpZHRoOjB9ODQle3RvcDoyLjE4NzVlbTtyaWdodDowO3dpZHRoOjMuNDM3NWVtfTEwMCV7dG9wOjIuMzc1ZW07cmlnaHQ6LjVlbTt3aWR0aDoyLjkzNzVlbX19QGtleWZyYW1lcyBzd2FsMi1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDozLjM3NWVtO3JpZ2h0OjIuODc1ZW07d2lkdGg6MH02NSV7dG9wOjMuMzc1ZW07cmlnaHQ6Mi44NzVlbTt3aWR0aDowfTg0JXt0b3A6Mi4xODc1ZW07cmlnaHQ6MDt3aWR0aDozLjQzNzVlbX0xMDAle3RvcDoyLjM3NWVtO3JpZ2h0Oi41ZW07d2lkdGg6Mi45Mzc1ZW19fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1yb3RhdGUtc3VjY2Vzcy1jaXJjdWxhci1saW5lezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX01JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9MTIley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyl9fUBrZXlmcmFtZXMgc3dhbDItcm90YXRlLXN1Y2Nlc3MtY2lyY3VsYXItbGluZXswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9NSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfTEyJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfX1ALXdlYmtpdC1rZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1lcnJvci14LW1hcmt7MCV7bWFyZ2luLXRvcDoxLjYyNWVtOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC40KTt0cmFuc2Zvcm06c2NhbGUoLjQpO29wYWNpdHk6MH01MCV7bWFyZ2luLXRvcDoxLjYyNWVtOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC40KTt0cmFuc2Zvcm06c2NhbGUoLjQpO29wYWNpdHk6MH04MCV7bWFyZ2luLXRvcDotLjM3NWVtOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMTUpO3RyYW5zZm9ybTpzY2FsZSgxLjE1KX0xMDAle21hcmdpbi10b3A6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtZXJyb3IteC1tYXJrezAle21hcmdpbi10b3A6MS42MjVlbTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNCk7dHJhbnNmb3JtOnNjYWxlKC40KTtvcGFjaXR5OjB9NTAle21hcmdpbi10b3A6MS42MjVlbTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNCk7dHJhbnNmb3JtOnNjYWxlKC40KTtvcGFjaXR5OjB9ODAle21hcmdpbi10b3A6LS4zNzVlbTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjE1KTt0cmFuc2Zvcm06c2NhbGUoMS4xNSl9MTAwJXttYXJnaW4tdG9wOjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpO29wYWNpdHk6MX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtZXJyb3ItaWNvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVYKDApO3RyYW5zZm9ybTpyb3RhdGVYKDApO29wYWNpdHk6MX19QGtleWZyYW1lcyBzd2FsMi1hbmltYXRlLWVycm9yLWljb257MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWCgxMDBkZWcpO3RyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7b3BhY2l0eTowfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWCgwKTt0cmFuc2Zvcm06cm90YXRlWCgwKTtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1yb3RhdGUtbG9hZGluZ3swJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMCk7dHJhbnNmb3JtOnJvdGF0ZSgwKX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBzd2FsMi1yb3RhdGUtbG9hZGluZ3swJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMCk7dHJhbnNmb3JtOnJvdGF0ZSgwKX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19Ym9keS5zd2FsMi1zaG93bjpub3QoLnN3YWwyLW5vLWJhY2tkcm9wKTpub3QoLnN3YWwyLXRvYXN0LXNob3duKXtvdmVyZmxvdzpoaWRkZW59Ym9keS5zd2FsMi1oZWlnaHQtYXV0b3toZWlnaHQ6YXV0byFpbXBvcnRhbnR9Ym9keS5zd2FsMi1uby1iYWNrZHJvcCAuc3dhbDItY29udGFpbmVye3RvcDphdXRvO3JpZ2h0OmF1dG87Ym90dG9tOmF1dG87bGVmdDphdXRvO21heC13aWR0aDpjYWxjKDEwMCUgLSAuNjI1ZW0gKiAyKTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudH1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXI+LnN3YWwyLW1vZGFse2JveC1zaGFkb3c6MCAwIDEwcHggcmdiYSgwLDAsMCwuNCl9Ym9keS5zd2FsMi1uby1iYWNrZHJvcCAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcHt0b3A6MDtsZWZ0OjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3AtbGVmdCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXN0YXJ0e3RvcDowO2xlZnQ6MH1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLWVuZCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXJpZ2h0e3RvcDowO3JpZ2h0OjB9Ym9keS5zd2FsMi1uby1iYWNrZHJvcCAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlcnt0b3A6NTAlO2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKX1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLWxlZnQsYm9keS5zd2FsMi1uby1iYWNrZHJvcCAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1zdGFydHt0b3A6NTAlO2xlZnQ6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItZW5kLGJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItcmlnaHR7dG9wOjUwJTtyaWdodDowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9Ym9keS5zd2FsMi1uby1iYWNrZHJvcCAuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbXtib3R0b206MDtsZWZ0OjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tbGVmdCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXN0YXJ0e2JvdHRvbTowO2xlZnQ6MH1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLWVuZCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXJpZ2h0e3JpZ2h0OjA7Ym90dG9tOjB9QG1lZGlhIHByaW50e2JvZHkuc3dhbDItc2hvd246bm90KC5zd2FsMi1uby1iYWNrZHJvcCk6bm90KC5zd2FsMi10b2FzdC1zaG93bil7b3ZlcmZsb3cteTpzY3JvbGwhaW1wb3J0YW50fWJvZHkuc3dhbDItc2hvd246bm90KC5zd2FsMi1uby1iYWNrZHJvcCk6bm90KC5zd2FsMi10b2FzdC1zaG93bik+W2FyaWEtaGlkZGVuPXRydWVde2Rpc3BsYXk6bm9uZX1ib2R5LnN3YWwyLXNob3duOm5vdCguc3dhbDItbm8tYmFja2Ryb3ApOm5vdCguc3dhbDItdG9hc3Qtc2hvd24pIC5zd2FsMi1jb250YWluZXJ7cG9zaXRpb246c3RhdGljIWltcG9ydGFudH19Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVye2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcHt0b3A6MDtyaWdodDphdXRvO2JvdHRvbTphdXRvO2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1lbmQsYm9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1yaWdodHt0b3A6MDtyaWdodDowO2JvdHRvbTphdXRvO2xlZnQ6YXV0b31ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLWxlZnQsYm9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1zdGFydHt0b3A6MDtyaWdodDphdXRvO2JvdHRvbTphdXRvO2xlZnQ6MH1ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLWxlZnQsYm9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1zdGFydHt0b3A6NTAlO3JpZ2h0OmF1dG87Ym90dG9tOmF1dG87bGVmdDowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlcnt0b3A6NTAlO3JpZ2h0OmF1dG87Ym90dG9tOmF1dG87bGVmdDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItZW5kLGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItcmlnaHR7dG9wOjUwJTtyaWdodDowO2JvdHRvbTphdXRvO2xlZnQ6YXV0bzstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tbGVmdCxib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXN0YXJ0e3RvcDphdXRvO3JpZ2h0OmF1dG87Ym90dG9tOjA7bGVmdDowfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b217dG9wOmF1dG87cmlnaHQ6YXV0bztib3R0b206MDtsZWZ0OjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tZW5kLGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tcmlnaHR7dG9wOmF1dG87cmlnaHQ6MDtib3R0b206MDtsZWZ0OmF1dG99Ym9keS5zd2FsMi10b2FzdC1jb2x1bW4gLnN3YWwyLXRvYXN0ey13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstd2Via2l0LWJveC1hbGlnbjpzdHJldGNoO2FsaWduLWl0ZW1zOnN0cmV0Y2h9Ym9keS5zd2FsMi10b2FzdC1jb2x1bW4gLnN3YWwyLXRvYXN0IC5zd2FsMi1hY3Rpb25zey13ZWJraXQtYm94LWZsZXg6MTtmbGV4OjE7YWxpZ24tc2VsZjpzdHJldGNoO2hlaWdodDoyLjJlbTttYXJnaW4tdG9wOi4zMTI1ZW19Ym9keS5zd2FsMi10b2FzdC1jb2x1bW4gLnN3YWwyLXRvYXN0IC5zd2FsMi1sb2FkaW5ney13ZWJraXQtYm94LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9Ym9keS5zd2FsMi10b2FzdC1jb2x1bW4gLnN3YWwyLXRvYXN0IC5zd2FsMi1pbnB1dHtoZWlnaHQ6MmVtO21hcmdpbjouMzEyNWVtIGF1dG87Zm9udC1zaXplOjFlbX1ib2R5LnN3YWwyLXRvYXN0LWNvbHVtbiAuc3dhbDItdG9hc3QgLnN3YWwyLXZhbGlkYXRpb24tbWVzc2FnZXtmb250LXNpemU6MWVtfVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2VzNi1wcm9taXNlJykuUHJvbWlzZTtcbiIsIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgMy4zLjFcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIChnbG9iYWwuRVM2UHJvbWlzZSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxudmFyIF9pc0FycmF5ID0gdW5kZWZpbmVkO1xuaWYgKCFBcnJheS5pc0FycmF5KSB7XG4gIF9pc0FycmF5ID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufVxuXG52YXIgaXNBcnJheSA9IF9pc0FycmF5O1xuXG52YXIgbGVuID0gMDtcbnZhciB2ZXJ0eE5leHQgPSB1bmRlZmluZWQ7XG52YXIgY3VzdG9tU2NoZWR1bGVyRm4gPSB1bmRlZmluZWQ7XG5cbnZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICBjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG59XG5cbmZ1bmN0aW9uIHNldEFzYXAoYXNhcEZuKSB7XG4gIGFzYXAgPSBhc2FwRm47XG59XG5cbnZhciBicm93c2VyV2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG52YXIgYnJvd3Nlckdsb2JhbCA9IGJyb3dzZXJXaW5kb3cgfHwge307XG52YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgKHt9KS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmVydHhOZXh0KGZsdXNoKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIC8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIGVzNi1wcm9taXNlIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuICAvLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbiAgdmFyIGdsb2JhbFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnbG9iYWxTZXRUaW1lb3V0KGZsdXNoLCAxKTtcbiAgfTtcbn1cblxudmFyIHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcbiAgICB2YXIgYXJnID0gcXVldWVbaSArIDFdO1xuXG4gICAgY2FsbGJhY2soYXJnKTtcblxuICAgIHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlW2kgKyAxXSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGxlbiA9IDA7XG59XG5cbmZ1bmN0aW9uIGF0dGVtcHRWZXJ0eCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdW5kZWZpbmVkO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cztcblxuICB2YXIgcGFyZW50ID0gdGhpcztcblxuICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBpZiAoY2hpbGRbUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgIG1ha2VQcm9taXNlKGNoaWxkKTtcbiAgfVxuXG4gIHZhciBfc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG4gIGlmIChfc3RhdGUpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNhbGxiYWNrID0gX2FyZ3VtZW50c1tfc3RhdGUgLSAxXTtcbiAgICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH0gZWxzZSB7XG4gICAgc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgfVxuXG4gIHJldHVybiBjaGlsZDtcbn1cblxuLyoqXG4gIGBQcm9taXNlLnJlc29sdmVgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgcGFzc2VkIGB2YWx1ZWAuIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZXNvbHZlKDEpO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIHZhbHVlID09PSAxXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgxKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIHZhbHVlID09PSAxXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlc29sdmVcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FueX0gdmFsdWUgdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGhcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSBmdWxmaWxsZWQgd2l0aCB0aGUgZ2l2ZW5cbiAgYHZhbHVlYFxuKi9cbmZ1bmN0aW9uIHJlc29sdmUob2JqZWN0KSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICBfcmVzb2x2ZShwcm9taXNlLCBvYmplY3QpO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxudmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMTYpO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFBFTkRJTkcgPSB2b2lkIDA7XG52YXIgRlVMRklMTEVEID0gMTtcbnZhciBSRUpFQ1RFRCA9IDI7XG5cbnZhciBHRVRfVEhFTl9FUlJPUiA9IG5ldyBFcnJvck9iamVjdCgpO1xuXG5mdW5jdGlvbiBzZWxmRnVsZmlsbG1lbnQoKSB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKTtcbn1cblxuZnVuY3Rpb24gY2Fubm90UmV0dXJuT3duKCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xufVxuXG5mdW5jdGlvbiBnZXRUaGVuKHByb21pc2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgcmV0dXJuIEdFVF9USEVOX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeVRoZW4odGhlbiwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICB0cnkge1xuICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbikge1xuICBhc2FwKGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgdmFyIHNlYWxlZCA9IGZhbHNlO1xuICAgIHZhciBlcnJvciA9IHRyeVRoZW4odGhlbiwgdGhlbmFibGUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICBfcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBfcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICB9XG4gIH0sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSkge1xuICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBGVUxGSUxMRUQpIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2UgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICBfcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBfcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJCkge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuJCQgPT09IHRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSByZXNvbHZlKSB7XG4gICAgaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoZW4kJCA9PT0gR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgIF9yZWplY3QocHJvbWlzZSwgR0VUX1RIRU5fRVJST1IuZXJyb3IpO1xuICAgIH0gZWxzZSBpZiAodGhlbiQkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoZW4kJCkpIHtcbiAgICAgIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBfcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICBfcmVqZWN0KHByb21pc2UsIHNlbGZGdWxmaWxsbWVudCgpKTtcbiAgfSBlbHNlIGlmIChvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIGdldFRoZW4odmFsdWUpKTtcbiAgfSBlbHNlIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgaWYgKHByb21pc2UuX29uZXJyb3IpIHtcbiAgICBwcm9taXNlLl9vbmVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gIH1cblxuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICBwcm9taXNlLl9zdGF0ZSA9IEZVTEZJTExFRDtcblxuICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgYXNhcChwdWJsaXNoLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcHJvbWlzZS5fc3RhdGUgPSBSRUpFQ1RFRDtcbiAgcHJvbWlzZS5fcmVzdWx0ID0gcmVhc29uO1xuXG4gIGFzYXAocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICB2YXIgX3N1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgdmFyIGxlbmd0aCA9IF9zdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB1bmRlZmluZWQsXG4gICAgICBjYWxsYmFjayA9IHVuZGVmaW5lZCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIEVycm9yT2JqZWN0KCkge1xuICB0aGlzLmVycm9yID0gbnVsbDtcbn1cblxudmFyIFRSWV9DQVRDSF9FUlJPUiA9IG5ldyBFcnJvck9iamVjdCgpO1xuXG5mdW5jdGlvbiB0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGRldGFpbCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBUUllfQ0FUQ0hfRVJST1IuZXJyb3IgPSBlO1xuICAgIHJldHVybiBUUllfQ0FUQ0hfRVJST1I7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgcHJvbWlzZSwgY2FsbGJhY2ssIGRldGFpbCkge1xuICB2YXIgaGFzQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgIHZhbHVlID0gdW5kZWZpbmVkLFxuICAgICAgZXJyb3IgPSB1bmRlZmluZWQsXG4gICAgICBzdWNjZWVkZWQgPSB1bmRlZmluZWQsXG4gICAgICBmYWlsZWQgPSB1bmRlZmluZWQ7XG5cbiAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgdmFsdWUgPSB0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKTtcblxuICAgIGlmICh2YWx1ZSA9PT0gVFJZX0NBVENIX0VSUk9SKSB7XG4gICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgZXJyb3IgPSB2YWx1ZS5lcnJvcjtcbiAgICAgIHZhbHVlID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgIF9yZWplY3QocHJvbWlzZSwgY2Fubm90UmV0dXJuT3duKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IGRldGFpbDtcbiAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgLy8gbm9vcFxuICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkge1xuICAgICAgX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoZmFpbGVkKSB7XG4gICAgICBfcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRCkge1xuICAgICAgX3JlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICB0cnkge1xuICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7XG4gICAgICBfcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIF9yZWplY3QocHJvbWlzZSwgZSk7XG4gIH1cbn1cblxudmFyIGlkID0gMDtcbmZ1bmN0aW9uIG5leHRJZCgpIHtcbiAgcmV0dXJuIGlkKys7XG59XG5cbmZ1bmN0aW9uIG1ha2VQcm9taXNlKHByb21pc2UpIHtcbiAgcHJvbWlzZVtQUk9NSVNFX0lEXSA9IGlkKys7XG4gIHByb21pc2UuX3N0YXRlID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3N1YnNjcmliZXJzID0gW107XG59XG5cbmZ1bmN0aW9uIEVudW1lcmF0b3IoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuXG4gIGlmICghdGhpcy5wcm9taXNlW1BST01JU0VfSURdKSB7XG4gICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG4gICAgdGhpcy5sZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgdGhpcy5fcmVzdWx0ID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcblxuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMDtcbiAgICAgIHRoaXMuX2VudW1lcmF0ZSgpO1xuICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgX3JlamVjdCh0aGlzLnByb21pc2UsIHZhbGlkYXRpb25FcnJvcigpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0aW9uRXJyb3IoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ0FycmF5IE1ldGhvZHMgbXVzdCBiZSBwcm92aWRlZCBhbiBBcnJheScpO1xufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICB2YXIgX2lucHV0ID0gdGhpcy5faW5wdXQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IHRoaXMuX3N0YXRlID09PSBQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHRoaXMuX2VhY2hFbnRyeShfaW5wdXRbaV0sIGkpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgdmFyIHJlc29sdmUkJCA9IGMucmVzb2x2ZTtcblxuICBpZiAocmVzb2x2ZSQkID09PSByZXNvbHZlKSB7XG4gICAgdmFyIF90aGVuID0gZ2V0VGhlbihlbnRyeSk7XG5cbiAgICBpZiAoX3RoZW4gPT09IHRoZW4gJiYgZW50cnkuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgICB0aGlzLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG4gICAgICB0aGlzLl9yZXN1bHRbaV0gPSBlbnRyeTtcbiAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IGMobm9vcCk7XG4gICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChuZXcgYyhmdW5jdGlvbiAocmVzb2x2ZSQkKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlJCQoZW50cnkpO1xuICAgICAgfSksIGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZSQkKGVudHJ5KSwgaSk7XG4gIH1cbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiAoc3RhdGUsIGksIHZhbHVlKSB7XG4gIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG4gIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gUEVORElORykge1xuICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgaWYgKHN0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgICAgX3JlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gIH1cbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiAocHJvbWlzZSwgaSkge1xuICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoUkVKRUNURUQsIGksIHJlYXNvbik7XG4gIH0pO1xufTtcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yYWNlYCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2ggaXMgc2V0dGxlZCBpbiB0aGUgc2FtZSB3YXkgYXMgdGhlXG4gIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIHNldHRsZS5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMicpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFByb21pc2UucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIHJlc3VsdCA9PT0gJ3Byb21pc2UgMicgYmVjYXVzZSBpdCB3YXMgcmVzb2x2ZWQgYmVmb3JlIHByb21pc2UxXG4gICAgLy8gd2FzIHJlc29sdmVkLlxuICB9KTtcbiAgYGBgXG5cbiAgYFByb21pc2UucmFjZWAgaXMgZGV0ZXJtaW5pc3RpYyBpbiB0aGF0IG9ubHkgdGhlIHN0YXRlIG9mIHRoZSBmaXJzdFxuICBzZXR0bGVkIHByb21pc2UgbWF0dGVycy4gRm9yIGV4YW1wbGUsIGV2ZW4gaWYgb3RoZXIgcHJvbWlzZXMgZ2l2ZW4gdG8gdGhlXG4gIGBwcm9taXNlc2AgYXJyYXkgYXJndW1lbnQgYXJlIHJlc29sdmVkLCBidXQgdGhlIGZpcnN0IHNldHRsZWQgcHJvbWlzZSBoYXNcbiAgYmVjb21lIHJlamVjdGVkIGJlZm9yZSB0aGUgb3RoZXIgcHJvbWlzZXMgYmVjYW1lIGZ1bGZpbGxlZCwgdGhlIHJldHVybmVkXG4gIHByb21pc2Ugd2lsbCBiZWNvbWUgcmVqZWN0ZWQ6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcigncHJvbWlzZSAyJykpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFByb21pc2UucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgcHJvbWlzZSAyIGJlY2FtZSByZWplY3RlZCBiZWZvcmVcbiAgICAvLyBwcm9taXNlIDEgYmVjYW1lIGZ1bGZpbGxlZFxuICB9KTtcbiAgYGBgXG5cbiAgQW4gZXhhbXBsZSByZWFsLXdvcmxkIHVzZSBjYXNlIGlzIGltcGxlbWVudGluZyB0aW1lb3V0czpcblxuICBgYGBqYXZhc2NyaXB0XG4gIFByb21pc2UucmFjZShbYWpheCgnZm9vLmpzb24nKSwgdGltZW91dCg1MDAwKV0pXG4gIGBgYFxuXG4gIEBtZXRob2QgcmFjZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IHByb21pc2VzIGFycmF5IG9mIHByb21pc2VzIHRvIG9ic2VydmVcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2Ugd2hpY2ggc2V0dGxlcyBpbiB0aGUgc2FtZSB3YXkgYXMgdGhlIGZpcnN0IHBhc3NlZFxuICBwcm9taXNlIHRvIHNldHRsZS5cbiovXG5mdW5jdGlvbiByYWNlKGVudHJpZXMpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkoZW50cmllcykpIHtcbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChfLCByZWplY3QpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gIGBQcm9taXNlLnJlamVjdGAgcmV0dXJucyBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgcGFzc2VkIGByZWFzb25gLlxuICBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZWplY3RcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FueX0gcmVhc29uIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBnaXZlbiBgcmVhc29uYC5cbiovXG5mdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICBfcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBuZWVkc1Jlc29sdmVyKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG59XG5cbmZ1bmN0aW9uIG5lZWRzTmV3KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xufVxuXG4vKipcbiAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZSByZWFzb25cbiAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgVGVybWlub2xvZ3lcbiAgLS0tLS0tLS0tLS1cblxuICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAtIGB0aGVuYWJsZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBhIGB0aGVuYCBtZXRob2QuXG4gIC0gYHZhbHVlYCBpcyBhbnkgbGVnYWwgSmF2YVNjcmlwdCB2YWx1ZSAoaW5jbHVkaW5nIHVuZGVmaW5lZCwgYSB0aGVuYWJsZSwgb3IgYSBwcm9taXNlKS5cbiAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gIC0gYHJlYXNvbmAgaXMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aHkgYSBwcm9taXNlIHdhcyByZWplY3RlZC5cbiAgLSBgc2V0dGxlZGAgdGhlIGZpbmFsIHJlc3Rpbmcgc3RhdGUgb2YgYSBwcm9taXNlLCBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuXG5cbiAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gIFByb21pc2VzIHRoYXQgYXJlIGZ1bGZpbGxlZCBoYXZlIGEgZnVsZmlsbG1lbnQgdmFsdWUgYW5kIGFyZSBpbiB0aGUgZnVsZmlsbGVkXG4gIHN0YXRlLiAgUHJvbWlzZXMgdGhhdCBhcmUgcmVqZWN0ZWQgaGF2ZSBhIHJlamVjdGlvbiByZWFzb24gYW5kIGFyZSBpbiB0aGVcbiAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgUHJvbWlzZXMgY2FuIGFsc28gYmUgc2FpZCB0byAqcmVzb2x2ZSogYSB2YWx1ZS4gIElmIHRoaXMgdmFsdWUgaXMgYWxzbyBhXG4gIHByb21pc2UsIHRoZW4gdGhlIG9yaWdpbmFsIHByb21pc2UncyBzZXR0bGVkIHN0YXRlIHdpbGwgbWF0Y2ggdGhlIHZhbHVlJ3NcbiAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gIGl0c2VsZiByZWplY3QsIGFuZCBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpbGxcbiAgaXRzZWxmIGZ1bGZpbGwuXG5cblxuICBCYXNpYyBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tXG5cbiAgYGBganNcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyBvbiBzdWNjZXNzXG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAvLyBvbiBmYWlsdXJlXG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgQWR2YW5jZWQgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLS0tLVxuXG4gIFByb21pc2VzIHNoaW5lIHdoZW4gYWJzdHJhY3RpbmcgYXdheSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIHN1Y2ggYXNcbiAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgYGBganNcbiAgZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuRE9ORSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gIGBgYGpzXG4gIFByb21pc2UuYWxsKFtcbiAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICBnZXRKU09OKCcvY29tbWVudHMnKVxuICBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgIHZhbHVlc1sxXSAvLyA9PiBjb21tZW50c0pTT05cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuICBgYGBcblxuICBAY2xhc3MgUHJvbWlzZVxuICBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlclxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEBjb25zdHJ1Y3RvclxuKi9cbmZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcbiAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICB0aGlzLl9yZXN1bHQgPSB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicgJiYgbmVlZHNSZXNvbHZlcigpO1xuICAgIHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID8gaW5pdGlhbGl6ZVByb21pc2UodGhpcywgcmVzb2x2ZXIpIDogbmVlZHNOZXcoKTtcbiAgfVxufVxuXG5Qcm9taXNlLmFsbCA9IGFsbDtcblByb21pc2UucmFjZSA9IHJhY2U7XG5Qcm9taXNlLnJlc29sdmUgPSByZXNvbHZlO1xuUHJvbWlzZS5yZWplY3QgPSByZWplY3Q7XG5Qcm9taXNlLl9zZXRTY2hlZHVsZXIgPSBzZXRTY2hlZHVsZXI7XG5Qcm9taXNlLl9zZXRBc2FwID0gc2V0QXNhcDtcblByb21pc2UuX2FzYXAgPSBhc2FwO1xuXG5Qcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFByb21pc2UsXG5cbiAgLyoqXG4gICAgVGhlIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsXG4gICAgd2hpY2ggcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGVcbiAgICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuICAgICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gdXNlciBpcyB1bmF2YWlsYWJsZSwgYW5kIHlvdSBhcmUgZ2l2ZW4gdGhlIHJlYXNvbiB3aHlcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQ2hhaW5pbmdcbiAgICAtLS0tLS0tLVxuICBcbiAgICBUaGUgcmV0dXJuIHZhbHVlIG9mIGB0aGVuYCBpcyBpdHNlbGYgYSBwcm9taXNlLiAgVGhpcyBzZWNvbmQsICdkb3duc3RyZWFtJ1xuICAgIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmaXJzdCBwcm9taXNlJ3MgZnVsZmlsbG1lbnRcbiAgICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHJldHVybiB1c2VyLm5hbWU7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuICdkZWZhdWx0IG5hbWUnO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgICAvLyBJZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHVzZXJOYW1lYCB3aWxsIGJlIHRoZSB1c2VyJ3MgbmFtZSwgb3RoZXJ3aXNlIGl0XG4gICAgICAvLyB3aWxsIGJlIGAnZGVmYXVsdCBuYW1lJ2BcbiAgICB9KTtcbiAgXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gICAgfSk7XG4gICAgYGBgXG4gICAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEFzc2ltaWxhdGlvblxuICAgIC0tLS0tLS0tLS0tLVxuICBcbiAgICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICAgIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgICBmdWxmaWxsbWVudCBvciByZWplY3Rpb24gaGFuZGxlci4gVGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIHRoZW4gYmUgcGVuZGluZ1xuICAgIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAvLyBUaGUgdXNlcidzIGNvbW1lbnRzIGFyZSBub3cgYXZhaWxhYmxlXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIElmIHRoZSBhc3NpbWxpYXRlZCBwcm9taXNlIHJlamVjdHMsIHRoZW4gdGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIGFsc28gcmVqZWN0LlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBTaW1wbGUgRXhhbXBsZVxuICAgIC0tLS0tLS0tLS0tLS0tXG4gIFxuICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcbiAgXG4gICAgYGBgamF2YXNjcmlwdFxuICAgIGxldCByZXN1bHQ7XG4gIFxuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBmaW5kUmVzdWx0KCk7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9XG4gICAgYGBgXG4gIFxuICAgIEVycmJhY2sgRXhhbXBsZVxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRSZXN1bHQoZnVuY3Rpb24ocmVzdWx0LCBlcnIpe1xuICAgICAgaWYgKGVycikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIFByb21pc2UgRXhhbXBsZTtcbiAgXG4gICAgYGBgamF2YXNjcmlwdFxuICAgIGZpbmRSZXN1bHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQWR2YW5jZWQgRXhhbXBsZVxuICAgIC0tLS0tLS0tLS0tLS0tXG4gIFxuICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcbiAgXG4gICAgYGBgamF2YXNjcmlwdFxuICAgIGxldCBhdXRob3IsIGJvb2tzO1xuICBcbiAgICB0cnkge1xuICAgICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgRXJyYmFjayBFeGFtcGxlXG4gIFxuICAgIGBgYGpzXG4gIFxuICAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcbiAgXG4gICAgfVxuICBcbiAgICBmdW5jdGlvbiBmYWlsdXJlKHJlYXNvbikge1xuICBcbiAgICB9XG4gIFxuICAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgIC8vIGZhaWx1cmVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvdW5kQm9va3MoYm9va3MpO1xuICAgICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIGZhaWx1cmUocmVhc29uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgIH1cbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgUHJvbWlzZSBFeGFtcGxlO1xuICBcbiAgICBgYGBqYXZhc2NyaXB0XG4gICAgZmluZEF1dGhvcigpLlxuICAgICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgICB0aGVuKGZ1bmN0aW9uKGJvb2tzKXtcbiAgICAgICAgLy8gZm91bmQgYm9va3NcbiAgICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCB0aGVuXG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gb25GdWxmaWxsZWRcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG4gIHRoZW46IHRoZW4sXG5cbiAgLyoqXG4gICAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICAgIGFzIHRoZSBjYXRjaCBibG9jayBvZiBhIHRyeS9jYXRjaCBzdGF0ZW1lbnQuXG4gIFxuICAgIGBgYGpzXG4gICAgZnVuY3Rpb24gZmluZEF1dGhvcigpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZG4ndCBmaW5kIHRoYXQgYXV0aG9yJyk7XG4gICAgfVxuICBcbiAgICAvLyBzeW5jaHJvbm91c1xuICAgIHRyeSB7XG4gICAgICBmaW5kQXV0aG9yKCk7XG4gICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgfVxuICBcbiAgICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGNhdGNoXG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cbiAgJ2NhdGNoJzogZnVuY3Rpb24gX2NhdGNoKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICAgIHZhciBsb2NhbCA9IHVuZGVmaW5lZDtcblxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBsb2NhbCA9IGdsb2JhbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBsb2NhbCA9IHNlbGY7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBQID0gbG9jYWwuUHJvbWlzZTtcblxuICAgIGlmIChQKSB7XG4gICAgICAgIHZhciBwcm9taXNlVG9TdHJpbmcgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gc2lsZW50bHkgaWdub3JlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvY2FsLlByb21pc2UgPSBQcm9taXNlO1xufVxuXG5wb2x5ZmlsbCgpO1xuLy8gU3RyYW5nZSBjb21wYXQuLlxuUHJvbWlzZS5wb2x5ZmlsbCA9IHBvbHlmaWxsO1xuUHJvbWlzZS5Qcm9taXNlID0gUHJvbWlzZTtcblxucmV0dXJuIFByb21pc2U7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lczYtcHJvbWlzZS5tYXAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyogKGlnbm9yZWQpICovIiwidmFyIHhociA9IHJlcXVpcmUoJ3hocicpO1xyXG5cclxudmFyIF9sYW5nO1xyXG5cclxudmFyIF9tc2cgPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGdldE5hdmlnYXRvckxhbmd1YWdlKCkge1xyXG4gICAgdmFyIGxhbmcgPSBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCBuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2U7XHJcbiAgICByZXR1cm4gbGFuZy5zdWJzdHIoMCwgMik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldExhbmd1YWdlKGlucHV0TGFuZywgY2FsbGJhY2spIHtcclxuICAgIF9sYW5nID0gaW5wdXRMYW5nO1xyXG5cclxuICAgIC8vIOyeheugpeuQnCDslrjslrQg7ISk7KCVIOqwkuydtCDsl4bripQg6rK97JqwLCDruIzrnbzsmrDsoIAg7Ja47Ja0IOyEpOygleydhCDqsIDsoLjsmLRcclxuICAgIGlmICghX2xhbmcpIHtcclxuICAgICAgICBfbGFuZyA9IGdldE5hdmlnYXRvckxhbmd1YWdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFfbXNnW2lucHV0TGFuZ10pIHtcclxuICAgICAgICBsb2FkKGlucHV0TGFuZywgY2FsbGJhY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkKGlucHV0TGFuZywgY2FsbGJhY2spIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgX21zZyA9IHJlcXVpcmUoXCIuL2pzb24vXCIgKyBcIm1lc3NhZ2UuXCIgKyBpbnB1dExhbmcgKyBcIi5qc29uXCIpOyAgICAgICAgXHJcbiAgICAgICAgd2luZG93LktJQ0FfQ09SUFVTID0gX21zZztcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlLm1lc3NhZ2UpO1xyXG4gICAgICAgIGNhbGxiYWNrKFwiVGhlIGxhbmd1YWdlIGNvZGU6ICdcIiArIF9sYW5nICsgXCInIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXQoaWQpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDApIHtcclxuICAgICAgICByZXR1cm4gXCJVbmtub3duIGVycm9yLlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBtZXNzYWdlID0gX21zZyA/IF9tc2dbaWRdIDogaWQ7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKFwie31cIiwgYXJndW1lbnRzW2ldKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbWVzc2FnZTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXQ6IGdldCxcclxuICAgIHNldExhbmd1YWdlOiBzZXRMYW5ndWFnZVxyXG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgd2luZG93ID0gcmVxdWlyZShcImdsb2JhbC93aW5kb3dcIilcbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZShcImlzLWZ1bmN0aW9uXCIpXG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZShcInBhcnNlLWhlYWRlcnNcIilcbnZhciB4dGVuZCA9IHJlcXVpcmUoXCJ4dGVuZFwiKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVhIUlxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlWEhSO1xuY3JlYXRlWEhSLlhNTEh0dHBSZXF1ZXN0ID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0IHx8IG5vb3BcbmNyZWF0ZVhIUi5YRG9tYWluUmVxdWVzdCA9IFwid2l0aENyZWRlbnRpYWxzXCIgaW4gKG5ldyBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QoKSkgPyBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QgOiB3aW5kb3cuWERvbWFpblJlcXVlc3RcblxuZm9yRWFjaEFycmF5KFtcImdldFwiLCBcInB1dFwiLCBcInBvc3RcIiwgXCJwYXRjaFwiLCBcImhlYWRcIiwgXCJkZWxldGVcIl0sIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIGNyZWF0ZVhIUlttZXRob2QgPT09IFwiZGVsZXRlXCIgPyBcImRlbFwiIDogbWV0aG9kXSA9IGZ1bmN0aW9uKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgb3B0aW9ucyA9IGluaXRQYXJhbXModXJpLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgICAgICAgb3B0aW9ucy5tZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgICAgICByZXR1cm4gX2NyZWF0ZVhIUihvcHRpb25zKVxuICAgIH1cbn0pXG5cbmZ1bmN0aW9uIGZvckVhY2hBcnJheShhcnJheSwgaXRlcmF0b3IpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdG9yKGFycmF5W2ldKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNFbXB0eShvYmope1xuICAgIGZvcih2YXIgaSBpbiBvYmope1xuICAgICAgICBpZihvYmouaGFzT3duUHJvcGVydHkoaSkpIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICB2YXIgcGFyYW1zID0gdXJpXG5cbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnNcbiAgICAgICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHt1cmk6dXJpfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1zID0geHRlbmQob3B0aW9ucywge3VyaTogdXJpfSlcbiAgICB9XG5cbiAgICBwYXJhbXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIHJldHVybiBwYXJhbXNcbn1cblxuZnVuY3Rpb24gY3JlYXRlWEhSKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBvcHRpb25zID0gaW5pdFBhcmFtcyh1cmksIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAgIHJldHVybiBfY3JlYXRlWEhSKG9wdGlvbnMpXG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVYSFIob3B0aW9ucykge1xuICAgIGlmKHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSBcInVuZGVmaW5lZFwiKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FsbGJhY2sgYXJndW1lbnQgbWlzc2luZ1wiKVxuICAgIH1cblxuICAgIHZhciBjYWxsZWQgPSBmYWxzZVxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNiT25jZShlcnIsIHJlc3BvbnNlLCBib2R5KXtcbiAgICAgICAgaWYoIWNhbGxlZCl7XG4gICAgICAgICAgICBjYWxsZWQgPSB0cnVlXG4gICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrKGVyciwgcmVzcG9uc2UsIGJvZHkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWFkeXN0YXRlY2hhbmdlKCkge1xuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQobG9hZEZ1bmMsIDApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRCb2R5KCkge1xuICAgICAgICAvLyBDaHJvbWUgd2l0aCByZXF1ZXN0VHlwZT1ibG9iIHRocm93cyBlcnJvcnMgYXJyb3VuZCB3aGVuIGV2ZW4gdGVzdGluZyBhY2Nlc3MgdG8gcmVzcG9uc2VUZXh0XG4gICAgICAgIHZhciBib2R5ID0gdW5kZWZpbmVkXG5cbiAgICAgICAgaWYgKHhoci5yZXNwb25zZSkge1xuICAgICAgICAgICAgYm9keSA9IHhoci5yZXNwb25zZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keSA9IHhoci5yZXNwb25zZVRleHQgfHwgZ2V0WG1sKHhocilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0pzb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSlcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm9keVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVycm9yRnVuYyhldnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcilcbiAgICAgICAgaWYoIShldnQgaW5zdGFuY2VvZiBFcnJvcikpe1xuICAgICAgICAgICAgZXZ0ID0gbmV3IEVycm9yKFwiXCIgKyAoZXZ0IHx8IFwiVW5rbm93biBYTUxIdHRwUmVxdWVzdCBFcnJvclwiKSApXG4gICAgICAgIH1cbiAgICAgICAgZXZ0LnN0YXR1c0NvZGUgPSAwXG4gICAgICAgIHJldHVybiBjYWxsYmFjayhldnQsIGZhaWx1cmVSZXNwb25zZSlcbiAgICB9XG5cbiAgICAvLyB3aWxsIGxvYWQgdGhlIGRhdGEgJiBwcm9jZXNzIHRoZSByZXNwb25zZSBpbiBhIHNwZWNpYWwgcmVzcG9uc2Ugb2JqZWN0XG4gICAgZnVuY3Rpb24gbG9hZEZ1bmMoKSB7XG4gICAgICAgIGlmIChhYm9ydGVkKSByZXR1cm5cbiAgICAgICAgdmFyIHN0YXR1c1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFRpbWVyKVxuICAgICAgICBpZihvcHRpb25zLnVzZVhEUiAmJiB4aHIuc3RhdHVzPT09dW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvL0lFOCBDT1JTIEdFVCBzdWNjZXNzZnVsIHJlc3BvbnNlIGRvZXNuJ3QgaGF2ZSBhIHN0YXR1cyBmaWVsZCwgYnV0IGJvZHkgaXMgZmluZVxuICAgICAgICAgICAgc3RhdHVzID0gMjAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0dXMgPSAoeGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3BvbnNlID0gZmFpbHVyZVJlc3BvbnNlXG4gICAgICAgIHZhciBlcnIgPSBudWxsXG5cbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gMCl7XG4gICAgICAgICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiBnZXRCb2R5KCksXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogc3RhdHVzLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgIHVybDogdXJpLFxuICAgICAgICAgICAgICAgIHJhd1JlcXVlc3Q6IHhoclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycyl7IC8vcmVtZW1iZXIgeGhyIGNhbiBpbiBmYWN0IGJlIFhEUiBmb3IgQ09SUyBpbiBJRVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKFwiSW50ZXJuYWwgWE1MSHR0cFJlcXVlc3QgRXJyb3JcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCByZXNwb25zZSwgcmVzcG9uc2UuYm9keSlcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gb3B0aW9ucy54aHIgfHwgbnVsbFxuXG4gICAgaWYgKCF4aHIpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29ycyB8fCBvcHRpb25zLnVzZVhEUikge1xuICAgICAgICAgICAgeGhyID0gbmV3IGNyZWF0ZVhIUi5YRG9tYWluUmVxdWVzdCgpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgeGhyID0gbmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5XG4gICAgdmFyIGFib3J0ZWRcbiAgICB2YXIgdXJpID0geGhyLnVybCA9IG9wdGlvbnMudXJpIHx8IG9wdGlvbnMudXJsXG4gICAgdmFyIG1ldGhvZCA9IHhoci5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiXG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHkgfHwgb3B0aW9ucy5kYXRhXG4gICAgdmFyIGhlYWRlcnMgPSB4aHIuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fVxuICAgIHZhciBzeW5jID0gISFvcHRpb25zLnN5bmNcbiAgICB2YXIgaXNKc29uID0gZmFsc2VcbiAgICB2YXIgdGltZW91dFRpbWVyXG4gICAgdmFyIGZhaWx1cmVSZXNwb25zZSA9IHtcbiAgICAgICAgYm9keTogdW5kZWZpbmVkLFxuICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgc3RhdHVzQ29kZTogMCxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHVybDogdXJpLFxuICAgICAgICByYXdSZXF1ZXN0OiB4aHJcbiAgICB9XG5cbiAgICBpZiAoXCJqc29uXCIgaW4gb3B0aW9ucyAmJiBvcHRpb25zLmpzb24gIT09IGZhbHNlKSB7XG4gICAgICAgIGlzSnNvbiA9IHRydWVcbiAgICAgICAgaGVhZGVyc1tcImFjY2VwdFwiXSB8fCBoZWFkZXJzW1wiQWNjZXB0XCJdIHx8IChoZWFkZXJzW1wiQWNjZXB0XCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIC8vRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYWNjZXB0IGhlYWRlciBkZWNsYXJlZCBieSB1c2VyXG4gICAgICAgIGlmIChtZXRob2QgIT09IFwiR0VUXCIgJiYgbWV0aG9kICE9PSBcIkhFQURcIikge1xuICAgICAgICAgICAgaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSB8fCBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdIHx8IChoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIC8vRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYWNjZXB0IGhlYWRlciBkZWNsYXJlZCBieSB1c2VyXG4gICAgICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5qc29uID09PSB0cnVlID8gYm9keSA6IG9wdGlvbnMuanNvbilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSByZWFkeXN0YXRlY2hhbmdlXG4gICAgeGhyLm9ubG9hZCA9IGxvYWRGdW5jXG4gICAgeGhyLm9uZXJyb3IgPSBlcnJvckZ1bmNcbiAgICAvLyBJRTkgbXVzdCBoYXZlIG9ucHJvZ3Jlc3MgYmUgc2V0IHRvIGEgdW5pcXVlIGZ1bmN0aW9uLlxuICAgIHhoci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJRSBtdXN0IGRpZVxuICAgIH1cbiAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICB4aHIub250aW1lb3V0ID0gZXJyb3JGdW5jXG4gICAgeGhyLm9wZW4obWV0aG9kLCB1cmksICFzeW5jLCBvcHRpb25zLnVzZXJuYW1lLCBvcHRpb25zLnBhc3N3b3JkKVxuICAgIC8vaGFzIHRvIGJlIGFmdGVyIG9wZW5cbiAgICBpZighc3luYykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gISFvcHRpb25zLndpdGhDcmVkZW50aWFsc1xuICAgIH1cbiAgICAvLyBDYW5ub3Qgc2V0IHRpbWVvdXQgd2l0aCBzeW5jIHJlcXVlc3RcbiAgICAvLyBub3Qgc2V0dGluZyB0aW1lb3V0IG9uIHRoZSB4aHIgb2JqZWN0LCBiZWNhdXNlIG9mIG9sZCB3ZWJraXRzIGV0Yy4gbm90IGhhbmRsaW5nIHRoYXQgY29ycmVjdGx5XG4gICAgLy8gYm90aCBucG0ncyByZXF1ZXN0IGFuZCBqcXVlcnkgMS54IHVzZSB0aGlzIGtpbmQgb2YgdGltZW91dCwgc28gdGhpcyBpcyBiZWluZyBjb25zaXN0ZW50XG4gICAgaWYgKCFzeW5jICYmIG9wdGlvbnMudGltZW91dCA+IDAgKSB7XG4gICAgICAgIHRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmIChhYm9ydGVkKSByZXR1cm5cbiAgICAgICAgICAgIGFib3J0ZWQgPSB0cnVlLy9JRTkgbWF5IHN0aWxsIGNhbGwgcmVhZHlzdGF0ZWNoYW5nZVxuICAgICAgICAgICAgeGhyLmFib3J0KFwidGltZW91dFwiKVxuICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoXCJYTUxIdHRwUmVxdWVzdCB0aW1lb3V0XCIpXG4gICAgICAgICAgICBlLmNvZGUgPSBcIkVUSU1FRE9VVFwiXG4gICAgICAgICAgICBlcnJvckZ1bmMoZSlcbiAgICAgICAgfSwgb3B0aW9ucy50aW1lb3V0IClcbiAgICB9XG5cbiAgICBpZiAoeGhyLnNldFJlcXVlc3RIZWFkZXIpIHtcbiAgICAgICAgZm9yKGtleSBpbiBoZWFkZXJzKXtcbiAgICAgICAgICAgIGlmKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSl7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaGVhZGVycyAmJiAhaXNFbXB0eShvcHRpb25zLmhlYWRlcnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhlYWRlcnMgY2Fubm90IGJlIHNldCBvbiBhbiBYRG9tYWluUmVxdWVzdCBvYmplY3RcIilcbiAgICB9XG5cbiAgICBpZiAoXCJyZXNwb25zZVR5cGVcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZVxuICAgIH1cblxuICAgIGlmIChcImJlZm9yZVNlbmRcIiBpbiBvcHRpb25zICYmXG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmJlZm9yZVNlbmQgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgICBvcHRpb25zLmJlZm9yZVNlbmQoeGhyKVxuICAgIH1cblxuICAgIC8vIE1pY3Jvc29mdCBFZGdlIGJyb3dzZXIgc2VuZHMgXCJ1bmRlZmluZWRcIiB3aGVuIHNlbmQgaXMgY2FsbGVkIHdpdGggdW5kZWZpbmVkIHZhbHVlLlxuICAgIC8vIFhNTEh0dHBSZXF1ZXN0IHNwZWMgc2F5cyB0byBwYXNzIG51bGwgYXMgYm9keSB0byBpbmRpY2F0ZSBubyBib2R5XG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9uYXVndHVyL3hoci9pc3N1ZXMvMTAwLlxuICAgIHhoci5zZW5kKGJvZHkgfHwgbnVsbClcblxuICAgIHJldHVybiB4aHJcblxuXG59XG5cbmZ1bmN0aW9uIGdldFhtbCh4aHIpIHtcbiAgICAvLyB4aHIucmVzcG9uc2VYTUwgd2lsbCB0aHJvdyBFeGNlcHRpb24gXCJJbnZhbGlkU3RhdGVFcnJvclwiIG9yIFwiRE9NRXhjZXB0aW9uXCJcbiAgICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L3Jlc3BvbnNlWE1MLlxuICAgIHRyeSB7XG4gICAgICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSBcImRvY3VtZW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB4aHIucmVzcG9uc2VYTUxcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlyZWZveEJ1Z1Rha2VuRWZmZWN0ID0geGhyLnJlc3BvbnNlWE1MICYmIHhoci5yZXNwb25zZVhNTC5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgPT09IFwicGFyc2VyZXJyb3JcIlxuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gXCJcIiAmJiAhZmlyZWZveEJ1Z1Rha2VuRWZmZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlWE1MXG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgcmV0dXJuIG51bGxcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG4iLCJ2YXIgd2luO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIHdpbiA9IHNlbGY7XG59IGVsc2Uge1xuICAgIHdpbiA9IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbjtcbiIsIm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvblxuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24gKGZuKSB7XG4gIHZhciBzdHJpbmcgPSB0b1N0cmluZy5jYWxsKGZuKVxuICByZXR1cm4gc3RyaW5nID09PSAnW29iamVjdCBGdW5jdGlvbl0nIHx8XG4gICAgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiBzdHJpbmcgIT09ICdbb2JqZWN0IFJlZ0V4cF0nKSB8fFxuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAvLyBJRTggYW5kIGJlbG93XG4gICAgIChmbiA9PT0gd2luZG93LnNldFRpbWVvdXQgfHxcbiAgICAgIGZuID09PSB3aW5kb3cuYWxlcnQgfHxcbiAgICAgIGZuID09PSB3aW5kb3cuY29uZmlybSB8fFxuICAgICAgZm4gPT09IHdpbmRvdy5wcm9tcHQpKVxufTtcbiIsInZhciB0cmltID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xufVxuICAsIGlzQXJyYXkgPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcbiAgaWYgKCFoZWFkZXJzKVxuICAgIHJldHVybiB7fVxuXG4gIHZhciByZXN1bHQgPSB7fVxuXG4gIHZhciBoZWFkZXJzQXJyID0gdHJpbShoZWFkZXJzKS5zcGxpdCgnXFxuJylcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGhlYWRlcnNBcnIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcm93ID0gaGVhZGVyc0FycltpXVxuICAgIHZhciBpbmRleCA9IHJvdy5pbmRleE9mKCc6JylcbiAgICAsIGtleSA9IHRyaW0ocm93LnNsaWNlKDAsIGluZGV4KSkudG9Mb3dlckNhc2UoKVxuICAgICwgdmFsdWUgPSB0cmltKHJvdy5zbGljZShpbmRleCArIDEpKVxuXG4gICAgaWYgKHR5cGVvZihyZXN1bHRba2V5XSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlXG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHJlc3VsdFtrZXldKSkge1xuICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSBbIHJlc3VsdFtrZXldLCB2YWx1ZSBdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBleHRlbmRcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciB0YXJnZXQgPSB7fVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXVxuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRcbn1cbiIsInZhciBtYXAgPSB7XG5cdFwiLi9tZXNzYWdlLmVuLmpzb25cIjogMzcsXG5cdFwiLi9tZXNzYWdlLmtvLmpzb25cIjogMzhcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAzNjsiLCJ2YXIgYm94ZXMgPSByZXF1aXJlKFwiLi9ib3hlc1wiKTtcclxudmFyIF9wMTJCdWZmZXIsIF9jZXJ0QnVmZmVyLCBfa2V5QnVmZmVyO1xyXG5cclxudmFyIEtJQ0FfRElBTE9HID0ge1xyXG4gICAgY3JlYXRlRGlhbG9nOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlY3VraXQtd3JhcHBlcicpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBfYm94ZXMgPSBib3hlcy5ib3hlcygpO1xyXG4gICAgICAgIHZhciBTRUNVS0lUX0RJQUxPRyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgU0VDVUtJVF9ESUFMT0cuaWQgPSBcInNlY3VraXQtd3JhcHBlclwiO1xyXG4gICAgICAgIFNFQ1VLSVRfRElBTE9HLmNsYXNzTmFtZSA9IFwia2ljYS1kLW5vbmVcIjtcclxuICAgICAgICBTRUNVS0lUX0RJQUxPRy5sYW5nID0gd2VibnBraV9jb25maWcubGFuZ3VhZ2UudG9Mb2NhbGVMb3dlckNhc2UoKTtcclxuICAgICAgICBTRUNVS0lUX0RJQUxPRy5pbm5lckhUTUwgPSBfYm94ZXMubWFpbiArIF9ib3hlcy5wZGZWaWV3ZXIgKyBfYm94ZXMuaW1wb3J0UEZYICsgX2JveGVzLmZpbmRQRlhcclxuXHJcbiAgICAgICAgS0lDQV9MT0dHRVIuaW5mbyhTRUNVS0lUX0RJQUxPRyk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoU0VDVUtJVF9ESUFMT0cpO1xyXG4gICAgfSxcclxuXHJcbiAgICBlbmFibGVLZXlib2FyZFNlY3VyaXR5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyDtgqTrs7Trk5wg67O07JWIIOyggeyaqVxyXG4gICAgICAgIGlmICh3ZWJucGtpX2NvbmZpZy5rZXlib2FyZFNlY3VyaXR5ID09PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgdmFyIF92b3RtZG5qZW0gPSAkKCcjcWxhbGZxanNnaCwgI2lucHV0LXBmeC1xbGFsZnFqc2doJyk7XHJcbiAgICAgICAgICAgIF92b3RtZG5qZW0ub2ZmKCdrZXlwcmVzcyBrZXlkb3duJyk7XHJcblxyXG4gICAgICAgICAgICBfdm90bWRuamVtLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgIT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRlbXAuc3Vic3RyaW5nKDAsIHRoaXMuc2VsZWN0aW9uU3RhcnQpICsgdGVtcC5zdWJzdHJpbmcodGhpcy5zZWxlY3Rpb25FbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdlYm5wa2kubW9kaWZ5Vm90bWRuamVtKHRoaXMuaWQsIHRoaXMuc2VsZWN0aW9uU3RhcnQsIHRoaXMuc2VsZWN0aW9uRW5kLCA4LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRlbXAgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oMSwgMTApICogMTEwKSAlIDgzICsgMzMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldFNlbGVjdGlvblJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShjdXJzb3IgKyAxLCBjdXJzb3IgKyAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5jcmVhdGVUZXh0UmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBjdXJzb3IgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIGN1cnNvciArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOu5hOuwgOuyiO2YuCDslZTtmLjtmZQg7KeE7ZaJICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHdlYm5wa2kuc2V0Vm90bWRuamVtKHRoaXMuaWQsIHRoaXMuc2VsZWN0aW9uU3RhcnQsIGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGUpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgX3ZvdG1kbmplbS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuYWx0S2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGtleWNvZGUgPSBldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChrZXljb2RlID09PSA0NiB8fCBrZXljb2RlID09PSA4KSAmJiAhJChcIiNcIiArIHRoaXMuaWQpLmdldGtleWJvYXJkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3ZWJucGtpLm1vZGlmeVZvdG1kbmplbSh0aGlzLmlkLCB0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCwga2V5Y29kZSwgZXZlbnQuY3RybEtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHdlYm5wa2lfY29uZmlnLmtleWJvYXJkU2VjdXJpdHkgPT09ICdraW5ncycpIHtcclxuICAgICAgICAgICAga2luZ3MuaW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb3BlblNlbGVjdENlcnRpZmljYXRlRGlhbG9nOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBfaW5pdERpYWxvZygpO1xyXG4gICAgICAgIF9zaG93Q2VydExpc3QoKTtcclxuICAgICAgICAkKCcjc2VjdWtpdC13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2tpY2EtZC1ub25lJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsb3NlU2VsZWN0Q2VydGlmaWNhdGVEaWFsb2c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIF9kZXN0cm95X3ZrKCk7XHJcbiAgICAgICAgJCgnI3NlbGVjdC1jZXJ0aWZpY2F0ZS1jb25maXJtJykub2ZmKCdjbGljaycpO1xyXG4gICAgICAgICQoJyNzZWN1a2l0LXdyYXBwZXInKS5hZGRDbGFzcygna2ljYS1kLW5vbmUnKTtcclxuXHJcbiAgICAgICAgaWYgKHdlYm5wa2lfY29uZmlnLmtleWJvYXJkU2VjdXJpdHkgPT09ICdraW5ncycpIHtcclxuICAgICAgICAgICAgdktleXBhZEdsb2JhbC51bmxvYWRBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9wZW5HdWlkZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQoJyNicm93c2VyLWd1aWRlLXdyYXBwZXInKS5oYXNDbGFzcygna2ljYS1kLW5vbmUnKSkge1xyXG4gICAgICAgICAgICAkKCcjYnJvd3Nlci1ndWlkZS13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2tpY2EtZC1ub25lJyk7XHJcbiAgICAgICAgICAgICQoJyNzZWN1a2l0LWRpYWxvZycpLmFkZENsYXNzKCdvcGVuLWd1aWRlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgS0lDQV9ESUFMT0cuY2xvc2VHdWlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY2xvc2VHdWlkZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnI2Jyb3dzZXItZ3VpZGUtd3JhcHBlcicpLmFkZENsYXNzKCdraWNhLWQtbm9uZScpO1xyXG4gICAgICAgICQoJyNzZWN1a2l0LWRpYWxvZycpLnJlbW92ZUNsYXNzKCdvcGVuLWd1aWRlJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9wZW5EZXRhaWxHdWlkZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCFQREZPYmplY3Quc3VwcG9ydHNQREZzKSB7XHJcbiAgICAgICAgICAgIF9kb3dubG9hZCh3ZWJucGtpX2NvbmZpZy5wYXRoICsgJ2Fzc2V0cy9ndWlkZS9icm93c2VyX2NlcnRpZmljYXRlX2d1aWRlLnBkZicsICdCcm93c2VyIENlcnRpZmljYXRlIERldGFpbCBndWlkZS5wZGYnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbW9kYWwgPSAkKCcjZGV0YWlsLWd1aWRlJyk7XHJcbiAgICAgICAgbW9kYWwucmVtb3ZlQ2xhc3MoJ2tpY2EtZC1ub25lJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsb3NlRGV0YWlsR3VpZGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBtb2RhbCA9ICQoJyNkZXRhaWwtZ3VpZGUnKTtcclxuICAgICAgICBtb2RhbC5hZGRDbGFzcygna2ljYS1kLW5vbmUnKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2VsZWN0Q2VydDogZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAkKCcjY2VydC1saXN0IHRyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJyNjZXJ0LWxpc3QgdHJbaWQ9JyArIGluZGV4ICsgJ10nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uRHJhZ092ZXJDZXJ0OiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudC50YXJnZXQuY2xhc3NMaXN0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZChcImRyYWdvdmVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25EcmFnTGVhdmVDZXJ0OiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudC50YXJnZXQuY2xhc3NMaXN0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImRyYWdvdmVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25Ecm9wQ2VydDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImRyYWdvdmVyXCIpO1xyXG4gICAgICAgIGlmICghZXZlbnQuZGF0YVRyYW5zZmVyIHx8IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBLSUNBX0RJQUxPRy5vblNlbGVjdENlcnQoZXZlbnQuZGF0YVRyYW5zZmVyKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25TZWxlY3RDZXJ0OiBmdW5jdGlvbih0YXJnZXQpIHtcclxuICAgICAgICB2YXIgZmlsZXMgPSB0YXJnZXQuZmlsZXM7XHJcbiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25sb2FkUmVhZGVyKGZpbGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNOYW1lID0gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY05hbWUgPT09IFwic2lnbmNlcnQuZGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfY2VydEJ1ZmZlciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjTmFtZSA9PT0gXCJzaWducHJpLmtleVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2tleUJ1ZmZlciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXFwucGZ4JHxcXC5wMTIkLy50ZXN0KGNOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9wMTJCdWZmZXIgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmlsZUxvYWRDYWxsYmFjayhwMTIpIHtcclxuICAgICAgICAgICAgaWYgKHAxMikge1xyXG4gICAgICAgICAgICAgICAgX3Nob3dBc2tQd2REaWFsb2cocDEyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBjcnQsIGtleTtcclxuICAgICAgICAgICAgICAgIGNydCA9IHR5cGVvZiBfY2VydEJ1ZmZlciA9PT0gXCJ1bmRlZmluZWRcIiA/IGZhbHNlIDogdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGtleSA9IHR5cGVvZiBfa2V5QnVmZmVyID09PSBcInVuZGVmaW5lZFwiID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNydCAmJiBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3ZWJucGtpX2NvbmZpZy5hc2tQd2QgPyBfc2hvd0Fza1B3ZERpYWxvZyhwMTIpIDogX2ltcG9ydENlcnRBbmRLZXkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGksIHJlYWRlcjtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGVzW2ldKTtcclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IG9ubG9hZFJlYWRlcihmaWxlc1tpXSwgZmlsZUxvYWRDYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFyZ2V0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvcGVuRmluZENlcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJyNmaW5kLXBmeC13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2tpY2EtZC1ub25lJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsb3NlRmluZENlcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIF9jbG9zZUZpbmRDZXJ0KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGRvd25sb2FkQ29udmVydENlcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChfZ2V0T1MoKSA9PT0gJ1dpbmRvd3MnKSB7XHJcbiAgICAgICAgICAgIF9kb3dubG9hZCh3ZWJucGtpX2NvbmZpZy5wYXRoICsgJ2Fzc2V0cy9wbHVnaW4vU2VjdUtpdENlcnRFeHBvcnQuZXhlJywgJ1NlY3VLaXRDZXJ0RXhwb3J0LmV4ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEtJQ0FfQUxFUlQuZXJyb3IoXCJJU19OT1RfV0lORE9XU1wiLCBLSUNBX0VSUk9SX01TRy5nZXQoXCJJU19OT1RfV0lORE9XU1wiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzZWFyY2hDZXJ0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCcjaW5wdXRDZXJ0cycpLmNsaWNrKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZVZpcnR1YWxLZXlib2FyZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHdlYm5wa2lfY29uZmlnLmtleWJvYXJkU2VjdXJpdHkgPT09IFwiZGVmYXVsdFwiKSB7XHJcbiAgICAgICAgICAgIHZhciB2ayA9ICQoJyNxbGFsZnFqc2doJykuZ2V0a2V5Ym9hcmQoKTtcclxuICAgICAgICAgICAgJCgnI3FsYWxmcWpzZ2gnKS52YWwoJycpO1xyXG4gICAgICAgICAgICB3ZWJucGtpLnNldFZvdG1kbmplbSgncWxhbGZxanNnaCcpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZrID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgJCgnI3ZrZXlib2FyZC10b2dnbGUnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBfaW5pdF92aygnI3FsYWxmcWpzZ2gnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyN2a2V5Ym9hcmQtdG9nZ2xlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdmsuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh3ZWJucGtpX2NvbmZpZy5rZXlib2FyZFNlY3VyaXR5ID09PSBcImtpbmdzXCIpIHtcclxuICAgICAgICAgICAgaWYgKCQoJyN2a2V5Ym9hcmQtdG9nZ2xlJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjdmtleWJvYXJkLXRvZ2dsZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHZLZXlwYWRHbG9iYWwudW5sb2FkQWxsKCk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI3ZrZXlib2FyZC10b2dnbGUnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2S2V5cGFkR2xvYmFsLmxvYWRBbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciB2ayA9ICQoJyNxbGFsZnFqc2doJykuZ2V0a2V5Ym9hcmQoKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2ayA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICQoJyN2a2V5Ym9hcmQtdG9nZ2xlJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRfdmsoJyNxbGFsZnFqc2doJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjdmtleWJvYXJkLXRvZ2dsZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHZrLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlUEZYVmlydHVhbEtleWJvYXJkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdmsgPSAkKCcjaW5wdXQtcGZ4LXFsYWxmcWpzZ2gnKS5nZXRrZXlib2FyZCgpO1xyXG4gICAgICAgICQoJyNpbnB1dC1wZngtcWxhbGZxanNnaCcpLnZhbChcIlwiKTtcclxuICAgICAgICBpZiAodHlwZW9mIHZrID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAkKCcjcGZ4LXZrZXlib2FyZC10b2dnbGUnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIF9pbml0X3ZrKCcjaW5wdXQtcGZ4LXFsYWxmcWpzZ2gnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcjcGZ4LXZrZXlib2FyZC10b2dnbGUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHZrLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW1wb3J0QmFzZTY0Q2VydDogZnVuY3Rpb24oYmFzZTY0Q2VydCkge1xyXG4gICAgICAgIEtJQ0FfRElBTE9HLm9wZW5TZWxlY3RDZXJ0aWZpY2F0ZURpYWxvZygpO1xyXG4gICAgICAgICQoJyNzZWN1a2l0LWRpYWxvZycpLmFkZENsYXNzKCdraWNhLWQtbm9uZScpO1xyXG4gICAgICAgIF9zaG93QXNrUHdkRGlhbG9nKHRydWUsIGJhc2U2NENlcnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfY2xvc2VGaW5kQ2VydCgpIHtcclxuICAgICQoJyNmaW5kLXBmeC13cmFwcGVyJykuYWRkQ2xhc3MoJ2tpY2EtZC1ub25lJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9zaG93QXNrUHdkRGlhbG9nKHAxMiwgYmFzZTY0Q2VydCkge1xyXG4gICAgJCgnI3dlYm5wa2ktd3JhcHBlcicpLnJlbW92ZUNsYXNzKCdraWNhLWQtbm9uZScpO1xyXG4gICAgJCgnI2lucHV0LXBmeC1xbGFsZnFqc2doJykuZm9jdXMoKTtcclxuXHJcbiAgICAkKCcjcGZ4LXFsYWxmcWpzZ2gtY29uZmlybScpLnVuYmluZCgnY2xpY2snKTtcclxuICAgICQoJyNwZngtcWxhbGZxanNnaC1jb25maXJtJykuY2xpY2soZnVuY3Rpb24oKSB7IF9hc2tQd2RPayhwMTIsIGJhc2U2NENlcnQpOyB9KTtcclxuXHJcbiAgICAkKCcjcGZ4LXFsYWxmcWpzZ2gtY2FuY2VsJykudW5iaW5kKCdjbGljaycpO1xyXG4gICAgJCgnI3BmeC1xbGFsZnFqc2doLWNhbmNlbCcpLmNsaWNrKGZ1bmN0aW9uKCkgeyBfYXNrUHdkQ2FuY2VsKGJhc2U2NENlcnQpOyB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2Fza1B3ZE9rKHAxMiwgYmFzZTY0Q2VydCkge1xyXG4gICAgdmFyIHB3ZCA9ICQoJyNpbnB1dC1wZngtcWxhbGZxanNnaCcpLnZhbCgpO1xyXG4gICAgaWYgKHB3ZC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgIEtJQ0FfQUxFUlQuZXJyb3IoXCJFTVBUWV9QQVNTV09SRFwiLCBLSUNBX0VSUk9SX01TRy5nZXQoXCJFTVBUWV9QQVNTV09SRFwiKSwge1xyXG4gICAgICAgICAgICBvbkFmdGVyQ2xvc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lucHV0LXBmeC1xbGFsZnFqc2doJykuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW1wb3J0RXJyb3IoZSkge1xyXG4gICAgICAgIEtJQ0FfQUxFUlQuZXJyb3IoZS5jb2RlLCBlLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICBpZiAod2VibnBraV9jb25maWcua2V5Ym9hcmRTZWN1cml0eSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgIHdlYm5wa2kuc2V0Vm90bWRuamVtKCdpbnB1dC1wZngtcWxhbGZxanNnaCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcjaW5wdXQtcGZ4LXFsYWxmcWpzZ2gnKS52YWwoJycpO1xyXG4gICAgICAgICQoJyNpbnB1dC1wZngtcWxhbGZxanNnaCcpLmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHAxMikge1xyXG4gICAgICAgIGlmIChiYXNlNjRDZXJ0KSB7XHJcbiAgICAgICAgICAgIF9wMTJCdWZmZXIgPSB3ZWJucGtpLmJpbi5kZWNvZGVCYXNlNjQoYmFzZTY0Q2VydCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3ZWJucGtpLmltcG9ydFBLQ1MxMihfcDEyQnVmZmVyLCBwd2QpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIF9zaG93Q2VydExpc3QoKTtcclxuICAgICAgICAgICAgJCgnI3dlYm5wa2ktd3JhcHBlcicpLmFkZENsYXNzKCdraWNhLWQtbm9uZScpO1xyXG4gICAgICAgICAgICBfY2xvc2VGaW5kQ2VydCgpO1xyXG4gICAgICAgICAgICBfY2xlYXJDZXJ0QnVmZmVyKCk7XHJcbiAgICAgICAgICAgIF9jbG9zZV92aygpO1xyXG5cclxuICAgICAgICAgICAgJCgnI2lucHV0LXBmeC1xbGFsZnFqc2doJykudmFsKCcnKTtcclxuICAgICAgICAgICAgaWYgKHdlYm5wa2lfY29uZmlnLmtleWJvYXJkU2VjdXJpdHkgPT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICAgICAgd2VibnBraS5zZXRWb3RtZG5qZW0oJ2lucHV0LXBmeC1xbGFsZnFqc2doJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChiYXNlNjRDZXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBLSUNBX0FMRVJULnN1Y2Nlc3MoXCJCQVNFNjRfSU1QT1JUX0NFUlRfU1VDQ0VTU1wiLCBLSUNBX0NPUlBVUy5CQVNFNjRfSU1QT1JUX0NFUlRfU1VDQ0VTUyk7XHJcbiAgICAgICAgICAgICAgICBLSUNBX0RJQUxPRy5jbG9zZVNlbGVjdENlcnRpZmljYXRlRGlhbG9nKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjc2VjdWtpdC1kaWFsb2cnKS5yZW1vdmVDbGFzcygna2ljYS1kLW5vbmUnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGltcG9ydEVycm9yKGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdlYm5wa2kuaW1wb3J0Q2VydEFuZEtleShfY2VydEJ1ZmZlciwgX2tleUJ1ZmZlciwgcHdkKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBfc2hvd0NlcnRMaXN0KCk7XHJcbiAgICAgICAgICAgICQoJyN3ZWJucGtpLXdyYXBwZXInKS5hZGRDbGFzcygna2ljYS1kLW5vbmUnKTtcclxuICAgICAgICAgICAgJCgnI2lucHV0LXBmeC1xbGFsZnFqc2doJykudmFsKCcnKTtcclxuICAgICAgICAgICAgaWYgKHdlYm5wa2lfY29uZmlnLmtleWJvYXJkU2VjdXJpdHkgPT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICAgICAgd2VibnBraS5zZXRWb3RtZG5qZW0oJ2lucHV0LXBmeC1xbGFsZnFqc2doJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX2Nsb3NlRmluZENlcnQoKTtcclxuICAgICAgICAgICAgX2NsZWFyQ2VydEJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBfY2xvc2VfdmsoKTtcclxuXHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgaW1wb3J0RXJyb3IoZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gX2Fza1B3ZENhbmNlbChiYXNlNjRDZXJ0KSB7XHJcbiAgICAkKCcjd2VibnBraS13cmFwcGVyJykuYWRkQ2xhc3MoJ2tpY2EtZC1ub25lJyk7XHJcbiAgICBfY2xlYXJDZXJ0QnVmZmVyKCk7XHJcbiAgICBfY2xvc2VfdmsoKTtcclxuICAgICQoJyNpbnB1dC1wZngtcWxhbGZxanNnaCcpLnZhbCgnJyk7XHJcbiAgICBpZiAod2VibnBraV9jb25maWcua2V5Ym9hcmRTZWN1cml0eSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgd2VibnBraS5zZXRWb3RtZG5qZW0oJ2lucHV0LXBmeC1xbGFsZnFqc2doJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGJhc2U2NENlcnQpIHtcclxuICAgICAgICBfY2xvc2VGaW5kQ2VydCgpO1xyXG4gICAgICAgICQoJyNzZWN1a2l0LWRpYWxvZycpLnJlbW92ZUNsYXNzKCdraWNhLWQtbm9uZScpO1xyXG4gICAgICAgIEtJQ0FfRElBTE9HLmNsb3NlU2VsZWN0Q2VydGlmaWNhdGVEaWFsb2coKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfaW1wb3J0Q2VydEFuZEtleSgpIHtcclxuICAgIHdlYm5wa2kuaW1wb3J0Q2VydEFuZEtleShfY2VydEJ1ZmZlciwgX2tleUJ1ZmZlcikudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICBfc2hvd0NlcnRMaXN0KCk7XHJcbiAgICAgICAgX2NsZWFyQ2VydEJ1ZmZlcigpO1xyXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICBLSUNBX0FMRVJULmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIF9jbGVhckNlcnRCdWZmZXIoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfaW5pdERpYWxvZygpIHtcclxuICAgIHZhciBxbGFsZnFqc2doID0gJCgnI3FsYWxmcWpzZ2gnKTtcclxuICAgIHFsYWxmcWpzZ2gudmFsKFwiXCIpO1xyXG4gICAgcWxhbGZxanNnaC5kYXRhKFwia2luZ3NcIiwgXCJcIik7XHJcbiAgICBxbGFsZnFqc2doLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgcWxhbGZxanNnaC5wcm9wKCdwbGFjZWhvbGRlcicsIEtJQ0FfQ09SUFVTLkNFUlRfUFdEX1BMQUNFSE9MREVSKTtcclxuXHJcbiAgICB3ZWJucGtpLnNldFZvdG1kbmplbSgncWxhbGZxanNnaCcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfc2V0Q2VydEluZm9Kc29uKGNlcnRMaXN0KSB7XHJcbiAgICBmdW5jdGlvbiBnZXREYXRlRm9ybWF0KGQpIHtcclxuICAgICAgICB2YXIgeXkgPSBkLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgdmFyIG1tID0gZC5nZXRNb250aCgpICsgMTtcclxuICAgICAgICB2YXIgZGQgPSBkLmdldERhdGUoKTtcclxuICAgICAgICByZXR1cm4gW3l5LCAobW0gPiA5ID8gJycgOiAnMCcpICsgbW0sIChkZCA+IDkgPyAnJyA6ICcwJykgKyBkZF0uam9pbignLScpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldElzc3Vlck5hbWUoaWQpIHtcclxuICAgICAgICBpZCA9IGlkLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgdmFyIHJzbHQgPSB3ZWJucGtpX2NvbmZpZy5pc3N1ZXJzW2lkXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiByc2x0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmtub3duXCIgOiByc2x0O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjbnQgPSBjZXJ0TGlzdC5sZW5ndGg7XHJcblxyXG4gICAgdmFyIGNlcnRJbmZvT2JqID0ge307XHJcbiAgICBjZXJ0SW5mb09iai5zaXplID0gY250O1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY250OyArK2kpIHtcclxuICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgdmFyIGlkeCA9IChpICsgMSkudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgb2JqLmNuID0gY2VydExpc3RbaV0uZ2V0U3ViamVjdFJETnMoKS5DTjtcclxuICAgICAgICBvYmoudXNlcm5hbWUgPSBjZXJ0TGlzdFtpXS5nZXRTdWJqZWN0UkROcygpLkNOOyAvLyBmb3IgY2VydCBEZXRhaWxcclxuICAgICAgICBvYmouaW5kZXggPSBpZHg7XHJcblxyXG4gICAgICAgIHZhciB0bXAgPSBjZXJ0TGlzdFtpXS5nZXRJc3N1ZXJSRE5zKCkuTztcclxuICAgICAgICB2YXIgaXNzdWVyTmFtZSA9IGdldElzc3Vlck5hbWUodG1wKTtcclxuXHJcbiAgICAgICAgb2JqLmlzc3VlclRvTmFtZSA9IGlzc3Vlck5hbWU7XHJcbiAgICAgICAgb2JqLmlzc3VlclRvU3RyaW5nID0gaXNzdWVyTmFtZTsgLy8gZm9yIGNlcnQgRGV0YWlsXHJcbiAgICAgICAgb2JqLm9pZCA9IGNlcnRMaXN0W2ldLmdldFBvbGljeUlEKCk7XHJcbiAgICAgICAgb2JqLnBvbGljeSA9IGNlcnRMaXN0W2ldLmdldFBvbGljeUlEKCk7IC8vIGZvciBjZXJ0IERldGFpbFxyXG4gICAgICAgIG9iai50b2RhdGUgPSBnZXREYXRlRm9ybWF0KGNlcnRMaXN0W2ldLmdldE5vdEFmdGVyKCkpO1xyXG4gICAgICAgIG9iai52YWxpZGF0ZVRvID0gZ2V0RGF0ZUZvcm1hdChjZXJ0TGlzdFtpXS5nZXROb3RBZnRlcigpKTsgLy8gZm9yIGNlcnQgRGV0YWlsXHJcbiAgICAgICAgb2JqLnZhbGlkYXRlRnJvbSA9IGdldERhdGVGb3JtYXQoY2VydExpc3RbaV0uZ2V0Tm90QmVmb3JlKCkpOyAvLyBmb3IgY2VydCBEZXRhaWxcclxuICAgICAgICBvYmoudXNhZ2VUb05hbWUgPSBjZXJ0TGlzdFtpXS5nZXRQb2xpY3lTdHJpbmcoKTtcclxuICAgICAgICBvYmoucG9saWN5VG9OYW1lID0gY2VydExpc3RbaV0uZ2V0UG9saWN5U3RyaW5nKCk7IC8vIGZvciBjZXJ0IERldGFpbFxyXG4gICAgICAgIG9iai51c2VyRE4gPSBjZXJ0TGlzdFtpXS5nZXRTdWJqZWN0RE4oKTtcclxuICAgICAgICBvYmouaXNzdWVETiA9IGNlcnRMaXN0W2ldLmdldElzc3VlckROKCk7IC8vIGZvciBjZXJ0IERldGFpbFxyXG4gICAgICAgIG9iai52ZXJzaW9uID0gXCJWZXJzaW9uIFwiICsgY2VydExpc3RbaV0uX2ZvLnZlcnNpb247IC8vIGZvciBjZXJ0IERldGFpbFxyXG4gICAgICAgIG9iai5zaWduYXR1cmVBbGdvcml0aG1JRCA9IGNlcnRMaXN0W2ldLmdldFNpZ25BbGdvcml0aG0oKTsgLy8gZm9yIGNlcnQgRGV0YWlsXHJcbiAgICAgICAgb2JqLmtleVNpemUgPSBjZXJ0TGlzdFtpXS5nZXRLZXlTaXplKCk7IC8vIGZvciBjZXJ0IERldGFpbFxyXG4gICAgICAgIG9iai5jZXJ0UGVtID0gY2VydExpc3RbaV0udG9QZW0oKTtcclxuICAgICAgICBvYmouY2VydEhleCA9IGNlcnRMaXN0W2ldLnRvSGV4KCk7XHJcbiAgICAgICAgb2JqLmNlcnRCYXNlNjQgPSBjZXJ0TGlzdFtpXS50b0Jhc2U2NCgpO1xyXG4gICAgICAgIG9iai5zZXJpYWwgPSBjZXJ0TGlzdFtpXS5fZm8uc2VyaWFsTnVtYmVyO1xyXG5cclxuICAgICAgICBjZXJ0SW5mb09ialtpZHhdID0gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjZXJ0SW5mb09iajtcclxufVxyXG5cclxuZnVuY3Rpb24gX2NsZWFyQ2VydEJ1ZmZlcigpIHtcclxuICAgIF9jZXJ0QnVmZmVyID0gdW5kZWZpbmVkO1xyXG4gICAgX2tleUJ1ZmZlciA9IHVuZGVmaW5lZDtcclxuICAgIF9wMTJCdWZmZXIgPSB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9zaG93Q2VydExpc3QoKSB7XHJcbiAgICB3ZWJucGtpLmdldENlcnRpZmljYXRlTGlzdChmdW5jdGlvbihjZXJ0aWZpY2F0ZUxpc3QsIGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIEtJQ0FfQUxFUlQuZXJyb3IoZXJyb3IuY2RvZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjZXJ0aWZpY2F0ZUxpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICQoJ3Rib2R5JykuY2hpbGRyZW4oKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnI2Ryb3B6b25lLXdyYXBwZXInKS5yZW1vdmVDbGFzcygna2ljYS1kLW5vbmUnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAkKCcjZHJvcHpvbmUtd3JhcHBlcicpLmFkZENsYXNzKCdraWNhLWQtbm9uZScpO1xyXG5cclxuICAgICAgICB2YXIgY2VydGlmaWNhdGVMaXN0SlNPTiA9IF9zZXRDZXJ0SW5mb0pzb24oY2VydGlmaWNhdGVMaXN0KTtcclxuXHJcbiAgICAgICAgdmFyIGNlcnRpZmljYXRlTGlzdFJvb3QgPSAkKCcjY2VydC1saXN0Jyk7XHJcbiAgICAgICAgY2VydGlmaWNhdGVMaXN0Um9vdC5odG1sKFwiXCIpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNlcnRpZmljYXRlTGlzdEpTT04uc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjZXJ0aWZpY2F0ZSA9IGNlcnRpZmljYXRlTGlzdEpTT05baSArIDFdO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJvd0NsYXNzID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcm93Q2xhc3MgPSAnY2xhc3M9XCJhY3RpdmVcIic7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKyAxO1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gJCgnPHRyICcgKyByb3dDbGFzcyArICcgaWQ9JyArIGluZGV4ICsgJyBvbmNsaWNrPVwiS0lDQV9ESUFMT0cuc2VsZWN0Q2VydCgnICsgaW5kZXggKyAnKVwiPicpXHJcblxyXG4gICAgICAgICAgICB2YXIgaHRtbCA9ICc8dGQgc2NvcGU9XCJjb2xcIj48c3Bhbj48aSBjbGFzcz1cImljb24tY2VydFwiPjwvaT4nICsgY2VydGlmaWNhdGUudXNhZ2VUb05hbWUgKyAnPC9zcGFuPjwvdGQ+JyArXHJcbiAgICAgICAgICAgICAgICAnPHRkIHNjb3BlPVwiY29sXCI+PHNwYW4+JyArIGNlcnRpZmljYXRlLmNuICsgJzwvc3Bhbj48L3RkPicgK1xyXG4gICAgICAgICAgICAgICAgJzx0ZCBzY29wZT1cImNvbFwiPjxzcGFuIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPicgKyBjZXJ0aWZpY2F0ZS50b2RhdGUgKyAnPC9zcGFuPjwvdGQ+JyArXHJcbiAgICAgICAgICAgICAgICAnPHRkIHNjb3BlPVwiY29sXCI+PHNwYW4+JyArIGNlcnRpZmljYXRlLmlzc3VlclRvTmFtZSArICc8L3NwYW4+PC90ZD4nO1xyXG5cclxuICAgICAgICAgICAgcm93Lmh0bWwoaHRtbCk7XHJcbiAgICAgICAgICAgIHJvdy5kYXRhKCdjZXJ0aWZpY2F0ZScsIGNlcnRpZmljYXRlTGlzdFtpXSk7XHJcbiAgICAgICAgICAgIHJvdy5kYXRhKCdjZXJ0aWZpY2F0ZUpTT04nLCBjZXJ0aWZpY2F0ZSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGNlcnRpZmljYXRlTGlzdFJvb3QuYXBwZW5kKHJvdyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKFwiI2NlcnQtbGlzdC10YWJsZVwiKS5jb2xSZXNpemFibGUoeyBsaXZlRHJhZzogdHJ1ZSB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBWaXJ0YXVsIEtleWJvcmFkXHJcbmZ1bmN0aW9uIF9pbml0X3ZrKGlkKSB7XHJcbiAgICB2YXIgbm9ybWFsID0gW1xyXG4gICAgICAgICdgIDEgMiAzIDQgNSA2IDcgOCA5IDAgLSA9IHtia3NwfScsXHJcbiAgICAgICAgJ3EgdyBlIHIgdCB5IHUgaSBvIHAgWyBdIFxcXFwnLFxyXG4gICAgICAgICdhIHMgZCBmIGcgaCBqIGsgbCA7IFxcJyB7YX0nLFxyXG4gICAgICAgICd7c2hpZnR9IHogeCBjIHYgYiBuIG0gLCAuIC8ge3NoaWZ0fScsXHJcbiAgICBdO1xyXG4gICAgdmFyIHNoaWZ0ID0gW1xyXG4gICAgICAgICd+ICEgQCAjICQgJSBeICYgKiAoICkgXyArIHtia3NwfScsXHJcbiAgICAgICAgJ1EgVyBFIFIgVCBZIFUgSSBPIFAgeyB9IHwnLFxyXG4gICAgICAgICdBIFMgRCBGIEcgSCBKIEsgTCA6IFwiIHthfScsXHJcbiAgICAgICAgJ3tzaGlmdH0gIFogWCBDIFYgQiBOIE0gPCA+ID8ge3NoaWZ0fSAnXHJcbiAgICBdO1xyXG5cclxuICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgIGxheW91dDogJ2N1c3RvbScsXHJcbiAgICAgICAgY3VzdG9tTGF5b3V0OiB7XHJcbiAgICAgICAgICAgICdub3JtYWwnOiBub3JtYWwsXHJcbiAgICAgICAgICAgICdzaGlmdCc6IHNoaWZ0XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkaXNwbGF5OiB7XHJcbiAgICAgICAgICAgICdhJzogJyZuYnNwO0VudGVyJm5ic3A7ICcsXHJcbiAgICAgICAgICAgICdiJzogJ1xcdTIzMmI6QmFja3NwYWNlJyxcclxuICAgICAgICAgICAgJ2Jrc3AnOiAnQmtzcDpCYWNrc3BhY2UnLFxyXG4gICAgICAgICAgICAnYyc6ICdcXHUyNzE2OkNhbmNlbCAoRXNjKScsXHJcbiAgICAgICAgICAgICdjYW5jZWwnOiAnQ2FuY2VsOkNhbmNlbCAoRXNjKScsXHJcbiAgICAgICAgICAgICdzaGlmdCc6ICcmbmJzcDtTaGlmdCZuYnNwOydcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNzczoge1xyXG4gICAgICAgICAgICBidXR0b25EZWZhdWx0OiBcInZrLWJ1dHRvblwiLFxyXG4gICAgICAgICAgICBidXR0b25BY3Rpb246IFwidmstYnV0dG9uLWVudGVyXCIsXHJcbiAgICAgICAgICAgIGJ1dHRvbkFjdGl2ZTogXCJ2ay1idXR0b24tc2hpZnQtZG93blwiLFxyXG4gICAgICAgICAgICBjb250YWluZXI6IFwidmstY29udGFpbmVyXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVzZVByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIHJlcG9zaXRpb246IHRydWUsXHJcbiAgICAgICAgcmVzdHJpY3RJbnB1dDogZmFsc2UsXHJcbiAgICAgICAgYXV0b0FjY2VwdDogdHJ1ZSxcclxuICAgICAgICB1c2VyQ2xvc2VkOiB0cnVlLFxyXG4gICAgICAgIGxvY2tJbnB1dDogdHJ1ZVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAod2VibnBraV9jb25maWcua2V5Ym9hcmRTZWN1cml0eSA9PT0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgICBvcHRpb25zLmJlZm9yZUluc2VydCA9IGZ1bmN0aW9uKGUsIGtleWJvYXJkLCBlbCwgdHh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0eHQuY2hhckNvZGVBdCgwKSA9PT0gOCkge1xyXG4gICAgICAgICAgICAgICAgd2VibnBraS5tb2RpZnlWb3RtZG5qZW0oaWQuc3Vic3RyaW5nKDEpLCBlbC5zZWxlY3Rpb25TdGFydCwgZWwuc2VsZWN0aW9uRW5kLCA4LCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3ZWJucGtpLnNldFZvdG1kbmplbShpZC5zdWJzdHJpbmcoMSksIGVsLnNlbGVjdGlvblN0YXJ0ICsgMSwgdHh0LmNoYXJDb2RlQXQoMCkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgxLCAxMCkgKiAxMTApICUgODMgKyAzMyk7O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2VibnBraS5zZXRWb3RtZG5qZW0oaWQuc3Vic3RyaW5nKDEpKTtcclxuICAgIH1cclxuXHJcbiAgICAkKGlkKS5rZXlib2FyZChvcHRpb25zKTtcclxuICAgICQoaWQpLnZhbCgnJyk7XHJcbiAgICAkKGlkKS5mb2N1cygpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gX2Nsb3NlX3ZrKCkge1xyXG4gICAgWycjcWxhbGZxanNnaCcsICcjaW5wdXQtcGZ4LXFsYWxmcWpzZ2gnXS5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgdmFyIHZrID0gJChpZCkuZ2V0a2V5Ym9hcmQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIHZrICE9PSAndW5kZWZpbmVkJyAmJiB2ay5pc09wZW4pIHsgdmsuY2xvc2UoKTsgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9kZXN0cm95X3ZrKCkge1xyXG4gICAgWycjcWxhbGZxanNnaCcsICcjaW5wdXQtcGZ4LXFsYWxmcWpzZ2gnXS5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgdmFyIHZrID0gJChpZCkuZ2V0a2V5Ym9hcmQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIHZrICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB2ay5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKCcjdmtleWJvYXJkLXRvZ2dsZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIF9kb3dubG9hZChocmVmLCBmaWxlTmFtZSkge1xyXG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgYS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xyXG5cclxuICAgIC8vIFNldCB0aGUgSFJFRiB0byBhIEJsb2IgcmVwcmVzZW50YXRpb24gb2YgdGhlIGRhdGEgdG8gYmUgZG93bmxvYWRlZFxyXG4gICAgYS5ocmVmID0gaHJlZjtcclxuXHJcbiAgICAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIHRvIHNldCBzZXQgZGVzaXJlZCBmaWxlIG5hbWVcclxuICAgIGEuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgZmlsZU5hbWUpO1xyXG5cclxuICAgIC8vIFRyaWdnZXIgdGhlIGRvd25sb2FkIGJ5IHNpbXVsYXRpbmcgY2xpY2tcclxuICAgIGEuY2xpY2soKTtcclxuXHJcbiAgICAvLyBDbGVhbnVwXHJcbiAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2dldE9TKCkge1xyXG4gICAgdmFyIHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LFxyXG4gICAgICAgIHBsYXRmb3JtID0gd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSxcclxuICAgICAgICBtYWNvc1BsYXRmb3JtcyA9IFsnTWFjaW50b3NoJywgJ01hY0ludGVsJywgJ01hY1BQQycsICdNYWM2OEsnXSxcclxuICAgICAgICB3aW5kb3dzUGxhdGZvcm1zID0gWydXaW4zMicsICdXaW42NCcsICdXaW5kb3dzJywgJ1dpbkNFJ10sXHJcbiAgICAgICAgaW9zUGxhdGZvcm1zID0gWydpUGhvbmUnLCAnaVBhZCcsICdpUG9kJ10sXHJcbiAgICAgICAgb3MgPSBudWxsO1xyXG5cclxuICAgIGlmIChtYWNvc1BsYXRmb3Jtcy5pbmRleE9mKHBsYXRmb3JtKSAhPT0gLTEpIHtcclxuICAgICAgICBvcyA9ICdNYWMgT1MnO1xyXG4gICAgfSBlbHNlIGlmIChpb3NQbGF0Zm9ybXMuaW5kZXhPZihwbGF0Zm9ybSkgIT09IC0xKSB7XHJcbiAgICAgICAgb3MgPSAnaU9TJztcclxuICAgIH0gZWxzZSBpZiAod2luZG93c1BsYXRmb3Jtcy5pbmRleE9mKHBsYXRmb3JtKSAhPT0gLTEpIHtcclxuICAgICAgICBvcyA9ICdXaW5kb3dzJztcclxuICAgIH0gZWxzZSBpZiAoL0FuZHJvaWQvLnRlc3QodXNlckFnZW50KSkge1xyXG4gICAgICAgIG9zID0gJ0FuZHJvaWQnO1xyXG4gICAgfSBlbHNlIGlmICghb3MgJiYgL0xpbnV4Ly50ZXN0KHBsYXRmb3JtKSkge1xyXG4gICAgICAgIG9zID0gJ0xpbnV4JztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3M7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtJQ0FfRElBTE9HOyIsInZhciBTd2FsID0gcmVxdWlyZSgnc3dlZXRhbGVydDInKVxyXG5cclxuZnVuY3Rpb24gS0lDQV9BTEVSVCAoKSB7XHJcbiAgICB2YXIgb2JqZWN0ID0ge307XHJcblxyXG4gICAgb2JqZWN0LmFsZXJ0ID0gZnVuY3Rpb24odGl0bGUsIHRleHQsIG9wdGlvbnMpe1xyXG4gICAgICAgIHZhciBhbGVydE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGljb246ICdpbmZvJyxcclxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LCBcclxuICAgICAgICB9ICAgICAgICBcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucyAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTsgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgYWxlcnRPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgU3dhbC5maXJlKGFsZXJ0T3B0aW9ucyk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvYmplY3QuZXJyb3IgPSBmdW5jdGlvbiAodGl0bGUsIHRleHQsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZih3ZWJucGtpX2NvbmZpZy5hbGVydCA8IDEpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYWxlcnRPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBpY29uOiAnZXJyb3InLFxyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsIFxyXG4gICAgICAgIH0gICAgICAgIFxyXG5cclxuICAgICAgICBpZihvcHRpb25zICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpOyAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICBhbGVydE9wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBTd2FsLmZpcmUoYWxlcnRPcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBvYmplY3QuaW5mbyA9IGZ1bmN0aW9uICh0aXRsZSwgdGV4dCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmKHdlYm5wa2lfY29uZmlnLmFsZXJ0IDwgMil7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBhbGVydE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGljb246ICdpbmZvJyxcclxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LCBcclxuICAgICAgICB9ICAgICAgICBcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucyAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTsgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgYWxlcnRPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgU3dhbC5maXJlKGFsZXJ0T3B0aW9ucyk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvYmplY3Quc3VjY2VzcyA9IGZ1bmN0aW9uICh0aXRsZSwgdGV4dCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmKHdlYm5wa2lfY29uZmlnLmFsZXJ0IDwgMil7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBhbGVydE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGljb246ICdzdWNjZXNzJyxcclxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LCBcclxuICAgICAgICB9ICAgICAgICBcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucyAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTsgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgYWxlcnRPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgU3dhbC5maXJlKGFsZXJ0T3B0aW9ucyk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvYmplY3Qud2FybiA9IGZ1bmN0aW9uICh0aXRsZSwgdGV4dCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmKHdlYm5wa2lfY29uZmlnLmFsZXJ0IDwgMyl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBhbGVydE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsIFxyXG4gICAgICAgIH0gICAgICAgIFxyXG5cclxuICAgICAgICBpZihvcHRpb25zICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpOyAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICBhbGVydE9wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBTd2FsLmZpcmUoYWxlcnRPcHRpb25zKTsgICAgICAgIFxyXG4gICAgfVxyXG4gICAgb2JqZWN0LmRlbGNlckFsZXJ0ID0gZnVuY3Rpb24ocmV0c2VsZWN0KXtcclxuXHJcbiAgICAgICAgLy8gdmFyIG9wID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgIFxyXG4gICAgICAgICB2YXIgYWxlcnRPcHRpb25zID0gIHtcclxuICAgICAgICAgICAgICB0aXRsZTogS0lDQV9DT1JQVVMuREVMRVRFX0NFUlRJRklDQVRFX1FVRVNUSU9OX1RJVExFLCBcclxuICAgICAgICAgICAgICB0ZXh0OiBLSUNBX0NPUlBVUy5ERUxFVEVfQ0VSVElGSUNBVEVfUVVFU1RJT05fVEVYVCxcclxuICAgICAgICAgICAgICBpY29uOiBcIndhcm5pbmdcIixcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgYnV0dG9ucyA6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maXJtIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbCA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogXCIjZDMzXCIsXHJcbiAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjMzA4NWQ2XCIsXHJcbiAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBLSUNBX0NPUlBVUy5ERUxFVEVfQ0VSVElGSUNBVEVfQlVUVE9OX0NPTkZJUk0sXHJcbiAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IEtJQ0FfQ09SUFVTLkRFTEVURV9DRVJUSUZJQ0FURV9CVVRUT05fQ0FOQ0xFXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZShhbGVydE9wdGlvbnMpO1xyXG5cclxuICAgICAgIH1cclxuICAgIHJldHVybiBvYmplY3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtJQ0FfQUxFUlQoKTsiLCJmdW5jdGlvbiBLSUNBX0xPR0dFUiAoKSB7XHJcbiAgICB2YXIgb2JqZWN0ID0ge307XHJcblxyXG4gICAgb2JqZWN0LmRlYnVnID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBpZih3ZWJucGtpX2NvbmZpZy5sb2cgPCAzKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmRlYnVnKGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqZWN0LmVycm9yID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBpZih3ZWJucGtpX2NvbmZpZy5sb2dnZXIgPCAxKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmVycm9yKGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqZWN0LmluZm8gPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKHdlYm5wa2lfY29uZmlnLmxvZ2dlciA8IDIpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUuaW5mbyhhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9iamVjdC5sb2cgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKHdlYm5wa2lfY29uZmlnLmxvZ2dlciA8IDMpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqZWN0Lndhcm4gPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKHdlYm5wa2lfY29uZmlnLmxvZ2dlciA8IDMpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUud2Fybihhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9iamVjdC5kaXIgPSBmdW5jdGlvbihvYmplY3Qpe1xyXG4gICAgICAgIGlmKHdlYm5wa2lfY29uZmlnLmxvZ2dlciA8IDIpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUuZGlyKG9iamVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqZWN0Lmdyb3VwID0gZnVuY3Rpb24obWVzc2FnZSl7XHJcbiAgICAgICAgaWYod2VibnBraV9jb25maWcubG9nZ2VyIDwgMyl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5ncm91cChtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBvYmplY3QuZ3JvdXBFbmQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKHdlYm5wa2lfY29uZmlnLmxvZ2dlciA8IDMpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmV0dXJuIG9iamVjdDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgS0lDQV9MT0dHRVIoKTsiLCJpbXBvcnQgJy4vdmVuZG9yL2pxdWVyeS9qcXVlcnkua2V5Ym9hcmQnXHJcbmltcG9ydCAnLi92ZW5kb3IvanF1ZXJ5L2NvbFJlc2l6YWJsZS0xLjYnXHJcblxyXG4vLyBDU1NcclxuaW1wb3J0ICcuL2Nzcy9kaWFsb2cuY3NzJ1xyXG5pbXBvcnQgJy4vY3NzL2tleWJvYXJkLWJhc2ljLmNzcydcclxuXHJcbmltcG9ydCBfS0lDQV9ESUFMT0cgZnJvbSAnLi9qcy9ldmVudCdcclxuaW1wb3J0IF9LSUNBX0FMRVJUIGZyb20gJy4vanMvYWxlcnQnXHJcbmltcG9ydCBfS0lDQV9MT0dHRVIgZnJvbSAnLi9qcy9sb2dnZXInXHJcbmltcG9ydCBQREZPYmplY3QgZnJvbSAnLi92ZW5kb3IvcGRmT2JqZWN0L3BkZm9iamVjdC5taW4nXHJcblxyXG52YXIgX2kxOG4gPSByZXF1aXJlKFwiLi9sYW5nL2kxOG5cIik7XHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICB3aW5kb3cuS0lDQV9ESUFMT0cgPSBfS0lDQV9ESUFMT0c7XHJcbiAgICB3aW5kb3cuS0lDQV9BTEVSVCA9IF9LSUNBX0FMRVJUO1xyXG4gICAgd2luZG93LktJQ0FfTE9HR0VSID0gX0tJQ0FfTE9HR0VSO1xyXG4gICAgd2luZG93LlBERk9iamVjdCA9IFBERk9iamVjdDtcclxuXHJcbiAgICBfaTE4bi5zZXRMYW5ndWFnZSh3ZWJucGtpX2NvbmZpZy5sYW5ndWFnZSwgZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgS0lDQV9MT0dHRVIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICBLSUNBX0FMRVJULmVycm9yKFwiTEFOR1VBR0VfTk9UX1NVUFBPUlRFRFwiLCBlcnJvciwgeyAnZm9vdGVyJzogJ1N1cHBvcnRlZCBsYW5ndWFnZSBjb2RlcyBhcmUgWyA8Yj4gS08sIEVOLCBhbmQgRlI8L2I+XS4nIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBLSUNBX0xPR0dFUi5pbmZvKEtJQ0FfQ09SUFVTKTtcclxuICAgICAgICBcclxuICAgICAgICBLSUNBX0RJQUxPRy5jcmVhdGVEaWFsb2coKTtcclxuICAgICAgICBLSUNBX0RJQUxPRy5lbmFibGVLZXlib2FyZFNlY3VyaXR5KCk7ICAgICAgICBcclxuICAgIH0pO1xyXG4gICAgS0lDQV9MT0dHRVIuZ3JvdXBFbmQoKTtcclxufSkoKTsgIl0sInNvdXJjZVJvb3QiOiIifQ==